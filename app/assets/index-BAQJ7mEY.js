function GN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var PU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var K1={exports:{}},_n={};var bb;function KN(){if(bb)return _n;bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function b(Z){return Z===null||typeof Z!="object"?null:(Z=A&&Z[A]||Z["@@iterator"],typeof Z=="function"?Z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,j={};function B(Z,V,W){this.props=Z,this.context=V,this.refs=j,this.updater=W||M}B.prototype.isReactComponent={},B.prototype.setState=function(Z,V){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,V,"setState")},B.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function K(){}K.prototype=B.prototype;function G(Z,V,W){this.props=Z,this.context=V,this.refs=j,this.updater=W||M}var X=G.prototype=new K;X.constructor=G,U(X,B.prototype),X.isPureReactComponent=!0;var me=Array.isArray;function fe(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function C(Z,V,W){var ee=W.ref;return{$$typeof:n,type:Z,key:V,ref:ee!==void 0?ee:null,props:W}}function F(Z,V){return C(Z.type,V,Z.props)}function T(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function L(Z){var V={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(W){return V[W]})}var D=/\/+/g;function ne(Z,V){return typeof Z=="object"&&Z!==null&&Z.key!=null?L(""+Z.key):V.toString(36)}function Ee(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(fe,fe):(Z.status="pending",Z.then(function(V){Z.status==="pending"&&(Z.status="fulfilled",Z.value=V)},function(V){Z.status==="pending"&&(Z.status="rejected",Z.reason=V)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function ie(Z,V,W,ee,le){var he=typeof Z;(he==="undefined"||he==="boolean")&&(Z=null);var be=!1;if(Z===null)be=!0;else switch(he){case"bigint":case"string":case"number":be=!0;break;case"object":switch(Z.$$typeof){case n:case e:be=!0;break;case g:return be=Z._init,ie(be(Z._payload),V,W,ee,le)}}if(be)return le=le(Z),be=ee===""?"."+ne(Z,0):ee,me(le)?(W="",be!=null&&(W=be.replace(D,"$&/")+"/"),ie(le,V,W,"",function(Pe){return Pe})):le!=null&&(T(le)&&(le=F(le,W+(le.key==null||Z&&Z.key===le.key?"":(""+le.key).replace(D,"$&/")+"/")+be)),V.push(le)),1;be=0;var Re=ee===""?".":ee+":";if(me(Z))for(var pe=0;pe<Z.length;pe++)ee=Z[pe],he=Re+ne(ee,pe),be+=ie(ee,V,W,he,le);else if(pe=b(Z),typeof pe=="function")for(Z=pe.call(Z),pe=0;!(ee=Z.next()).done;)ee=ee.value,he=Re+ne(ee,pe++),be+=ie(ee,V,W,he,le);else if(he==="object"){if(typeof Z.then=="function")return ie(Ee(Z),V,W,ee,le);throw V=String(Z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return be}function ve(Z,V,W){if(Z==null)return Z;var ee=[],le=0;return ie(Z,ee,"","",function(he){return V.call(W,he,le++)}),ee}function ue(Z){if(Z._status===-1){var V=Z._result;V=V(),V.then(function(W){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=W)},function(W){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=W)}),Z._status===-1&&(Z._status=0,Z._result=V)}if(Z._status===1)return Z._result.default;throw Z._result}var xe=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Fe={map:ve,forEach:function(Z,V,W){ve(Z,function(){V.apply(this,arguments)},W)},count:function(Z){var V=0;return ve(Z,function(){V++}),V},toArray:function(Z){return ve(Z,function(V){return V})||[]},only:function(Z){if(!T(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return _n.Activity=w,_n.Children=Fe,_n.Component=B,_n.Fragment=t,_n.Profiler=a,_n.PureComponent=G,_n.StrictMode=r,_n.Suspense=f,_n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_n.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return I.H.useMemoCache(Z)}},_n.cache=function(Z){return function(){return Z.apply(null,arguments)}},_n.cacheSignal=function(){return null},_n.cloneElement=function(Z,V,W){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var ee=U({},Z.props),le=Z.key;if(V!=null)for(he in V.key!==void 0&&(le=""+V.key),V)!k.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(ee[he]=V[he]);var he=arguments.length-2;if(he===1)ee.children=W;else if(1<he){for(var be=Array(he),Re=0;Re<he;Re++)be[Re]=arguments[Re+2];ee.children=be}return C(Z.type,le,ee)},_n.createContext=function(Z){return Z={$$typeof:u,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},_n.createElement=function(Z,V,W){var ee,le={},he=null;if(V!=null)for(ee in V.key!==void 0&&(he=""+V.key),V)k.call(V,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=V[ee]);var be=arguments.length-2;if(be===1)le.children=W;else if(1<be){for(var Re=Array(be),pe=0;pe<be;pe++)Re[pe]=arguments[pe+2];le.children=Re}if(Z&&Z.defaultProps)for(ee in be=Z.defaultProps,be)le[ee]===void 0&&(le[ee]=be[ee]);return C(Z,he,le)},_n.createRef=function(){return{current:null}},_n.forwardRef=function(Z){return{$$typeof:c,render:Z}},_n.isValidElement=T,_n.lazy=function(Z){return{$$typeof:g,_payload:{_status:-1,_result:Z},_init:ue}},_n.memo=function(Z,V){return{$$typeof:d,type:Z,compare:V===void 0?null:V}},_n.startTransition=function(Z){var V=I.T,W={};I.T=W;try{var ee=Z(),le=I.S;le!==null&&le(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(fe,xe)}catch(he){xe(he)}finally{V!==null&&W.types!==null&&(V.types=W.types),I.T=V}},_n.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_n.use=function(Z){return I.H.use(Z)},_n.useActionState=function(Z,V,W){return I.H.useActionState(Z,V,W)},_n.useCallback=function(Z,V){return I.H.useCallback(Z,V)},_n.useContext=function(Z){return I.H.useContext(Z)},_n.useDebugValue=function(){},_n.useDeferredValue=function(Z,V){return I.H.useDeferredValue(Z,V)},_n.useEffect=function(Z,V){return I.H.useEffect(Z,V)},_n.useEffectEvent=function(Z){return I.H.useEffectEvent(Z)},_n.useId=function(){return I.H.useId()},_n.useImperativeHandle=function(Z,V,W){return I.H.useImperativeHandle(Z,V,W)},_n.useInsertionEffect=function(Z,V){return I.H.useInsertionEffect(Z,V)},_n.useLayoutEffect=function(Z,V){return I.H.useLayoutEffect(Z,V)},_n.useMemo=function(Z,V){return I.H.useMemo(Z,V)},_n.useOptimistic=function(Z,V){return I.H.useOptimistic(Z,V)},_n.useReducer=function(Z,V,W){return I.H.useReducer(Z,V,W)},_n.useRef=function(Z){return I.H.useRef(Z)},_n.useState=function(Z){return I.H.useState(Z)},_n.useSyncExternalStore=function(Z,V,W){return I.H.useSyncExternalStore(Z,V,W)},_n.useTransition=function(){return I.H.useTransition()},_n.version="19.2.4",_n}var _b;function Q2(){return _b||(_b=1,K1.exports=KN()),K1.exports}var ye=Q2();const x=A4(ye),YN=GN({__proto__:null,default:x},[ye]);var Y1={exports:{}},td={},W1={exports:{}},$1={};var wb;function WN(){return wb||(wb=1,(function(n){function e(ie,ve){var ue=ie.length;ie.push(ve);e:for(;0<ue;){var xe=ue-1>>>1,Fe=ie[xe];if(0<a(Fe,ve))ie[xe]=ve,ie[ue]=Fe,ue=xe;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ve=ie[0],ue=ie.pop();if(ue!==ve){ie[0]=ue;e:for(var xe=0,Fe=ie.length,Z=Fe>>>1;xe<Z;){var V=2*(xe+1)-1,W=ie[V],ee=V+1,le=ie[ee];if(0>a(W,ue))ee<Fe&&0>a(le,W)?(ie[xe]=le,ie[ee]=ue,xe=ee):(ie[xe]=W,ie[V]=ue,xe=V);else if(ee<Fe&&0>a(le,ue))ie[xe]=le,ie[ee]=ue,xe=ee;else break e}}return ve}function a(ie,ve){var ue=ie.sortIndex-ve.sortIndex;return ue!==0?ue:ie.id-ve.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,w=null,A=3,b=!1,M=!1,U=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function X(ie){for(var ve=t(d);ve!==null;){if(ve.callback===null)r(d);else if(ve.startTime<=ie)r(d),ve.sortIndex=ve.expirationTime,e(f,ve);else break;ve=t(d)}}function me(ie){if(U=!1,X(ie),!M)if(t(f)!==null)M=!0,fe||(fe=!0,L());else{var ve=t(d);ve!==null&&Ee(me,ve.startTime-ie)}}var fe=!1,I=-1,k=5,C=-1;function F(){return j?!0:!(n.unstable_now()-C<k)}function T(){if(j=!1,fe){var ie=n.unstable_now();C=ie;var ve=!0;try{e:{M=!1,U&&(U=!1,K(I),I=-1),b=!0;var ue=A;try{t:{for(X(ie),w=t(f);w!==null&&!(w.expirationTime>ie&&F());){var xe=w.callback;if(typeof xe=="function"){w.callback=null,A=w.priorityLevel;var Fe=xe(w.expirationTime<=ie);if(ie=n.unstable_now(),typeof Fe=="function"){w.callback=Fe,X(ie),ve=!0;break t}w===t(f)&&r(f),X(ie)}else r(f);w=t(f)}if(w!==null)ve=!0;else{var Z=t(d);Z!==null&&Ee(me,Z.startTime-ie),ve=!1}}break e}finally{w=null,A=ue,b=!1}ve=void 0}}finally{ve?L():fe=!1}}}var L;if(typeof G=="function")L=function(){G(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ne=D.port2;D.port1.onmessage=T,L=function(){ne.postMessage(null)}}else L=function(){B(T,0)};function Ee(ie,ve){I=B(function(){ie(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ie){switch(A){case 1:case 2:case 3:var ve=3;break;default:ve=A}var ue=A;A=ve;try{return ie()}finally{A=ue}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(ie,ve){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=A;A=ie;try{return ve()}finally{A=ue}},n.unstable_scheduleCallback=function(ie,ve,ue){var xe=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?xe+ue:xe):ue=xe,ie){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ue+Fe,ie={id:g++,callback:ve,priorityLevel:ie,startTime:ue,expirationTime:Fe,sortIndex:-1},ue>xe?(ie.sortIndex=ue,e(d,ie),t(f)===null&&ie===t(d)&&(U?(K(I),I=-1):U=!0,Ee(me,ue-xe))):(ie.sortIndex=Fe,e(f,ie),M||b||(M=!0,fe||(fe=!0,L()))),ie},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(ie){var ve=A;return function(){var ue=A;A=ve;try{return ie.apply(this,arguments)}finally{A=ue}}}})($1)),$1}var Eb;function $N(){return Eb||(Eb=1,W1.exports=WN()),W1.exports}var Q1={exports:{}},Ea={};var Ab;function QN(){if(Ab)return Ea;Ab=1;var n=Q2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ea.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ea.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Ea.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Ea.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Ea.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ea.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ea.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Ea.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ea.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Ea.requestFormReset=function(f){r.d.r(f)},Ea.unstable_batchedUpdates=function(f,d){return f(d)},Ea.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Ea.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ea.version="19.2.4",Ea}var Sb;function S4(){if(Sb)return Q1.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Q1.exports=QN(),Q1.exports}var Nb;function XN(){if(Nb)return td;Nb=1;var n=$N(),e=Q2(),t=S4();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return f(y),i;if(_===h)return f(y),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=_;else{for(var P=!1,$=y.child;$;){if($===l){P=!0,l=y,h=_;break}if($===h){P=!0,h=y,l=_;break}$=$.sibling}if(!P){for($=_.child;$;){if($===l){P=!0,l=_,h=y;break}if($===h){P=!0,h=_,l=y;break}$=$.sibling}if(!P)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case B:return"Profiler";case j:return"StrictMode";case me:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case G:return i.displayName||"Context";case K:return(i._context.displayName||"Context")+".Consumer";case X:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:ne(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return ne(i(s))}catch{}}return null}var Ee=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},xe=[],Fe=-1;function Z(i){return{current:i}}function V(i){0>Fe||(i.current=xe[Fe],xe[Fe]=null,Fe--)}function W(i,s){Fe++,xe[Fe]=i.current,i.current=s}var ee=Z(null),le=Z(null),he=Z(null),be=Z(null);function Re(i,s){switch(W(he,s),W(le,i),W(ee,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?z5(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=z5(s),i=q5(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}V(ee),W(ee,i)}function pe(){V(ee),V(le),V(he)}function Pe(i){i.memoizedState!==null&&W(be,i);var s=ee.current,l=q5(s,i.type);s!==l&&(W(le,i),W(ee,l))}function Ke(i){le.current===i&&(V(ee),V(le)),be.current===i&&(V(be),Xf._currentValue=ue)}var $e,it;function dt(i){if($e===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$e=s&&s[1]||"",it=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+i+it}var re=!1;function at(i,s){if(!i||re)return"";re=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(je){var Ve=je}Reflect.construct(i,[],Xe)}else{try{Xe.call()}catch(je){Ve=je}i.call(Xe.prototype)}}else{try{throw Error()}catch(je){Ve=je}(Xe=i())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(je){if(je&&Ve&&typeof je.stack=="string")return[je.stack,Ve.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),P=_[0],$=_[1];if(P&&$){var de=P.split(`
`),Oe=$.split(`
`);for(y=h=0;h<de.length&&!de[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Oe.length&&!Oe[y].includes("DetermineComponentFrameRoot");)y++;if(h===de.length||y===Oe.length)for(h=de.length-1,y=Oe.length-1;1<=h&&0<=y&&de[h]!==Oe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(de[h]!==Oe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||de[h]!==Oe[y]){var Ge=`
`+de[h].replace(" at new "," at ");return i.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",i.displayName)),Ge}while(1<=h&&0<=y);break}}}finally{re=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?dt(l):""}function en(i,s){switch(i.tag){case 26:case 27:case 5:return dt(i.type);case 16:return dt("Lazy");case 13:return i.child!==s&&s!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return at(i.type,!1);case 11:return at(i.type.render,!1);case 1:return at(i.type,!0);case 31:return dt("Activity");default:return""}}function wt(i){try{var s="",l=null;do s+=en(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Be=Object.prototype.hasOwnProperty,ht=n.unstable_scheduleCallback,ft=n.unstable_cancelCallback,Rt=n.unstable_shouldYield,Tt=n.unstable_requestPaint,Ht=n.unstable_now,tn=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,sn=n.unstable_UserBlockingPriority,Ft=n.unstable_NormalPriority,gt=n.unstable_LowPriority,an=n.unstable_IdlePriority,It=n.log,ur=n.unstable_setDisableYieldValue,dn=null,St=null;function $t(i){if(typeof It=="function"&&ur(i),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(dn,i)}catch{}}var on=Math.clz32?Math.clz32:Gt,Ut=Math.log,Fn=Math.LN2;function Gt(i){return i>>>=0,i===0?32:31-(Ut(i)/Fn|0)|0}var jt=256,zn=262144,Dt=4194304;function Mt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vn(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,_=i.suspendedLanes,P=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~_,h!==0?y=Mt(h):(P&=$,P!==0?y=Mt(P):l||(l=$&~i,l!==0&&(y=Mt(l))))):($=h&~_,$!==0?y=Mt($):P!==0?y=Mt(P):l||(l=h&~i,l!==0&&(y=Mt(l)))),y===0?0:s!==0&&s!==y&&(s&_)===0&&(_=y&-y,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:y}function fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function $r(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(){var i=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),i}function Pr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Vt(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ka(i,s,l,h,y,_){var P=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,de=i.expirationTimes,Oe=i.hiddenUpdates;for(l=P&~l;0<l;){var Ge=31-on(l),Xe=1<<Ge;$[Ge]=0,de[Ge]=-1;var Ve=Oe[Ge];if(Ve!==null)for(Oe[Ge]=null,Ge=0;Ge<Ve.length;Ge++){var je=Ve[Ge];je!==null&&(je.lane&=-536870913)}l&=~Xe}h!==0&&Pi(i,h,0),_!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=_&~(P&~s))}function Pi(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-on(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ce(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-on(l),y=1<<h;y&s|i[h]&s&&(i[h]|=s),l&=~y}}function Se(i,s){var l=s&-s;return l=(l&42)!==0?1:Ce(l),(l&(i.suspendedLanes|s))!==0?0:l}function Ce(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ye(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nt(){var i=ve.p;return i!==0?i:(i=window.event,i===void 0?32:fb(i.type))}function mt(i,s){var l=ve.p;try{return ve.p=i,s()}finally{ve.p=l}}var ut=Math.random().toString(36).slice(2),ot="__reactFiber$"+ut,lt="__reactProps$"+ut,pt="__reactContainer$"+ut,Nt="__reactEvents$"+ut,yt="__reactListeners$"+ut,gn="__reactHandles$"+ut,cn="__reactResources$"+ut,Mn="__reactMarker$"+ut;function Zn(i){delete i[ot],delete i[lt],delete i[Nt],delete i[yt],delete i[gn]}function Qn(i){var s=i[ot];if(s)return s;for(var l=i.parentNode;l;){if(s=l[pt]||l[ot]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Q5(i);i!==null;){if(l=i[ot])return l;i=Q5(i)}return s}i=l,l=i.parentNode}return null}function hn(i){if(i=i[ot]||i[pt]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function cr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function zr(i){var s=i[cn];return s||(s=i[cn]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ar(i){i[Mn]=!0}var Di=new Set,dr={};function Ai(i,s){di(i,s),di(i+"Capture",s)}function di(i,s){for(dr[i]=s,i=0;i<s.length;i++)Di.add(s[i])}var Mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pa={},Da={};function An(i){return Be.call(Da,i)?!0:Be.call(Pa,i)?!1:Mi.test(i)?Da[i]=!0:(Pa[i]=!0,!1)}function Gn(i,s,l){if(An(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Tr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function er(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function Ot(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wi(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Oi(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,_=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(P){l=""+P,_.call(this,P)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(P){l=""+P},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Rn(i){if(!i._valueTracker){var s=Wi(i)?"checked":"value";i._valueTracker=Oi(i,s,""+i[s])}}function Rs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=Wi(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Qr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Cr=/[\n"\\]/g;function qr(i){return i.replace(Cr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zs(i,s,l,h,y,_,P,$){i.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.type=P:i.removeAttribute("type"),s!=null?P==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ot(s)):i.value!==""+Ot(s)&&(i.value=""+Ot(s)):P!=="submit"&&P!=="reset"||i.removeAttribute("value"),s!=null?ul(i,P,Ot(s)):l!=null?ul(i,P,Ot(l)):h!=null&&i.removeAttribute("value"),y==null&&_!=null&&(i.defaultChecked=!!_),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Ot($):i.removeAttribute("name")}function Xl(i,s,l,h,y,_,P,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Rn(i);return}l=l!=null?""+Ot(l):"",s=s!=null?""+Ot(s):l,$||s===i.value||(i.value=s),i.defaultValue=s}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(i.name=P),Rn(i)}function ul(i,s,l){s==="number"&&Qr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ui(i,s,l,h){if(i=i.options,s){s={};for(var y=0;y<l.length;y++)s["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=s.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ot(l),s=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function cl(i,s,l){if(s!=null&&(s=""+Ot(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Ot(l):""}function ds(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=Ot(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Rn(i)}function mi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||Is.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function fl(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in s)h=s[y],s.hasOwnProperty(y)&&l[y]!==h&&hl(i,y,h)}else for(var _ in s)s.hasOwnProperty(_)&&hl(i,_,s[_])}function Co(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(i){return ms.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ma(){}var ps=null;function Qi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ls=null,Yt=null;function eo(i){var s=hn(i);if(s&&(i=s.stateNode)){var l=i[lt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Zs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var y=h[lt]||null;if(!y)throw Error(r(90));Zs(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Rs(h)}break e;case"textarea":cl(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ui(i,!!l.multiple,s,!1)}}}var Io=!1;function ks(i,s,l){if(Io)return i(s,l);Io=!0;try{var h=i(s);return h}finally{if(Io=!1,(Ls!==null||Yt!==null)&&(Cm(),Ls&&(s=Ls,i=Yt,Yt=Ls=null,eo(s),i)))for(s=0;s<i.length;s++)eo(i[s])}}function pi(i,s){var l=i.stateNode;if(l===null)return null;var h=l[lt]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=!1;if(ri)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){to=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{to=!1}var sa=null,no=null,Oa=null;function dl(){if(Oa)return Oa;var i,s=no,l=s.length,h,y="value"in sa?sa.value:sa.textContent,_=y.length;for(i=0;i<l&&s[i]===y[i];i++);var P=l-i;for(h=1;h<=P&&s[l-h]===y[_-h];h++);return Oa=y.slice(i,1<h?1-h:void 0)}function oa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gs(){return!0}function la(){return!1}function Xr(i){function s(l,h,y,_,P){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?gs:la,this.isPropagationStopped=la,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),s}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Xr(Ha),Ga=w({},Ha,{view:0,detail:0}),Ps=Xr(Ga),Ka,Ya,ba,ro=w({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ba&&(ba&&i.type==="mousemove"?(Ka=i.screenX-ba.screenX,Ya=i.screenY-ba.screenY):Ya=Ka=0,ba=i),Ka)},movementY:function(i){return"movementY"in i?i.movementY:Ya}}),Lo=Xr(ro),ua=w({},ro,{dataTransfer:0}),Wa=Xr(ua),ml=w({},Ga,{relatedTarget:0}),Ua=Xr(ml),ko=w({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),E=Xr(ko),z=w({},Ha,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),se=Xr(z),ge=w({},Ha,{data:0}),Ne=Xr(ge),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Et={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Et[i])?!!s[i]:!1}function Qt(){return Lt}var zt=w({},Ga,{key:function(i){if(i.key){var s=He[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?et[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qt,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),In=Xr(zt),_r=w({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Xr(_r),p=w({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qt}),N=Xr(p),O=w({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=Xr(O),Ie=w({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Xr(Ie),st=w({},Ha,{newState:0,oldState:0}),fn=Xr(st),wr=[9,13,27,32],xn=ri&&"CompositionEvent"in window,nr=null;ri&&"documentMode"in document&&(nr=document.documentMode);var Ni=ri&&"TextEvent"in window&&!nr,Vi=ri&&(!xn||nr&&8<nr&&11>=nr),mr=" ",Bi=!1;function Va(i,s){switch(i){case"keyup":return wr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ms=!1;function ca(i,s){switch(i){case"compositionend":return Ds(s);case"keypress":return s.which!==32?null:(Bi=!0,mr);case"textInput":return i=s.data,i===mr&&Bi?null:i;default:return null}}function io(i,s){if(Ms)return i==="compositionend"||!xn&&Va(i,s)?(i=dl(),Oa=no=sa=null,Ms=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vi&&s.locale!=="ko"?null:s.data;default:return null}}var Jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Jl[i.type]:s==="textarea"}function Ba(i,s,l,h){Ls?Yt?Yt.push(h):Yt=[h]:Ls=h,s=Mm(s,"onChange"),0<s.length&&(l=new Si("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var ys=null,ao=null;function ac(i){O5(i,0)}function vs(i){var s=cr(i);if(Rs(s))return i}function Po(i,s){if(i==="change")return s}var _a=!1;if(ri){var ha;if(ri){var Os="oninput"in document;if(!Os){var Us=document.createElement("div");Us.setAttribute("oninput","return;"),Os=typeof Us.oninput=="function"}ha=Os}else ha=!1;_a=ha&&(!document.documentMode||9<document.documentMode)}function so(){ys&&(ys.detachEvent("onpropertychange",Zl),ao=ys=null)}function Zl(i){if(i.propertyName==="value"&&vs(ao)){var s=[];Ba(s,ao,i,Qi(i)),ks(ac,s)}}function eu(i,s,l){i==="focusin"?(so(),ys=s,ao=l,ys.attachEvent("onpropertychange",Zl)):i==="focusout"&&so()}function Jr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vs(ao)}function Yc(i,s){if(i==="click")return vs(s)}function Vs(i,s){if(i==="input"||i==="change")return vs(s)}function Bs(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ji=typeof Object.is=="function"?Object.is:Bs;function oo(i,s){if(ji(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!Be.call(s,y)||!ji(i[y],s[y]))return!1}return!0}function tu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nu(i,s){var l=tu(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tu(l)}}function lo(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?lo(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function uo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Qr(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Qr(i.document)}return s}function js(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var pl=ri&&"documentMode"in document&&11>=document.documentMode,ja=null,co=null,Xi=null,$a=!1;function Xn(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$a||ja==null||ja!==Qr(h)||(h=ja,"selectionStart"in h&&js(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xi&&oo(Xi,h)||(Xi=h,h=Mm(co,"onSelect"),0<h.length&&(s=new Si("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=ja)))}function qn(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Er={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionrun:qn("Transition","TransitionRun"),transitionstart:qn("Transition","TransitionStart"),transitioncancel:qn("Transition","TransitionCancel"),transitionend:qn("Transition","TransitionEnd")},Zr={},Fs={};ri&&(Fs=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function bs(i){if(Zr[i])return Zr[i];if(!Er[i])return i;var s=Er[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Fs)return Zr[i]=s[l];return i}var gl=bs("animationend"),sc=bs("animationiteration"),_f=bs("animationstart"),im=bs("transitionrun"),am=bs("transitionstart"),sm=bs("transitioncancel"),wf=bs("transitionend"),Ef=new Map,yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yl.push("scrollEnd");function Qa(i,s){Ef.set(i,s),Ai(s,[i])}var oc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Fa=[],vl=0,Wc=0;function lc(){for(var i=vl,s=Wc=vl=0;s<i;){var l=Fa[s];Fa[s++]=null;var h=Fa[s];Fa[s++]=null;var y=Fa[s];Fa[s++]=null;var _=Fa[s];if(Fa[s++]=null,h!==null&&y!==null){var P=h.pending;P===null?y.next=y:(y.next=P.next,P.next=y),h.pending=y}_!==0&&cc(l,y,_)}}function uc(i,s,l,h){Fa[vl++]=i,Fa[vl++]=s,Fa[vl++]=l,Fa[vl++]=h,Wc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function $c(i,s,l,h){return uc(i,s,l,h),Ji(i)}function ho(i,s){return uc(i,null,null,s),Ji(i)}function cc(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(y=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,y&&s!==null&&(y=31-on(l),i=_.hiddenUpdates,h=i[y],h===null?i[y]=[s]:h.push(s),s.lane=l|536870912),_):null}function Ji(i){if(50<Hf)throw Hf=0,g1=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fi={};function Qc(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(i,s,l,h){return new Qc(i,s,l,h)}function Xc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xa(i,s){var l=i.alternate;return l===null?(l=Zi(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function hc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function ru(i,s,l,h,y,_){var P=0;if(h=i,typeof i=="function")Xc(i)&&(P=1);else if(typeof i=="string")P=PN(i,l,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Zi(31,l,s,y),i.elementType=C,i.lanes=_,i;case U:return Do(l.children,y,_,s);case j:P=8,y|=24;break;case B:return i=Zi(12,l,s,y|2),i.elementType=B,i.lanes=_,i;case me:return i=Zi(13,l,s,y),i.elementType=me,i.lanes=_,i;case fe:return i=Zi(19,l,s,y),i.elementType=fe,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:P=10;break e;case K:P=9;break e;case X:P=11;break e;case I:P=14;break e;case k:P=16,h=null;break e}P=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Zi(P,l,s,y),s.elementType=i,s.type=h,s.lanes=_,s}function Do(i,s,l,h){return i=Zi(7,i,h,s),i.lanes=l,i}function fc(i,s,l){return i=Zi(6,i,null,s),i.lanes=l,i}function Jc(i){var s=Zi(18,null,null,0);return s.stateNode=i,s}function iu(i,s,l){return s=Zi(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Zc=new WeakMap;function Ja(i,s){if(typeof i=="object"&&i!==null){var l=Zc.get(i);return l!==void 0?l:(s={value:i,source:s,stack:wt(s)},Zc.set(i,s),s)}return{value:i,source:s,stack:wt(s)}}var au=[],bl=0,eh=null,dc=0,Za=[],es=0,Mo=null,ts=1,ns="";function za(i,s){au[bl++]=dc,au[bl++]=eh,eh=i,dc=s}function om(i,s,l){Za[es++]=ts,Za[es++]=ns,Za[es++]=Mo,Mo=i;var h=ts;i=ns;var y=32-on(h)-1;h&=~(1<<y),l+=1;var _=32-on(s)+y;if(30<_){var P=y-y%5;_=(h&(1<<P)-1).toString(32),h>>=P,y-=P,ts=1<<32-on(s)+y|l<<y|h,ns=_+i}else ts=1<<_|l<<y|h,ns=i}function Af(i){i.return!==null&&(za(i,1),om(i,1,0))}function th(i){for(;i===eh;)eh=au[--bl],au[bl]=null,dc=au[--bl],au[bl]=null;for(;i===Mo;)Mo=Za[--es],Za[es]=null,ns=Za[--es],Za[es]=null,ts=Za[--es],Za[es]=null}function lm(i,s){Za[es++]=ts,Za[es++]=ns,Za[es++]=Mo,ts=s.id,ns=s.overflow,Mo=i}var zi=null,Rr=null,kn=!1,fa=null,Hr=!1,_s=Error(r(519));function Oo(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Ja(s,i)),_s}function Sf(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[ot]=i,s[lt]=h,l){case"dialog":Dn("cancel",s),Dn("close",s);break;case"iframe":case"object":case"embed":Dn("load",s);break;case"video":case"audio":for(l=0;l<Kf.length;l++)Dn(Kf[l],s);break;case"source":Dn("error",s);break;case"img":case"image":case"link":Dn("error",s),Dn("load",s);break;case"details":Dn("toggle",s);break;case"input":Dn("invalid",s),Xl(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Dn("invalid",s);break;case"textarea":Dn("invalid",s),ds(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||j5(s.textContent,l)?(h.popover!=null&&(Dn("beforetoggle",s),Dn("toggle",s)),h.onScroll!=null&&Dn("scroll",s),h.onScrollEnd!=null&&Dn("scrollend",s),h.onClick!=null&&(s.onclick=Ma),s=!0):s=!1,s||Oo(i,!0)}function fo(i){for(zi=i.return;zi;)switch(zi.tag){case 5:case 31:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:zi=zi.return}}function qi(i){if(i!==zi)return!1;if(!kn)return fo(i),kn=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||L1(i.type,i.memoizedProps)),l=!l),l&&Rr&&Oo(i),fo(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rr=$5(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rr=$5(i)}else s===27?(s=Rr,_u(i.type)?(i=O1,O1=null,Rr=i):Rr=s):Rr=zi?Gs(i.stateNode.nextSibling):null;return!0}function _l(){Rr=zi=null,kn=!1}function Nf(){var i=fa;return i!==null&&(ls===null?ls=i:ls.push.apply(ls,i),fa=null),i}function su(i){fa===null?fa=[i]:fa.push(i)}var nh=Z(null),Uo=null,zs=null;function Vo(i,s,l){W(nh,s._currentValue),s._currentValue=l}function rs(i){i._currentValue=nh.current,V(nh)}function ou(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function wl(i,s,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var _=y.dependencies;if(_!==null){var P=y.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=y;for(var de=0;de<s.length;de++)if($.context===s[de]){_.lanes|=l,$=_.alternate,$!==null&&($.lanes|=l),ou(_.return,l,i),h||(P=null);break e}_=$.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(r(341));P.lanes|=l,_=P.alternate,_!==null&&(_.lanes|=l),ou(P,l,i),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===i){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function Bo(i,s,l,h){i=null;for(var y=s,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var $=y.type;ji(y.pendingProps.value,P.value)||(i!==null?i.push($):i=[$])}}else if(y===be.current){if(P=y.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Xf):i=[Xf])}y=y.return}i!==null&&wl(s,i,l,h),s.flags|=262144}function rh(i){for(i=i.firstContext;i!==null;){if(!ji(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function jo(i){Uo=i,zs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hi(i){return um(Uo,i)}function ih(i,s){return Uo===null&&jo(i),um(i,s)}function um(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},zs===null){if(i===null)throw Error(r(308));zs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else zs=zs.next=s;return l}var Mg=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},Og=n.unstable_scheduleCallback,Ug=n.unstable_NormalPriority,ei={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lu(){return{controller:new Mg,data:new Map,refCount:0}}function mc(i){i.refCount--,i.refCount===0&&Og(Ug,function(){i.controller.abort()})}var pc=null,ah=0,m=0,v=null;function S(i,s){if(pc===null){var l=pc=[];ah=0,m=E1(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return ah++,s.then(R,R),s}function R(){if(--ah===0&&pc!==null){v!==null&&(v.status="fulfilled");var i=pc;pc=null,m=0,v=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function q(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var y=0;y<l.length;y++)(0,l[y])(s)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var H=ie.S;ie.S=function(i,s){c5=Ht(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(i,s),H!==null&&H(i,s)};var Y=Z(null);function Q(){var i=Y.current;return i!==null?i:Lr.pooledCache}function te(i,s){s===null?W(Y,Y.current):W(Y,s.pool)}function oe(){var i=Q();return i===null?null:{parent:ei._currentValue,pool:i}}var _e=Error(r(460)),De=Error(r(474)),ae=Error(r(542)),Ae={then:function(){}};function Le(i){return i=i.status,i==="fulfilled"||i==="rejected"}function qe(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Ma,Ma),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,rt(i),i;default:if(typeof s.status=="string")s.then(Ma,Ma);else{if(i=Lr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=h}},function(h){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,rt(i),i}throw ze=s,_e}}function ke(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ze=l,_e):l}}var ze=null;function We(){if(ze===null)throw Error(r(459));var i=ze;return ze=null,i}function rt(i){if(i===_e||i===ae)throw Error(r(483))}var Ze=null,kt=0;function bt(i){var s=kt;return kt+=1,Ze===null&&(Ze=[]),qe(Ze,i,s)}function mn(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function xt(i,s){throw s.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ln(i){function s(Te,we){if(i){var Me=Te.deletions;Me===null?(Te.deletions=[we],Te.flags|=16):Me.push(we)}}function l(Te,we){if(!i)return null;for(;we!==null;)s(Te,we),we=we.sibling;return null}function h(Te){for(var we=new Map;Te!==null;)Te.key!==null?we.set(Te.key,Te):we.set(Te.index,Te),Te=Te.sibling;return we}function y(Te,we){return Te=Xa(Te,we),Te.index=0,Te.sibling=null,Te}function _(Te,we,Me){return Te.index=Me,i?(Me=Te.alternate,Me!==null?(Me=Me.index,Me<we?(Te.flags|=67108866,we):Me):(Te.flags|=67108866,we)):(Te.flags|=1048576,we)}function P(Te){return i&&Te.alternate===null&&(Te.flags|=67108866),Te}function $(Te,we,Me,Qe){return we===null||we.tag!==6?(we=fc(Me,Te.mode,Qe),we.return=Te,we):(we=y(we,Me),we.return=Te,we)}function de(Te,we,Me,Qe){var Jt=Me.type;return Jt===U?Ge(Te,we,Me.props.children,Qe,Me.key):we!==null&&(we.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===k&&ke(Jt)===we.type)?(we=y(we,Me.props),mn(we,Me),we.return=Te,we):(we=ru(Me.type,Me.key,Me.props,null,Te.mode,Qe),mn(we,Me),we.return=Te,we)}function Oe(Te,we,Me,Qe){return we===null||we.tag!==4||we.stateNode.containerInfo!==Me.containerInfo||we.stateNode.implementation!==Me.implementation?(we=iu(Me,Te.mode,Qe),we.return=Te,we):(we=y(we,Me.children||[]),we.return=Te,we)}function Ge(Te,we,Me,Qe,Jt){return we===null||we.tag!==7?(we=Do(Me,Te.mode,Qe,Jt),we.return=Te,we):(we=y(we,Me),we.return=Te,we)}function Xe(Te,we,Me){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=fc(""+we,Te.mode,Me),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return Me=ru(we.type,we.key,we.props,null,Te.mode,Me),mn(Me,we),Me.return=Te,Me;case M:return we=iu(we,Te.mode,Me),we.return=Te,we;case k:return we=ke(we),Xe(Te,we,Me)}if(Ee(we)||L(we))return we=Do(we,Te.mode,Me,null),we.return=Te,we;if(typeof we.then=="function")return Xe(Te,bt(we),Me);if(we.$$typeof===G)return Xe(Te,ih(Te,we),Me);xt(Te,we)}return null}function Ve(Te,we,Me,Qe){var Jt=we!==null?we.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Jt!==null?null:$(Te,we,""+Me,Qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return Me.key===Jt?de(Te,we,Me,Qe):null;case M:return Me.key===Jt?Oe(Te,we,Me,Qe):null;case k:return Me=ke(Me),Ve(Te,we,Me,Qe)}if(Ee(Me)||L(Me))return Jt!==null?null:Ge(Te,we,Me,Qe,null);if(typeof Me.then=="function")return Ve(Te,we,bt(Me),Qe);if(Me.$$typeof===G)return Ve(Te,we,ih(Te,Me),Qe);xt(Te,Me)}return null}function je(Te,we,Me,Qe,Jt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Te=Te.get(Me)||null,$(we,Te,""+Qe,Jt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case b:return Te=Te.get(Qe.key===null?Me:Qe.key)||null,de(we,Te,Qe,Jt);case M:return Te=Te.get(Qe.key===null?Me:Qe.key)||null,Oe(we,Te,Qe,Jt);case k:return Qe=ke(Qe),je(Te,we,Me,Qe,Jt)}if(Ee(Qe)||L(Qe))return Te=Te.get(Me)||null,Ge(we,Te,Qe,Jt,null);if(typeof Qe.then=="function")return je(Te,we,Me,bt(Qe),Jt);if(Qe.$$typeof===G)return je(Te,we,Me,ih(we,Qe),Jt);xt(we,Qe)}return null}function Ct(Te,we,Me,Qe){for(var Jt=null,rr=null,Bt=we,Nn=we=0,Un=null;Bt!==null&&Nn<Me.length;Nn++){Bt.index>Nn?(Un=Bt,Bt=null):Un=Bt.sibling;var ir=Ve(Te,Bt,Me[Nn],Qe);if(ir===null){Bt===null&&(Bt=Un);break}i&&Bt&&ir.alternate===null&&s(Te,Bt),we=_(ir,we,Nn),rr===null?Jt=ir:rr.sibling=ir,rr=ir,Bt=Un}if(Nn===Me.length)return l(Te,Bt),kn&&za(Te,Nn),Jt;if(Bt===null){for(;Nn<Me.length;Nn++)Bt=Xe(Te,Me[Nn],Qe),Bt!==null&&(we=_(Bt,we,Nn),rr===null?Jt=Bt:rr.sibling=Bt,rr=Bt);return kn&&za(Te,Nn),Jt}for(Bt=h(Bt);Nn<Me.length;Nn++)Un=je(Bt,Te,Nn,Me[Nn],Qe),Un!==null&&(i&&Un.alternate!==null&&Bt.delete(Un.key===null?Nn:Un.key),we=_(Un,we,Nn),rr===null?Jt=Un:rr.sibling=Un,rr=Un);return i&&Bt.forEach(function(Nu){return s(Te,Nu)}),kn&&za(Te,Nn),Jt}function rn(Te,we,Me,Qe){if(Me==null)throw Error(r(151));for(var Jt=null,rr=null,Bt=we,Nn=we=0,Un=null,ir=Me.next();Bt!==null&&!ir.done;Nn++,ir=Me.next()){Bt.index>Nn?(Un=Bt,Bt=null):Un=Bt.sibling;var Nu=Ve(Te,Bt,ir.value,Qe);if(Nu===null){Bt===null&&(Bt=Un);break}i&&Bt&&Nu.alternate===null&&s(Te,Bt),we=_(Nu,we,Nn),rr===null?Jt=Nu:rr.sibling=Nu,rr=Nu,Bt=Un}if(ir.done)return l(Te,Bt),kn&&za(Te,Nn),Jt;if(Bt===null){for(;!ir.done;Nn++,ir=Me.next())ir=Xe(Te,ir.value,Qe),ir!==null&&(we=_(ir,we,Nn),rr===null?Jt=ir:rr.sibling=ir,rr=ir);return kn&&za(Te,Nn),Jt}for(Bt=h(Bt);!ir.done;Nn++,ir=Me.next())ir=je(Bt,Te,Nn,ir.value,Qe),ir!==null&&(i&&ir.alternate!==null&&Bt.delete(ir.key===null?Nn:ir.key),we=_(ir,we,Nn),rr===null?Jt=ir:rr.sibling=ir,rr=ir);return i&&Bt.forEach(function(HN){return s(Te,HN)}),kn&&za(Te,Nn),Jt}function xr(Te,we,Me,Qe){if(typeof Me=="object"&&Me!==null&&Me.type===U&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:e:{for(var Jt=Me.key;we!==null;){if(we.key===Jt){if(Jt=Me.type,Jt===U){if(we.tag===7){l(Te,we.sibling),Qe=y(we,Me.props.children),Qe.return=Te,Te=Qe;break e}}else if(we.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===k&&ke(Jt)===we.type){l(Te,we.sibling),Qe=y(we,Me.props),mn(Qe,Me),Qe.return=Te,Te=Qe;break e}l(Te,we);break}else s(Te,we);we=we.sibling}Me.type===U?(Qe=Do(Me.props.children,Te.mode,Qe,Me.key),Qe.return=Te,Te=Qe):(Qe=ru(Me.type,Me.key,Me.props,null,Te.mode,Qe),mn(Qe,Me),Qe.return=Te,Te=Qe)}return P(Te);case M:e:{for(Jt=Me.key;we!==null;){if(we.key===Jt)if(we.tag===4&&we.stateNode.containerInfo===Me.containerInfo&&we.stateNode.implementation===Me.implementation){l(Te,we.sibling),Qe=y(we,Me.children||[]),Qe.return=Te,Te=Qe;break e}else{l(Te,we);break}else s(Te,we);we=we.sibling}Qe=iu(Me,Te.mode,Qe),Qe.return=Te,Te=Qe}return P(Te);case k:return Me=ke(Me),xr(Te,we,Me,Qe)}if(Ee(Me))return Ct(Te,we,Me,Qe);if(L(Me)){if(Jt=L(Me),typeof Jt!="function")throw Error(r(150));return Me=Jt.call(Me),rn(Te,we,Me,Qe)}if(typeof Me.then=="function")return xr(Te,we,bt(Me),Qe);if(Me.$$typeof===G)return xr(Te,we,ih(Te,Me),Qe);xt(Te,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,we!==null&&we.tag===6?(l(Te,we.sibling),Qe=y(we,Me),Qe.return=Te,Te=Qe):(l(Te,we),Qe=fc(Me,Te.mode,Qe),Qe.return=Te,Te=Qe),P(Te)):l(Te,we)}return function(Te,we,Me,Qe){try{kt=0;var Jt=xr(Te,we,Me,Qe);return Ze=null,Jt}catch(Bt){if(Bt===_e||Bt===ae)throw Bt;var rr=Zi(29,Bt,null,Te.mode);return rr.lanes=Qe,rr.return=Te,rr}}}var Ir=Ln(!0),bn=Ln(!1),_t=!1;function ct(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mr(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function nn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Sn(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(lr&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,s=Ji(i),cc(i,null,l),s}return uc(i,h,s,l),Ji(i)}function sr(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ce(i,l)}}function gi(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var P={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=P:_=_.next=P,l=l.next}while(l!==null);_===null?y=_=s:_=_.next=s}else y=_=s;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Gi=!1;function Ar(){if(Gi){var i=v;if(i!==null)throw i}}function ii(i,s,l,h){Gi=!1;var y=i.updateQueue;_t=!1;var _=y.firstBaseUpdate,P=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var de=$,Oe=de.next;de.next=null,P===null?_=Oe:P.next=Oe,P=de;var Ge=i.alternate;Ge!==null&&(Ge=Ge.updateQueue,$=Ge.lastBaseUpdate,$!==P&&($===null?Ge.firstBaseUpdate=Oe:$.next=Oe,Ge.lastBaseUpdate=de))}if(_!==null){var Xe=y.baseState;P=0,Ge=Oe=de=null,$=_;do{var Ve=$.lane&-536870913,je=Ve!==$.lane;if(je?(On&Ve)===Ve:(h&Ve)===Ve){Ve!==0&&Ve===m&&(Gi=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Ct=i,rn=$;Ve=s;var xr=l;switch(rn.tag){case 1:if(Ct=rn.payload,typeof Ct=="function"){Xe=Ct.call(xr,Xe,Ve);break e}Xe=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=rn.payload,Ve=typeof Ct=="function"?Ct.call(xr,Xe,Ve):Ct,Ve==null)break e;Xe=w({},Xe,Ve);break e;case 2:_t=!0}}Ve=$.callback,Ve!==null&&(i.flags|=64,je&&(i.flags|=8192),je=y.callbacks,je===null?y.callbacks=[Ve]:je.push(Ve))}else je={lane:Ve,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ge===null?(Oe=Ge=je,de=Xe):Ge=Ge.next=je,P|=Ve;if($=$.next,$===null){if($=y.shared.pending,$===null)break;je=$,$=je.next,je.next=null,y.lastBaseUpdate=je,y.shared.pending=null}}while(!0);Ge===null&&(de=Xe),y.baseState=de,y.firstBaseUpdate=Oe,y.lastBaseUpdate=Ge,_===null&&(y.shared.lanes=0),pu|=P,i.lanes=P,i.memoizedState=Xe}}function ea(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function ai(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ea(l[i],s)}var Tn=Z(null),Kn=Z(0);function Or(i,s){i=Ll,W(Kn,i),W(Tn,s),Ll=i|s.baseLanes}function Jn(){W(Kn,Ll),W(Tn,Tn.current)}function yi(){Ll=Kn.current,V(Tn),V(Kn)}var Ur=Z(null),Yn=null;function ti(i){var s=i.alternate;W(Hn,Hn.current&1),W(Ur,i),Yn===null&&(s===null||Tn.current!==null||s.memoizedState!==null)&&(Yn=i)}function or(i){W(Hn,Hn.current),W(Ur,i),Yn===null&&(Yn=i)}function si(i){i.tag===22?(W(Hn,Hn.current),W(Ur,i),Yn===null&&(Yn=i)):oi()}function oi(){W(Hn,Hn.current),W(Ur,Ur.current)}function pr(i){V(Ur),Yn===i&&(Yn=null),V(Hn)}var Hn=Z(0);function ta(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||D1(l)||M1(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gr=0,Wt=null,Xt=null,Wn=null,wa=!1,is=!1,da=!1,li=0,Fo=0,zo=null,sh=0;function Sr(){throw Error(r(321))}function xf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!ji(i[l],s[l]))return!1;return!0}function Tf(i,s,l,h,y,_){return Gr=_,Wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ie.H=i===null||i.memoizedState===null?wv:Gg,da=!1,_=l(h,y),da=!1,is&&(_=mo(s,l,h,y)),oh(i),_}function oh(i){ie.H=Mf;var s=Xt!==null&&Xt.next!==null;if(Gr=0,Wn=Xt=Wt=null,wa=!1,Fo=0,zo=null,s)throw Error(r(300));i===null||Ti||(i=i.dependencies,i!==null&&rh(i)&&(Ti=!0))}function mo(i,s,l,h){Wt=i;var y=0;do{if(is&&(zo=null),Fo=0,is=!1,25<=y)throw Error(r(301));if(y+=1,Wn=Xt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ie.H=Ev,_=s(l,h)}while(is);return _}function Vg(){var i=ie.H,s=i.useState()[0];return s=typeof s.then=="function"?qo(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Wt.flags|=1024),s}function Cf(){var i=li!==0;return li=0,i}function Rf(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function lh(i){if(wa){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wa=!1}Gr=0,Wn=Xt=Wt=null,is=!1,Fo=li=0,zo=null}function xi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?Wt.memoizedState=Wn=i:Wn=Wn.next=i,Wn}function Kr(){if(Xt===null){var i=Wt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=Wn===null?Wt.memoizedState:Wn.next;if(s!==null)Wn=s,Xt=i;else{if(i===null)throw Wt.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Wn===null?Wt.memoizedState=Wn=i:Wn=Wn.next=i}return Wn}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(i){var s=Fo;return Fo+=1,zo===null&&(zo=[]),i=qe(zo,i,s),s=Wt,(Wn===null?s.memoizedState:Wn.next)===null&&(s=s.alternate,ie.H=s===null||s.memoizedState===null?wv:Gg),i}function uu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qo(i);if(i.$$typeof===G)return Hi(i)}throw Error(r(438,String(i)))}function El(i){var s=null,l=Wt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Wt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=gc(),Wt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=F;return s.index++,l}function qs(i,s){return typeof s=="function"?s(i):s}function uh(i){var s=Kr();return cu(s,Xt,i)}function cu(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,_=h.pending;if(_!==null){if(y!==null){var P=y.next;y.next=_.next,_.next=P}s.baseQueue=y=_,h.pending=null}if(_=i.baseState,y===null)i.memoizedState=_;else{s=y.next;var $=P=null,de=null,Oe=s,Ge=!1;do{var Xe=Oe.lane&-536870913;if(Xe!==Oe.lane?(On&Xe)===Xe:(Gr&Xe)===Xe){var Ve=Oe.revertLane;if(Ve===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Xe===m&&(Ge=!0);else if((Gr&Ve)===Ve){Oe=Oe.next,Ve===m&&(Ge=!0);continue}else Xe={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?($=de=Xe,P=_):de=de.next=Xe,Wt.lanes|=Ve,pu|=Ve;Xe=Oe.action,da&&l(_,Xe),_=Oe.hasEagerState?Oe.eagerState:l(_,Xe)}else Ve={lane:Xe,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},de===null?($=de=Ve,P=_):de=de.next=Ve,Wt.lanes|=Xe,pu|=Xe;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(de===null?P=_:de.next=$,!ji(_,i.memoizedState)&&(Ti=!0,Ge&&(l=v,l!==null)))throw l;i.memoizedState=_,i.baseState=P,i.baseQueue=de,h.lastRenderedState=_}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function ch(i){var s=Kr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,_=s.memoizedState;if(y!==null){l.pending=null;var P=y=y.next;do _=i(_,P.action),P=P.next;while(P!==y);ji(_,s.memoizedState)||(Ti=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function hh(i,s,l){var h=Wt,y=Kr(),_=kn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var P=!ji((Xt||y).memoizedState,l);if(P&&(y.memoizedState=l,Ti=!0),y=y.queue,Bg(Lf.bind(null,h,y,i),[i]),y.getSnapshot!==s||P||Wn!==null&&Wn.memoizedState.tag&1){if(h.flags|=2048,Sl(9,{destroy:void 0},If.bind(null,h,y,l,s),null),Lr===null)throw Error(r(349));_||(Gr&127)!==0||po(h,s,l)}return l}function po(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Wt.updateQueue,s===null?(s=gc(),Wt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function If(i,s,l,h){s.value=l,s.getSnapshot=h,cm(s)&&kf(i)}function Lf(i,s,l){return l(function(){cm(s)&&kf(i)})}function cm(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!ji(i,l)}catch{return!0}}function kf(i){var s=ho(i,2);s!==null&&us(s,i,2)}function Ho(i){var s=xi();if(typeof i=="function"){var l=i;if(i=l(),da){$t(!0);try{l()}finally{$t(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:i},s}function hm(i,s,l,h){return i.baseState=l,cu(i,Xt,typeof h=="function"?h:qs)}function fm(i,s,l,h,y){if(gm(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};ie.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,dm(s,_)):(_.next=l.next,s.pending=l.next=_)}}function dm(i,s){var l=s.action,h=s.payload,y=i.state;if(s.isTransition){var _=ie.T,P={};ie.T=P;try{var $=l(y,h),de=ie.S;de!==null&&de(P,$),Pf(i,s,$)}catch(Oe){Al(i,s,Oe)}finally{_!==null&&P.types!==null&&(_.types=P.types),ie.T=_}}else try{_=l(y,h),Pf(i,s,_)}catch(Oe){Al(i,s,Oe)}}function Pf(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){mm(i,s,h)},function(h){return Al(i,s,h)}):mm(i,s,l)}function mm(i,s,l){s.status="fulfilled",s.value=l,fh(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,dm(i,l)))}function Al(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,fh(s),s=s.next;while(s!==h)}i.action=null}function fh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function yc(i,s){return s}function Hs(i,s){if(kn){var l=Lr.formState;if(l!==null){e:{var h=Wt;if(kn){if(Rr){t:{for(var y=Rr,_=Hr;y.nodeType!==8;){if(!_){y=null;break t}if(y=Gs(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Rr=Gs(y.nextSibling),h=y.data==="F!";break e}}Oo(h)}h=!1}h&&(s=l[0])}}return l=xi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:s},l.queue=h,l=vv.bind(null,Wt,h),h.dispatch=l,h=Ho(!1),_=Hg.bind(null,Wt,!1,h.queue),h=xi(),y={state:s,dispatch:null,action:i,pending:null},h.queue=y,l=fm.bind(null,Wt,y,_,l),y.dispatch=l,h.memoizedState=i,[s,l,!1]}function go(i){var s=Kr();return yo(s,Xt,i)}function yo(i,s,l){if(s=cu(i,s,yc)[0],i=uh(qs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=qo(s)}catch(P){throw P===_e?ae:P}else h=s;s=Kr();var y=s.queue,_=y.dispatch;return l!==s.memoizedState&&(Wt.flags|=2048,Sl(9,{destroy:void 0},dh.bind(null,y,l),null)),[h,_,i]}function dh(i,s){i.action=s}function mh(i){var s=Kr(),l=Xt;if(l!==null)return yo(s,l,i);Kr(),s=s.memoizedState,l=Kr();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Sl(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=Wt.updateQueue,s===null&&(s=gc(),Wt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function pm(){return Kr().memoizedState}function hu(i,s,l,h){var y=xi();Wt.flags|=i,y.memoizedState=Sl(1|s,{destroy:void 0},l,h===void 0?null:h)}function fu(i,s,l,h){var y=Kr();h=h===void 0?null:h;var _=y.memoizedState.inst;Xt!==null&&h!==null&&xf(h,Xt.memoizedState.deps)?y.memoizedState=Sl(s,_,l,h):(Wt.flags|=i,y.memoizedState=Sl(1|s,_,l,h))}function iv(i,s){hu(8390656,8,i,s)}function Bg(i,s){fu(2048,8,i,s)}function V6(i){Wt.flags|=4;var s=Wt.updateQueue;if(s===null)s=gc(),Wt.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function av(i){var s=Kr().memoizedState;return V6({ref:s,nextImpl:i}),function(){if((lr&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function sv(i,s){return fu(4,2,i,s)}function ov(i,s){return fu(4,4,i,s)}function lv(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function uv(i,s,l){l=l!=null?l.concat([i]):null,fu(4,4,lv.bind(null,s,i),l)}function jg(){}function cv(i,s){var l=Kr();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&xf(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function hv(i,s){var l=Kr();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&xf(s,h[1]))return h[0];if(h=i(),da){$t(!0);try{i()}finally{$t(!1)}}return l.memoizedState=[h,s],h}function Fg(i,s,l){return l===void 0||(Gr&1073741824)!==0&&(On&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=f5(),Wt.lanes|=i,pu|=i,l)}function fv(i,s,l,h){return ji(l,s)?l:Tn.current!==null?(i=Fg(i,l,h),ji(i,s)||(Ti=!0),i):(Gr&42)===0||(Gr&1073741824)!==0&&(On&261930)===0?(Ti=!0,i.memoizedState=l):(i=f5(),Wt.lanes|=i,pu|=i,s)}function dv(i,s,l,h,y){var _=ve.p;ve.p=_!==0&&8>_?_:8;var P=ie.T,$={};ie.T=$,Hg(i,!1,s,l);try{var de=y(),Oe=ie.S;if(Oe!==null&&Oe($,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ge=q(de,h);Df(i,s,Ge,As(i))}else Df(i,s,h,As(i))}catch(Xe){Df(i,s,{then:function(){},status:"rejected",reason:Xe},As())}finally{ve.p=_,P!==null&&$.types!==null&&(P.types=$.types),ie.T=P}}function B6(){}function zg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var y=mv(i).queue;dv(i,y,s,ue,l===null?B6:function(){return pv(i),l(h)})}function mv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:ue},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function pv(i){var s=mv(i);s.next===null&&(s=i.alternate.memoizedState),Df(i,s.next.queue,{},As())}function qg(){return Hi(Xf)}function gv(){return Kr().memoizedState}function yv(){return Kr().memoizedState}function j6(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=As();i=nn(l);var h=Sn(s,i,l);h!==null&&(us(h,s,l),sr(h,s,l)),s={cache:lu()},i.payload=s;return}s=s.return}}function F6(i,s,l){var h=As();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gm(i)?bv(s,l):(l=$c(i,s,l,h),l!==null&&(us(l,i,h),_v(l,s,h)))}function vv(i,s,l){var h=As();Df(i,s,l,h)}function Df(i,s,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(gm(i))bv(s,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var P=s.lastRenderedState,$=_(P,l);if(y.hasEagerState=!0,y.eagerState=$,ji($,P))return uc(i,s,y,0),Lr===null&&lc(),!1}catch{}if(l=$c(i,s,y,h),l!==null)return us(l,i,h),_v(l,s,h),!0}return!1}function Hg(i,s,l,h){if(h={lane:2,revertLane:E1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},gm(i)){if(s)throw Error(r(479))}else s=$c(i,l,h,2),s!==null&&us(s,i,2)}function gm(i){var s=i.alternate;return i===Wt||s!==null&&s===Wt}function bv(i,s){is=wa=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function _v(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ce(i,l)}}var Mf={readContext:Hi,use:uu,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useLayoutEffect:Sr,useInsertionEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useSyncExternalStore:Sr,useId:Sr,useHostTransitionStatus:Sr,useFormState:Sr,useActionState:Sr,useOptimistic:Sr,useMemoCache:Sr,useCacheRefresh:Sr};Mf.useEffectEvent=Sr;var wv={readContext:Hi,use:uu,useCallback:function(i,s){return xi().memoizedState=[i,s===void 0?null:s],i},useContext:Hi,useEffect:iv,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,hu(4194308,4,lv.bind(null,s,i),l)},useLayoutEffect:function(i,s){return hu(4194308,4,i,s)},useInsertionEffect:function(i,s){hu(4,2,i,s)},useMemo:function(i,s){var l=xi();s=s===void 0?null:s;var h=i();if(da){$t(!0);try{i()}finally{$t(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=xi();if(l!==void 0){var y=l(s);if(da){$t(!0);try{l(s)}finally{$t(!1)}}}else y=s;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=F6.bind(null,Wt,i),[h.memoizedState,i]},useRef:function(i){var s=xi();return i={current:i},s.memoizedState=i},useState:function(i){i=Ho(i);var s=i.queue,l=vv.bind(null,Wt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:jg,useDeferredValue:function(i,s){var l=xi();return Fg(l,i,s)},useTransition:function(){var i=Ho(!1);return i=dv.bind(null,Wt,i.queue,!0,!1),xi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=Wt,y=xi();if(kn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Lr===null)throw Error(r(349));(On&127)!==0||po(h,s,l)}y.memoizedState=l;var _={value:l,getSnapshot:s};return y.queue=_,iv(Lf.bind(null,h,_,i),[i]),h.flags|=2048,Sl(9,{destroy:void 0},If.bind(null,h,_,l,s),null),l},useId:function(){var i=xi(),s=Lr.identifierPrefix;if(kn){var l=ns,h=ts;l=(h&~(1<<32-on(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=li++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=sh++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:qg,useFormState:Hs,useActionState:Hs,useOptimistic:function(i){var s=xi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Hg.bind(null,Wt,!0,l),l.dispatch=s,[i,s]},useMemoCache:El,useCacheRefresh:function(){return xi().memoizedState=j6.bind(null,Wt)},useEffectEvent:function(i){var s=xi(),l={impl:i};return s.memoizedState=l,function(){if((lr&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Gg={readContext:Hi,use:uu,useCallback:cv,useContext:Hi,useEffect:Bg,useImperativeHandle:uv,useInsertionEffect:sv,useLayoutEffect:ov,useMemo:hv,useReducer:uh,useRef:pm,useState:function(){return uh(qs)},useDebugValue:jg,useDeferredValue:function(i,s){var l=Kr();return fv(l,Xt.memoizedState,i,s)},useTransition:function(){var i=uh(qs)[0],s=Kr().memoizedState;return[typeof i=="boolean"?i:qo(i),s]},useSyncExternalStore:hh,useId:gv,useHostTransitionStatus:qg,useFormState:go,useActionState:go,useOptimistic:function(i,s){var l=Kr();return hm(l,Xt,i,s)},useMemoCache:El,useCacheRefresh:yv};Gg.useEffectEvent=av;var Ev={readContext:Hi,use:uu,useCallback:cv,useContext:Hi,useEffect:Bg,useImperativeHandle:uv,useInsertionEffect:sv,useLayoutEffect:ov,useMemo:hv,useReducer:ch,useRef:pm,useState:function(){return ch(qs)},useDebugValue:jg,useDeferredValue:function(i,s){var l=Kr();return Xt===null?Fg(l,i,s):fv(l,Xt.memoizedState,i,s)},useTransition:function(){var i=ch(qs)[0],s=Kr().memoizedState;return[typeof i=="boolean"?i:qo(i),s]},useSyncExternalStore:hh,useId:gv,useHostTransitionStatus:qg,useFormState:mh,useActionState:mh,useOptimistic:function(i,s){var l=Kr();return Xt!==null?hm(l,Xt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:El,useCacheRefresh:yv};Ev.useEffectEvent=av;function Kg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:w({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Yg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=As(),y=nn(h);y.payload=s,l!=null&&(y.callback=l),s=Sn(i,y,h),s!==null&&(us(s,i,h),sr(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=As(),y=nn(h);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Sn(i,y,h),s!==null&&(us(s,i,h),sr(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=As(),h=nn(l);h.tag=2,s!=null&&(h.callback=s),s=Sn(i,h,l),s!==null&&(us(s,i,l),sr(s,i,l))}};function Av(i,s,l,h,y,_,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,P):s.prototype&&s.prototype.isPureReactComponent?!oo(l,h)||!oo(y,_):!0}function Sv(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Yg.enqueueReplaceState(s,s.state,null)}function vc(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=w({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Nv(i){oc(i)}function xv(i){console.error(i)}function Tv(i){oc(i)}function ym(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Cv(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Wg(i,s,l){return l=nn(l),l.tag=3,l.payload={element:null},l.callback=function(){ym(i,s)},l}function Rv(i){return i=nn(i),i.tag=3,i}function Iv(i,s,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=h.value;i.payload=function(){return y(_)},i.callback=function(){Cv(s,l,h)}}var P=l.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(i.callback=function(){Cv(s,l,h),typeof y!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function z6(i,s,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Bo(s,l,y,!0),l=Ur.current,l!==null){switch(l.tag){case 31:case 13:return Yn===null?Rm():l.alternate===null&&ui===0&&(ui=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===Ae?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),b1(i,h,y)),!1;case 22:return l.flags|=65536,h===Ae?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),b1(i,h,y)),!1}throw Error(r(435,l.tag))}return b1(i,h,y),Rm(),!1}if(kn)return s=Ur.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,h!==_s&&(i=Error(r(422),{cause:h}),su(Ja(i,l)))):(h!==_s&&(s=Error(r(423),{cause:h}),su(Ja(s,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Ja(h,l),y=Wg(i.stateNode,h,y),gi(i,y),ui!==4&&(ui=2)),!1;var _=Error(r(520),{cause:h});if(_=Ja(_,l),qf===null?qf=[_]:qf.push(_),ui!==4&&(ui=2),s===null)return!0;h=Ja(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Wg(l.stateNode,h,i),gi(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gu===null||!gu.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=Rv(y),Iv(y,i,l,h),gi(l,y),!1}l=l.return}while(l!==null);return!1}var $g=Error(r(461)),Ti=!1;function ma(i,s,l,h){s.child=i===null?bn(s,null,l,h):Ir(s,i.child,l,h)}function Lv(i,s,l,h,y){l=l.render;var _=s.ref;if("ref"in h){var P={};for(var $ in h)$!=="ref"&&(P[$]=h[$])}else P=h;return jo(s),h=Tf(i,s,l,P,_,y),$=Cf(),i!==null&&!Ti?(Rf(i,s,y),Nl(i,s,y)):(kn&&$&&Af(s),s.flags|=1,ma(i,s,h,y),s.child)}function kv(i,s,l,h,y){if(i===null){var _=l.type;return typeof _=="function"&&!Xc(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Pv(i,s,_,h,y)):(i=ru(l.type,null,h,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!r1(i,y)){var P=_.memoizedProps;if(l=l.compare,l=l!==null?l:oo,l(P,h)&&i.ref===s.ref)return Nl(i,s,y)}return s.flags|=1,i=Xa(_,h),i.ref=s.ref,i.return=s,s.child=i}function Pv(i,s,l,h,y){if(i!==null){var _=i.memoizedProps;if(oo(_,h)&&i.ref===s.ref)if(Ti=!1,s.pendingProps=h=_,r1(i,y))(i.flags&131072)!==0&&(Ti=!0);else return s.lanes=i.lanes,Nl(i,s,y)}return Qg(i,s,l,h,y)}function Dv(i,s,l,h){var y=h.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=s.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~_}else h=0,s.child=null;return Mv(i,s,_,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&te(s,_!==null?_.cachePool:null),_!==null?Or(s,_):Jn(),si(s);else return h=s.lanes=536870912,Mv(i,s,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(te(s,_.cachePool),Or(s,_),oi(),s.memoizedState=null):(i!==null&&te(s,null),Jn(),oi());return ma(i,s,y,l),s.child}function Of(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Mv(i,s,l,h,y){var _=Q();return _=_===null?null:{parent:ei._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&te(s,null),Jn(),si(s),i!==null&&Bo(i,s,h,!0),s.childLanes=y,null}function vm(i,s){return s=_m({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Ov(i,s,l){return Ir(s,i.child,null,l),i=vm(s,s.pendingProps),i.flags|=2,pr(s),s.memoizedState=null,i}function q6(i,s,l){var h=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(kn){if(h.mode==="hidden")return i=vm(s,h),s.lanes=536870912,Of(null,i);if(or(s),(i=Rr)?(i=W5(i,Hr),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Mo!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},l=Jc(i),l.return=s,s.child=l,zi=s,Rr=null)):i=null,i===null)throw Oo(s);return s.lanes=536870912,null}return vm(s,h)}var _=i.memoizedState;if(_!==null){var P=_.dehydrated;if(or(s),y)if(s.flags&256)s.flags&=-257,s=Ov(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ti||Bo(i,s,l,!1),y=(l&i.childLanes)!==0,Ti||y){if(h=Lr,h!==null&&(P=Se(h,l),P!==0&&P!==_.retryLane))throw _.retryLane=P,ho(i,P),us(h,i,P),$g;Rm(),s=Ov(i,s,l)}else i=_.treeContext,Rr=Gs(P.nextSibling),zi=s,kn=!0,fa=null,Hr=!1,i!==null&&lm(s,i),s=vm(s,h),s.flags|=4096;return s}return i=Xa(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function bm(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Qg(i,s,l,h,y){return jo(s),l=Tf(i,s,l,h,void 0,y),h=Cf(),i!==null&&!Ti?(Rf(i,s,y),Nl(i,s,y)):(kn&&h&&Af(s),s.flags|=1,ma(i,s,l,y),s.child)}function Uv(i,s,l,h,y,_){return jo(s),s.updateQueue=null,l=mo(s,h,l,y),oh(i),h=Cf(),i!==null&&!Ti?(Rf(i,s,_),Nl(i,s,_)):(kn&&h&&Af(s),s.flags|=1,ma(i,s,l,_),s.child)}function Vv(i,s,l,h,y){if(jo(s),s.stateNode===null){var _=Fi,P=l.contextType;typeof P=="object"&&P!==null&&(_=Hi(P)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Yg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},ct(s),P=l.contextType,_.context=typeof P=="object"&&P!==null?Hi(P):Fi,_.state=s.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(Kg(s,l,P,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&Yg.enqueueReplaceState(_,_.state,null),ii(s,h,_,y),Ar(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var $=s.memoizedProps,de=vc(l,$);_.props=de;var Oe=_.context,Ge=l.contextType;P=Fi,typeof Ge=="object"&&Ge!==null&&(P=Hi(Ge));var Xe=l.getDerivedStateFromProps;Ge=typeof Xe=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=s.pendingProps!==$,Ge||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||Oe!==P)&&Sv(s,_,h,P),_t=!1;var Ve=s.memoizedState;_.state=Ve,ii(s,h,_,y),Ar(),Oe=s.memoizedState,$||Ve!==Oe||_t?(typeof Xe=="function"&&(Kg(s,l,Xe,h),Oe=s.memoizedState),(de=_t||Av(s,l,de,h,Ve,Oe,P))?(Ge||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=Oe),_.props=h,_.state=Oe,_.context=P,h=de):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Mr(i,s),P=s.memoizedProps,Ge=vc(l,P),_.props=Ge,Xe=s.pendingProps,Ve=_.context,Oe=l.contextType,de=Fi,typeof Oe=="object"&&Oe!==null&&(de=Hi(Oe)),$=l.getDerivedStateFromProps,(Oe=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Xe||Ve!==de)&&Sv(s,_,h,de),_t=!1,Ve=s.memoizedState,_.state=Ve,ii(s,h,_,y),Ar();var je=s.memoizedState;P!==Xe||Ve!==je||_t||i!==null&&i.dependencies!==null&&rh(i.dependencies)?(typeof $=="function"&&(Kg(s,l,$,h),je=s.memoizedState),(Ge=_t||Av(s,l,Ge,h,Ve,je,de)||i!==null&&i.dependencies!==null&&rh(i.dependencies))?(Oe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,je,de),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,je,de)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&Ve===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Ve===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=je),_.props=h,_.state=je,_.context=de,h=Ge):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&Ve===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Ve===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,bm(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=Ir(s,i.child,null,y),s.child=Ir(s,null,l,y)):ma(i,s,l,y),s.memoizedState=_.state,i=s.child):i=Nl(i,s,y),i}function Bv(i,s,l,h){return _l(),s.flags|=256,ma(i,s,l,h),s.child}var Xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jg(i){return{baseLanes:i,cachePool:oe()}}function Zg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Es),i}function jv(i,s,l){var h=s.pendingProps,y=!1,_=(s.flags&128)!==0,P;if((P=_)||(P=i!==null&&i.memoizedState===null?!1:(Hn.current&2)!==0),P&&(y=!0,s.flags&=-129),P=(s.flags&32)!==0,s.flags&=-33,i===null){if(kn){if(y?ti(s):oi(),(i=Rr)?(i=W5(i,Hr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Mo!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},l=Jc(i),l.return=s,s.child=l,zi=s,Rr=null)):i=null,i===null)throw Oo(s);return M1(i)?s.lanes=32:s.lanes=536870912,null}var $=h.children;return h=h.fallback,y?(oi(),y=s.mode,$=_m({mode:"hidden",children:$},y),h=Do(h,y,l,null),$.return=s,h.return=s,$.sibling=h,s.child=$,h=s.child,h.memoizedState=Jg(l),h.childLanes=Zg(i,P,l),s.memoizedState=Xg,Of(null,h)):(ti(s),e1(s,$))}var de=i.memoizedState;if(de!==null&&($=de.dehydrated,$!==null)){if(_)s.flags&256?(ti(s),s.flags&=-257,s=t1(i,s,l)):s.memoizedState!==null?(oi(),s.child=i.child,s.flags|=128,s=null):(oi(),$=h.fallback,y=s.mode,h=_m({mode:"visible",children:h.children},y),$=Do($,y,l,null),$.flags|=2,h.return=s,$.return=s,h.sibling=$,s.child=h,Ir(s,i.child,null,l),h=s.child,h.memoizedState=Jg(l),h.childLanes=Zg(i,P,l),s.memoizedState=Xg,s=Of(null,h));else if(ti(s),M1($)){if(P=$.nextSibling&&$.nextSibling.dataset,P)var Oe=P.dgst;P=Oe,h=Error(r(419)),h.stack="",h.digest=P,su({value:h,source:null,stack:null}),s=t1(i,s,l)}else if(Ti||Bo(i,s,l,!1),P=(l&i.childLanes)!==0,Ti||P){if(P=Lr,P!==null&&(h=Se(P,l),h!==0&&h!==de.retryLane))throw de.retryLane=h,ho(i,h),us(P,i,h),$g;D1($)||Rm(),s=t1(i,s,l)}else D1($)?(s.flags|=192,s.child=i.child,s=null):(i=de.treeContext,Rr=Gs($.nextSibling),zi=s,kn=!0,fa=null,Hr=!1,i!==null&&lm(s,i),s=e1(s,h.children),s.flags|=4096);return s}return y?(oi(),$=h.fallback,y=s.mode,de=i.child,Oe=de.sibling,h=Xa(de,{mode:"hidden",children:h.children}),h.subtreeFlags=de.subtreeFlags&65011712,Oe!==null?$=Xa(Oe,$):($=Do($,y,l,null),$.flags|=2),$.return=s,h.return=s,h.sibling=$,s.child=h,Of(null,h),h=s.child,$=i.child.memoizedState,$===null?$=Jg(l):(y=$.cachePool,y!==null?(de=ei._currentValue,y=y.parent!==de?{parent:de,pool:de}:y):y=oe(),$={baseLanes:$.baseLanes|l,cachePool:y}),h.memoizedState=$,h.childLanes=Zg(i,P,l),s.memoizedState=Xg,Of(i.child,h)):(ti(s),l=i.child,i=l.sibling,l=Xa(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(P=s.deletions,P===null?(s.deletions=[i],s.flags|=16):P.push(i)),s.child=l,s.memoizedState=null,l)}function e1(i,s){return s=_m({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function _m(i,s){return i=Zi(22,i,null,s),i.lanes=0,i}function t1(i,s,l){return Ir(s,i.child,null,l),i=e1(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Fv(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),ou(i.return,s,l)}function n1(i,s,l,h,y,_){var P=i.memoizedState;P===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:_}:(P.isBackwards=s,P.rendering=null,P.renderingStartTime=0,P.last=h,P.tail=l,P.tailMode=y,P.treeForkCount=_)}function zv(i,s,l){var h=s.pendingProps,y=h.revealOrder,_=h.tail;h=h.children;var P=Hn.current,$=(P&2)!==0;if($?(P=P&1|2,s.flags|=128):P&=1,W(Hn,P),ma(i,s,h,l),h=kn?dc:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fv(i,l,s);else if(i.tag===19)Fv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=s.child,y=null;l!==null;)i=l.alternate,i!==null&&ta(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=s.child,s.child=null):(y=l.sibling,l.sibling=null),n1(s,!1,y,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&ta(i)===null){s.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}n1(s,!0,l,null,_,h);break;case"together":n1(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Nl(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),pu|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Bo(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Xa(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Xa(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function r1(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&rh(i)))}function H6(i,s,l){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),Vo(s,ei,i.memoizedState.cache),_l();break;case 27:case 5:Pe(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:Vo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,or(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(ti(s),s.flags|=128,null):(l&s.child.childLanes)!==0?jv(i,s,l):(ti(s),i=Nl(i,s,l),i!==null?i.sibling:null);ti(s);break;case 19:var y=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Bo(i,s,l,!1),h=(l&s.childLanes)!==0),y){if(h)return zv(i,s,l);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(Hn,Hn.current),h)break;return null;case 22:return s.lanes=0,Dv(i,s,l,s.pendingProps);case 24:Vo(s,ei,i.memoizedState.cache)}return Nl(i,s,l)}function qv(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ti=!0;else{if(!r1(i,l)&&(s.flags&128)===0)return Ti=!1,H6(i,s,l);Ti=(i.flags&131072)!==0}else Ti=!1,kn&&(s.flags&1048576)!==0&&om(s,dc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=ke(s.elementType),s.type=i,typeof i=="function")Xc(i)?(h=vc(i,h),s.tag=1,s=Vv(null,s,i,h,l)):(s.tag=0,s=Qg(null,s,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===X){s.tag=11,s=Lv(null,s,i,h,l);break e}else if(y===I){s.tag=14,s=kv(null,s,i,h,l);break e}}throw s=ne(i)||i,Error(r(306,s,""))}}return s;case 0:return Qg(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,y=vc(h,s.pendingProps),Vv(i,s,h,y,l);case 3:e:{if(Re(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;y=_.element,Mr(i,s),ii(s,h,null,l);var P=s.memoizedState;if(h=P.cache,Vo(s,ei,h),h!==_.cache&&wl(s,[ei],l,!0),Ar(),h=P.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:P.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Bv(i,s,h,l);break e}else if(h!==y){y=Ja(Error(r(424)),s),su(y),s=Bv(i,s,h,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Rr=Gs(i.firstChild),zi=s,kn=!0,fa=null,Hr=!0,l=bn(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(_l(),h===y){s=Nl(i,s,l);break e}ma(i,s,h,l)}s=s.child}return s;case 26:return bm(i,s),i===null?(l=eb(s.type,null,s.pendingProps,null))?s.memoizedState=l:kn||(l=s.type,i=s.pendingProps,h=Om(he.current).createElement(l),h[ot]=s,h[lt]=i,pa(h,l,i),ar(h),s.stateNode=h):s.memoizedState=eb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Pe(s),i===null&&kn&&(h=s.stateNode=X5(s.type,s.pendingProps,he.current),zi=s,Hr=!0,y=Rr,_u(s.type)?(O1=y,Rr=Gs(h.firstChild)):Rr=y),ma(i,s,s.pendingProps.children,l),bm(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&kn&&((y=h=Rr)&&(h=_N(h,s.type,s.pendingProps,Hr),h!==null?(s.stateNode=h,zi=s,Rr=Gs(h.firstChild),Hr=!1,y=!0):y=!1),y||Oo(s)),Pe(s),y=s.type,_=s.pendingProps,P=i!==null?i.memoizedProps:null,h=_.children,L1(y,_)?h=null:P!==null&&L1(y,P)&&(s.flags|=32),s.memoizedState!==null&&(y=Tf(i,s,Vg,null,null,l),Xf._currentValue=y),bm(i,s),ma(i,s,h,l),s.child;case 6:return i===null&&kn&&((i=l=Rr)&&(l=wN(l,s.pendingProps,Hr),l!==null?(s.stateNode=l,zi=s,Rr=null,i=!0):i=!1),i||Oo(s)),null;case 13:return jv(i,s,l);case 4:return Re(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Ir(s,null,h,l):ma(i,s,h,l),s.child;case 11:return Lv(i,s,s.type,s.pendingProps,l);case 7:return ma(i,s,s.pendingProps,l),s.child;case 8:return ma(i,s,s.pendingProps.children,l),s.child;case 12:return ma(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Vo(s,s.type,h.value),ma(i,s,h.children,l),s.child;case 9:return y=s.type._context,h=s.pendingProps.children,jo(s),y=Hi(y),h=h(y),s.flags|=1,ma(i,s,h,l),s.child;case 14:return kv(i,s,s.type,s.pendingProps,l);case 15:return Pv(i,s,s.type,s.pendingProps,l);case 19:return zv(i,s,l);case 31:return q6(i,s,l);case 22:return Dv(i,s,l,s.pendingProps);case 24:return jo(s),h=Hi(ei),i===null?(y=Q(),y===null&&(y=Lr,_=lu(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),s.memoizedState={parent:h,cache:y},ct(s),Vo(s,ei,y)):((i.lanes&l)!==0&&(Mr(i,s),ii(s,null,null,l),Ar()),y=i.memoizedState,_=s.memoizedState,y.parent!==h?(y={parent:h,cache:h},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Vo(s,ei,h)):(h=_.cache,Vo(s,ei,h),h!==y.cache&&wl(s,[ei],l,!0))),ma(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xl(i){i.flags|=4}function i1(i,s,l,h,y){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(g5())i.flags|=8192;else throw ze=Ae,De}else i.flags&=-16777217}function Hv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ab(s))if(g5())i.flags|=8192;else throw ze=Ae,De}function wm(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ki():536870912,i.lanes|=s,vh|=s)}function Uf(i,s){if(!kn)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Vr(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function G6(i,s,l){var h=s.pendingProps;switch(th(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(s),null;case 1:return Vr(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),rs(ei),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(qi(s)?xl(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nf())),Vr(s),null;case 26:var y=s.type,_=s.memoizedState;return i===null?(xl(s),_!==null?(Vr(s),Hv(s,_)):(Vr(s),i1(s,y,null,h,l))):_?_!==i.memoizedState?(xl(s),Vr(s),Hv(s,_)):(Vr(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&xl(s),Vr(s),i1(s,y,i,h,l)),null;case 27:if(Ke(s),l=he.current,y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&xl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Vr(s),null}i=ee.current,qi(s)?Sf(s):(i=X5(y,h,l),s.stateNode=i,xl(s))}return Vr(s),null;case 5:if(Ke(s),y=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&xl(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Vr(s),null}if(_=ee.current,qi(s))Sf(s);else{var P=Om(he.current);switch(_){case 1:_=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=P.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?P.createElement("select",{is:h.is}):P.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?P.createElement(y,{is:h.is}):P.createElement(y)}}_[ot]=s,_[lt]=h;e:for(P=s.child;P!==null;){if(P.tag===5||P.tag===6)_.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===s)break e;for(;P.sibling===null;){if(P.return===null||P.return===s)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}s.stateNode=_;e:switch(pa(_,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&xl(s)}}return Vr(s),i1(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&xl(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=he.current,qi(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,y=zi,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[ot]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||j5(i.nodeValue,l)),i||Oo(s,!0)}else i=Om(i).createTextNode(h),i[ot]=s,s.stateNode=i}return Vr(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=qi(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[ot]=s}else _l(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vr(s),i=!1}else l=Nf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(pr(s),s):(pr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Vr(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=qi(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[ot]=s}else _l(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vr(s),y=!1}else y=Nf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(pr(s),s):(pr(s),null)}return pr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==y&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),wm(s,s.updateQueue),Vr(s),null);case 4:return pe(),i===null&&x1(s.stateNode.containerInfo),Vr(s),null;case 10:return rs(s.type),Vr(s),null;case 19:if(V(Hn),h=s.memoizedState,h===null)return Vr(s),null;if(y=(s.flags&128)!==0,_=h.rendering,_===null)if(y)Uf(h,!1);else{if(ui!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=ta(i),_!==null){for(s.flags|=128,Uf(h,!1),i=_.updateQueue,s.updateQueue=i,wm(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)hc(l,i),l=l.sibling;return W(Hn,Hn.current&1|2),kn&&za(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Ht()>xm&&(s.flags|=128,y=!0,Uf(h,!1),s.lanes=4194304)}else{if(!y)if(i=ta(_),i!==null){if(s.flags|=128,y=!0,i=i.updateQueue,s.updateQueue=i,wm(s,i),Uf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!kn)return Vr(s),null}else 2*Ht()-h.renderingStartTime>xm&&l!==536870912&&(s.flags|=128,y=!0,Uf(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(i=h.last,i!==null?i.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ht(),i.sibling=null,l=Hn.current,W(Hn,y?l&1|2:l&1),kn&&za(s,h.treeForkCount),i):(Vr(s),null);case 22:case 23:return pr(s),yi(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Vr(s),s.subtreeFlags&6&&(s.flags|=8192)):Vr(s),l=s.updateQueue,l!==null&&wm(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&V(Y),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rs(ei),Vr(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function K6(i,s){switch(th(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return rs(ei),pe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ke(s),null;case 31:if(s.memoizedState!==null){if(pr(s),s.alternate===null)throw Error(r(340));_l()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(pr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_l()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return V(Hn),null;case 4:return pe(),null;case 10:return rs(s.type),null;case 22:case 23:return pr(s),yi(),i!==null&&V(Y),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return rs(ei),null;case 25:return null;default:return null}}function Gv(i,s){switch(th(s),s.tag){case 3:rs(ei),pe();break;case 26:case 27:case 5:Ke(s);break;case 4:pe();break;case 31:s.memoizedState!==null&&pr(s);break;case 13:pr(s);break;case 19:V(Hn);break;case 10:rs(s.type);break;case 22:case 23:pr(s),yi(),i!==null&&V(Y);break;case 24:rs(ei)}}function Vf(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var _=l.create,P=l.inst;h=_(),P.destroy=h}l=l.next}while(l!==y)}}catch($){yr(s,s.return,$)}}function du(i,s,l){try{var h=s.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&i)===i){var P=h.inst,$=P.destroy;if($!==void 0){P.destroy=void 0,y=s;var de=l,Oe=$;try{Oe()}catch(Ge){yr(y,de,Ge)}}}h=h.next}while(h!==_)}}catch(Ge){yr(s,s.return,Ge)}}function Kv(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{ai(s,l)}catch(h){yr(i,i.return,h)}}}function Yv(i,s,l){l.props=vc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){yr(i,s,h)}}function Bf(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){yr(i,s,y)}}function Go(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){yr(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){yr(i,s,y)}else l.current=null}function Wv(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){yr(i,i.return,y)}}function a1(i,s,l){try{var h=i.stateNode;mN(h,i.type,l,s),h[lt]=s}catch(y){yr(i,i.return,y)}}function $v(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_u(i.type)||i.tag===4}function s1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$v(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_u(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function o1(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ma));else if(h!==4&&(h===27&&_u(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(o1(i,s,l),i=i.sibling;i!==null;)o1(i,s,l),i=i.sibling}function Em(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&_u(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Em(i,s,l),i=i.sibling;i!==null;)Em(i,s,l),i=i.sibling}function Qv(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);pa(s,h,l),s[ot]=i,s[lt]=l}catch(_){yr(i,i.return,_)}}var Tl=!1,Ci=!1,l1=!1,Xv=typeof WeakSet=="function"?WeakSet:Set,na=null;function Y6(i,s){if(i=i.containerInfo,R1=qm,i=uo(i),js(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var P=0,$=-1,de=-1,Oe=0,Ge=0,Xe=i,Ve=null;t:for(;;){for(var je;Xe!==l||y!==0&&Xe.nodeType!==3||($=P+y),Xe!==_||h!==0&&Xe.nodeType!==3||(de=P+h),Xe.nodeType===3&&(P+=Xe.nodeValue.length),(je=Xe.firstChild)!==null;)Ve=Xe,Xe=je;for(;;){if(Xe===i)break t;if(Ve===l&&++Oe===y&&($=P),Ve===_&&++Ge===h&&(de=P),(je=Xe.nextSibling)!==null)break;Xe=Ve,Ve=Xe.parentNode}Xe=je}l=$===-1||de===-1?null:{start:$,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(I1={focusedElem:i,selectionRange:l},qm=!1,na=s;na!==null;)if(s=na,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,na=i;else for(;na!==null;){switch(s=na,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,y=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Ct=vc(l.type,y);i=h.getSnapshotBeforeUpdate(Ct,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(rn){yr(l,l.return,rn)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)P1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":P1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,na=i;break}na=s.return}}function Jv(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Rl(i,l),h&4&&Vf(5,l);break;case 1:if(Rl(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(P){yr(l,l.return,P)}else{var y=vc(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(P){yr(l,l.return,P)}}h&64&&Kv(l),h&512&&Bf(l,l.return);break;case 3:if(Rl(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ai(i,s)}catch(P){yr(l,l.return,P)}}break;case 27:s===null&&h&4&&Qv(l);case 26:case 5:Rl(i,l),s===null&&h&4&&Wv(l),h&512&&Bf(l,l.return);break;case 12:Rl(i,l);break;case 31:Rl(i,l),h&4&&t5(i,l);break;case 13:Rl(i,l),h&4&&n5(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=nN.bind(null,l),EN(i,l))));break;case 22:if(h=l.memoizedState!==null||Tl,!h){s=s!==null&&s.memoizedState!==null||Ci,y=Tl;var _=Ci;Tl=h,(Ci=s)&&!_?Il(i,l,(l.subtreeFlags&8772)!==0):Rl(i,l),Tl=y,Ci=_}break;case 30:break;default:Rl(i,l)}}function Zv(i){var s=i.alternate;s!==null&&(i.alternate=null,Zv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Zn(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yr=null,as=!1;function Cl(i,s,l){for(l=l.child;l!==null;)e5(i,s,l),l=l.sibling}function e5(i,s,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(dn,l)}catch{}switch(l.tag){case 26:Ci||Go(l,s),Cl(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ci||Go(l,s);var h=Yr,y=as;_u(l.type)&&(Yr=l.stateNode,as=!1),Cl(i,s,l),Wf(l.stateNode),Yr=h,as=y;break;case 5:Ci||Go(l,s);case 6:if(h=Yr,y=as,Yr=null,Cl(i,s,l),Yr=h,as=y,Yr!==null)if(as)try{(Yr.nodeType===9?Yr.body:Yr.nodeName==="HTML"?Yr.ownerDocument.body:Yr).removeChild(l.stateNode)}catch(_){yr(l,s,_)}else try{Yr.removeChild(l.stateNode)}catch(_){yr(l,s,_)}break;case 18:Yr!==null&&(as?(i=Yr,K5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),xh(i)):K5(Yr,l.stateNode));break;case 4:h=Yr,y=as,Yr=l.stateNode.containerInfo,as=!0,Cl(i,s,l),Yr=h,as=y;break;case 0:case 11:case 14:case 15:du(2,l,s),Ci||du(4,l,s),Cl(i,s,l);break;case 1:Ci||(Go(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Yv(l,s,h)),Cl(i,s,l);break;case 21:Cl(i,s,l);break;case 22:Ci=(h=Ci)||l.memoizedState!==null,Cl(i,s,l),Ci=h;break;default:Cl(i,s,l)}}function t5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{xh(i)}catch(l){yr(s,s.return,l)}}}function n5(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xh(i)}catch(l){yr(s,s.return,l)}}function W6(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Xv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Xv),s;default:throw Error(r(435,i.tag))}}function Am(i,s){var l=W6(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var y=rN.bind(null,i,h);h.then(y,y)}})}function ss(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],_=i,P=s,$=P;e:for(;$!==null;){switch($.tag){case 27:if(_u($.type)){Yr=$.stateNode,as=!1;break e}break;case 5:Yr=$.stateNode,as=!1;break e;case 3:case 4:Yr=$.stateNode.containerInfo,as=!0;break e}$=$.return}if(Yr===null)throw Error(r(160));e5(_,P,y),Yr=null,as=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)r5(s,i),s=s.sibling}var vo=null;function r5(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ss(s,i),os(i),h&4&&(du(3,i,i.return),Vf(3,i),du(5,i,i.return));break;case 1:ss(s,i),os(i),h&512&&(Ci||l===null||Go(l,l.return)),h&64&&Tl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=vo;if(ss(s,i),os(i),h&512&&(Ci||l===null||Go(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Mn]||_[ot]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(h),y.head.insertBefore(_,y.querySelector("head > title"))),pa(_,h,l),_[ot]=i,ar(_),h=_;break e;case"link":var P=rb("link","href",y).get(h+(l.href||""));if(P){for(var $=0;$<P.length;$++)if(_=P[$],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){P.splice($,1);break t}}_=y.createElement(h),pa(_,h,l),y.head.appendChild(_);break;case"meta":if(P=rb("meta","content",y).get(h+(l.content||""))){for($=0;$<P.length;$++)if(_=P[$],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){P.splice($,1);break t}}_=y.createElement(h),pa(_,h,l),y.head.appendChild(_);break;default:throw Error(r(468,h))}_[ot]=i,ar(_),h=_}i.stateNode=h}else ib(y,i.type,i.stateNode);else i.stateNode=nb(y,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?ib(y,i.type,i.stateNode):nb(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&a1(i,i.memoizedProps,l.memoizedProps)}break;case 27:ss(s,i),os(i),h&512&&(Ci||l===null||Go(l,l.return)),l!==null&&h&4&&a1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ss(s,i),os(i),h&512&&(Ci||l===null||Go(l,l.return)),i.flags&32){y=i.stateNode;try{mi(y,"")}catch(Ct){yr(i,i.return,Ct)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,a1(i,y,l!==null?l.memoizedProps:y)),h&1024&&(l1=!0);break;case 6:if(ss(s,i),os(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Ct){yr(i,i.return,Ct)}}break;case 3:if(Bm=null,y=vo,vo=Um(s.containerInfo),ss(s,i),vo=y,os(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{xh(s.containerInfo)}catch(Ct){yr(i,i.return,Ct)}l1&&(l1=!1,i5(i));break;case 4:h=vo,vo=Um(i.stateNode.containerInfo),ss(s,i),os(i),vo=h;break;case 12:ss(s,i),os(i);break;case 31:ss(s,i),os(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Am(i,h)));break;case 13:ss(s,i),os(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Nm=Ht()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Am(i,h)));break;case 22:y=i.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,Oe=Tl,Ge=Ci;if(Tl=Oe||y,Ci=Ge||de,ss(s,i),Ci=Ge,Tl=Oe,os(i),h&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(l===null||de||Tl||Ci||bc(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){de=l=s;try{if(_=de.stateNode,y)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{$=de.stateNode;var Xe=de.memoizedProps.style,Ve=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;$.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Ct){yr(de,de.return,Ct)}}}else if(s.tag===6){if(l===null){de=s;try{de.stateNode.nodeValue=y?"":de.memoizedProps}catch(Ct){yr(de,de.return,Ct)}}}else if(s.tag===18){if(l===null){de=s;try{var je=de.stateNode;y?Y5(je,!0):Y5(de.stateNode,!1)}catch(Ct){yr(de,de.return,Ct)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Am(i,l))));break;case 19:ss(s,i),os(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Am(i,h)));break;case 30:break;case 21:break;default:ss(s,i),os(i)}}function os(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if($v(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,_=s1(i);Em(i,_,y);break;case 5:var P=l.stateNode;l.flags&32&&(mi(P,""),l.flags&=-33);var $=s1(i);Em(i,$,P);break;case 3:case 4:var de=l.stateNode.containerInfo,Oe=s1(i);o1(i,Oe,de);break;default:throw Error(r(161))}}catch(Ge){yr(i,i.return,Ge)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function i5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;i5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Rl(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jv(i,s.alternate,s),s=s.sibling}function bc(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:du(4,s,s.return),bc(s);break;case 1:Go(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Yv(s,s.return,l),bc(s);break;case 27:Wf(s.stateNode);case 26:case 5:Go(s,s.return),bc(s);break;case 22:s.memoizedState===null&&bc(s);break;case 30:bc(s);break;default:bc(s)}i=i.sibling}}function Il(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,y=i,_=s,P=_.flags;switch(_.tag){case 0:case 11:case 15:Il(y,_,l),Vf(4,_);break;case 1:if(Il(y,_,l),h=_,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Oe){yr(h,h.return,Oe)}if(h=_,y=h.updateQueue,y!==null){var $=h.stateNode;try{var de=y.shared.hiddenCallbacks;if(de!==null)for(y.shared.hiddenCallbacks=null,y=0;y<de.length;y++)ea(de[y],$)}catch(Oe){yr(h,h.return,Oe)}}l&&P&64&&Kv(_),Bf(_,_.return);break;case 27:Qv(_);case 26:case 5:Il(y,_,l),l&&h===null&&P&4&&Wv(_),Bf(_,_.return);break;case 12:Il(y,_,l);break;case 31:Il(y,_,l),l&&P&4&&t5(y,_);break;case 13:Il(y,_,l),l&&P&4&&n5(y,_);break;case 22:_.memoizedState===null&&Il(y,_,l),Bf(_,_.return);break;case 30:break;default:Il(y,_,l)}s=s.sibling}}function u1(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&mc(l))}function c1(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&mc(i))}function bo(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)a5(i,s,l,h),s=s.sibling}function a5(i,s,l,h){var y=s.flags;switch(s.tag){case 0:case 11:case 15:bo(i,s,l,h),y&2048&&Vf(9,s);break;case 1:bo(i,s,l,h);break;case 3:bo(i,s,l,h),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&mc(i)));break;case 12:if(y&2048){bo(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,P=_.id,$=_.onPostCommit;typeof $=="function"&&$(P,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){yr(s,s.return,de)}}else bo(i,s,l,h);break;case 31:bo(i,s,l,h);break;case 13:bo(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,P=s.alternate,s.memoizedState!==null?_._visibility&2?bo(i,s,l,h):jf(i,s):_._visibility&2?bo(i,s,l,h):(_._visibility|=2,ph(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),y&2048&&u1(P,s);break;case 24:bo(i,s,l,h),y&2048&&c1(s.alternate,s);break;default:bo(i,s,l,h)}}function ph(i,s,l,h,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,P=s,$=l,de=h,Oe=P.flags;switch(P.tag){case 0:case 11:case 15:ph(_,P,$,de,y),Vf(8,P);break;case 23:break;case 22:var Ge=P.stateNode;P.memoizedState!==null?Ge._visibility&2?ph(_,P,$,de,y):jf(_,P):(Ge._visibility|=2,ph(_,P,$,de,y)),y&&Oe&2048&&u1(P.alternate,P);break;case 24:ph(_,P,$,de,y),y&&Oe&2048&&c1(P.alternate,P);break;default:ph(_,P,$,de,y)}s=s.sibling}}function jf(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,y=h.flags;switch(h.tag){case 22:jf(l,h),y&2048&&u1(h.alternate,h);break;case 24:jf(l,h),y&2048&&c1(h.alternate,h);break;default:jf(l,h)}s=s.sibling}}var Ff=8192;function gh(i,s,l){if(i.subtreeFlags&Ff)for(i=i.child;i!==null;)s5(i,s,l),i=i.sibling}function s5(i,s,l){switch(i.tag){case 26:gh(i,s,l),i.flags&Ff&&i.memoizedState!==null&&DN(l,vo,i.memoizedState,i.memoizedProps);break;case 5:gh(i,s,l);break;case 3:case 4:var h=vo;vo=Um(i.stateNode.containerInfo),gh(i,s,l),vo=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Ff,Ff=16777216,gh(i,s,l),Ff=h):gh(i,s,l));break;default:gh(i,s,l)}}function o5(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function zf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];na=h,u5(h,i)}o5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l5(i),i=i.sibling}function l5(i){switch(i.tag){case 0:case 11:case 15:zf(i),i.flags&2048&&du(9,i,i.return);break;case 3:zf(i);break;case 12:zf(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Sm(i)):zf(i);break;default:zf(i)}}function Sm(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];na=h,u5(h,i)}o5(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:du(8,s,s.return),Sm(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Sm(s));break;default:Sm(s)}i=i.sibling}}function u5(i,s){for(;na!==null;){var l=na;switch(l.tag){case 0:case 11:case 15:du(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:mc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,na=h;else e:for(l=i;na!==null;){h=na;var y=h.sibling,_=h.return;if(Zv(h),h===l){na=null;break e}if(y!==null){y.return=_,na=y;break e}na=_}}}var $6={getCacheForType:function(i){var s=Hi(ei),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Hi(ei).controller.signal}},Q6=typeof WeakMap=="function"?WeakMap:Map,lr=0,Lr=null,Pn=null,On=0,gr=0,ws=null,mu=!1,yh=!1,h1=!1,Ll=0,ui=0,pu=0,_c=0,f1=0,Es=0,vh=0,qf=null,ls=null,d1=!1,Nm=0,c5=0,xm=1/0,Tm=null,gu=null,Ki=0,yu=null,bh=null,kl=0,m1=0,p1=null,h5=null,Hf=0,g1=null;function As(){return(lr&2)!==0&&On!==0?On&-On:ie.T!==null?E1():nt()}function f5(){if(Es===0)if((On&536870912)===0||kn){var i=zn;zn<<=1,(zn&3932160)===0&&(zn=262144),Es=i}else Es=536870912;return i=Ur.current,i!==null&&(i.flags|=32),Es}function us(i,s,l){(i===Lr&&(gr===2||gr===9)||i.cancelPendingCommit!==null)&&(_h(i,0),vu(i,On,Es,!1)),Vt(i,l),((lr&2)===0||i!==Lr)&&(i===Lr&&((lr&2)===0&&(_c|=l),ui===4&&vu(i,On,Es,!1)),Ko(i))}function d5(i,s,l){if((lr&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||fi(i,s),y=h?Z6(i,s):v1(i,s,!0),_=h;do{if(y===0){yh&&!h&&vu(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!X6(l)){y=v1(i,s,!1),_=!1;continue}if(y===2){if(_=s,i.errorRecoveryDisabledLanes&_)var P=0;else P=i.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){s=P;e:{var $=i;y=qf;var de=$.current.memoizedState.isDehydrated;if(de&&(_h($,P).flags|=256),P=v1($,P,!1),P!==2){if(h1&&!de){$.errorRecoveryDisabledLanes|=_,_c|=_,y=4;break e}_=ls,ls=y,_!==null&&(ls===null?ls=_:ls.push.apply(ls,_))}y=P}if(_=!1,y!==2)continue}}if(y===1){_h(i,0),vu(i,s,0,!0);break}e:{switch(h=i,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vu(h,s,Es,!mu);break e;case 2:ls=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=Nm+300-Ht(),10<y)){if(vu(h,s,Es,!mu),vn(h,0,!0)!==0)break e;kl=s,h.timeoutHandle=H5(m5.bind(null,h,l,ls,Tm,d1,s,Es,_c,vh,mu,_,"Throttled",-0,0),y);break e}m5(h,l,ls,Tm,d1,s,Es,_c,vh,mu,_,null,-0,0)}}break}while(!0);Ko(i)}function m5(i,s,l,h,y,_,P,$,de,Oe,Ge,Xe,Ve,je){if(i.timeoutHandle=-1,Xe=s.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},s5(s,_,Xe);var Ct=(_&62914560)===_?Nm-Ht():(_&4194048)===_?c5-Ht():0;if(Ct=MN(Xe,Ct),Ct!==null){kl=_,i.cancelPendingCommit=Ct(E5.bind(null,i,s,_,l,h,y,P,$,de,Ge,Xe,null,Ve,je)),vu(i,_,P,!Oe);return}}E5(i,s,_,l,h,y,P,$,de)}function X6(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],_=y.getSnapshot;y=y.value;try{if(!ji(_(),y))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vu(i,s,l,h){s&=~f1,s&=~_c,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var y=s;0<y;){var _=31-on(y),P=1<<_;h[_]=-1,y&=~P}l!==0&&Pi(i,l,s)}function Cm(){return(lr&6)===0?(Gf(0),!1):!0}function y1(){if(Pn!==null){if(gr===0)var i=Pn.return;else i=Pn,zs=Uo=null,lh(i),Ze=null,kt=0,i=Pn;for(;i!==null;)Gv(i.alternate,i),i=i.return;Pn=null}}function _h(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,yN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),kl=0,y1(),Lr=i,Pn=l=Xa(i.current,null),On=s,gr=0,ws=null,mu=!1,yh=fi(i,s),h1=!1,vh=Es=f1=_c=pu=ui=0,ls=qf=null,d1=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var y=31-on(h),_=1<<y;s|=i[y],h&=~_}return Ll=s,lc(),l}function p5(i,s){Wt=null,ie.H=Mf,s===_e||s===ae?(s=We(),gr=3):s===De?(s=We(),gr=4):gr=s===$g?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ws=s,Pn===null&&(ui=1,ym(i,Ja(s,i.current)))}function g5(){var i=Ur.current;return i===null?!0:(On&4194048)===On?Yn===null:(On&62914560)===On||(On&536870912)!==0?i===Yn:!1}function y5(){var i=ie.H;return ie.H=Mf,i===null?Mf:i}function v5(){var i=ie.A;return ie.A=$6,i}function Rm(){ui=4,mu||(On&4194048)!==On&&Ur.current!==null||(yh=!0),(pu&134217727)===0&&(_c&134217727)===0||Lr===null||vu(Lr,On,Es,!1)}function v1(i,s,l){var h=lr;lr|=2;var y=y5(),_=v5();(Lr!==i||On!==s)&&(Tm=null,_h(i,s)),s=!1;var P=ui;e:do try{if(gr!==0&&Pn!==null){var $=Pn,de=ws;switch(gr){case 8:y1(),P=6;break e;case 3:case 2:case 9:case 6:Ur.current===null&&(s=!0);var Oe=gr;if(gr=0,ws=null,wh(i,$,de,Oe),l&&yh){P=0;break e}break;default:Oe=gr,gr=0,ws=null,wh(i,$,de,Oe)}}J6(),P=ui;break}catch(Ge){p5(i,Ge)}while(!0);return s&&i.shellSuspendCounter++,zs=Uo=null,lr=h,ie.H=y,ie.A=_,Pn===null&&(Lr=null,On=0,lc()),P}function J6(){for(;Pn!==null;)b5(Pn)}function Z6(i,s){var l=lr;lr|=2;var h=y5(),y=v5();Lr!==i||On!==s?(Tm=null,xm=Ht()+500,_h(i,s)):yh=fi(i,s);e:do try{if(gr!==0&&Pn!==null){s=Pn;var _=ws;t:switch(gr){case 1:gr=0,ws=null,wh(i,s,_,1);break;case 2:case 9:if(Le(_)){gr=0,ws=null,_5(s);break}s=function(){gr!==2&&gr!==9||Lr!==i||(gr=7),Ko(i)},_.then(s,s);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:Le(_)?(gr=0,ws=null,_5(s)):(gr=0,ws=null,wh(i,s,_,7));break;case 5:var P=null;switch(Pn.tag){case 26:P=Pn.memoizedState;case 5:case 27:var $=Pn;if(P?ab(P):$.stateNode.complete){gr=0,ws=null;var de=$.sibling;if(de!==null)Pn=de;else{var Oe=$.return;Oe!==null?(Pn=Oe,Im(Oe)):Pn=null}break t}}gr=0,ws=null,wh(i,s,_,5);break;case 6:gr=0,ws=null,wh(i,s,_,6);break;case 8:y1(),ui=6;break e;default:throw Error(r(462))}}eN();break}catch(Ge){p5(i,Ge)}while(!0);return zs=Uo=null,ie.H=h,ie.A=y,lr=l,Pn!==null?0:(Lr=null,On=0,lc(),ui)}function eN(){for(;Pn!==null&&!Rt();)b5(Pn)}function b5(i){var s=qv(i.alternate,i,Ll);i.memoizedProps=i.pendingProps,s===null?Im(i):Pn=s}function _5(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Uv(l,s,s.pendingProps,s.type,void 0,On);break;case 11:s=Uv(l,s,s.pendingProps,s.type.render,s.ref,On);break;case 5:lh(s);default:Gv(l,s),s=Pn=hc(s,Ll),s=qv(l,s,Ll)}i.memoizedProps=i.pendingProps,s===null?Im(i):Pn=s}function wh(i,s,l,h){zs=Uo=null,lh(s),Ze=null,kt=0;var y=s.return;try{if(z6(i,y,s,l,On)){ui=1,ym(i,Ja(l,i.current)),Pn=null;return}}catch(_){if(y!==null)throw Pn=y,_;ui=1,ym(i,Ja(l,i.current)),Pn=null;return}s.flags&32768?(kn||h===1?i=!0:yh||(On&536870912)!==0?i=!1:(mu=i=!0,(h===2||h===9||h===3||h===6)&&(h=Ur.current,h!==null&&h.tag===13&&(h.flags|=16384))),w5(s,i)):Im(s)}function Im(i){var s=i;do{if((s.flags&32768)!==0){w5(s,mu);return}i=s.return;var l=G6(s.alternate,s,Ll);if(l!==null){Pn=l;return}if(s=s.sibling,s!==null){Pn=s;return}Pn=s=i}while(s!==null);ui===0&&(ui=5)}function w5(i,s){do{var l=K6(i.alternate,i);if(l!==null){l.flags&=32767,Pn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Pn=i;return}Pn=i=l}while(i!==null);ui=6,Pn=null}function E5(i,s,l,h,y,_,P,$,de){i.cancelPendingCommit=null;do Lm();while(Ki!==0);if((lr&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Wc,ka(i,l,_,P,$,de),i===Lr&&(Pn=Lr=null,On=0),bh=s,yu=i,kl=l,m1=_,p1=y,h5=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iN(Ft,function(){return T5(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=ie.T,ie.T=null,y=ve.p,ve.p=2,P=lr,lr|=4;try{Y6(i,s,l)}finally{lr=P,ve.p=y,ie.T=h}}Ki=1,A5(),S5(),N5()}}function A5(){if(Ki===1){Ki=0;var i=yu,s=bh,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ie.T,ie.T=null;var h=ve.p;ve.p=2;var y=lr;lr|=4;try{r5(s,i);var _=I1,P=uo(i.containerInfo),$=_.focusedElem,de=_.selectionRange;if(P!==$&&$&&$.ownerDocument&&lo($.ownerDocument.documentElement,$)){if(de!==null&&js($)){var Oe=de.start,Ge=de.end;if(Ge===void 0&&(Ge=Oe),"selectionStart"in $)$.selectionStart=Oe,$.selectionEnd=Math.min(Ge,$.value.length);else{var Xe=$.ownerDocument||document,Ve=Xe&&Xe.defaultView||window;if(Ve.getSelection){var je=Ve.getSelection(),Ct=$.textContent.length,rn=Math.min(de.start,Ct),xr=de.end===void 0?rn:Math.min(de.end,Ct);!je.extend&&rn>xr&&(P=xr,xr=rn,rn=P);var Te=nu($,rn),we=nu($,xr);if(Te&&we&&(je.rangeCount!==1||je.anchorNode!==Te.node||je.anchorOffset!==Te.offset||je.focusNode!==we.node||je.focusOffset!==we.offset)){var Me=Xe.createRange();Me.setStart(Te.node,Te.offset),je.removeAllRanges(),rn>xr?(je.addRange(Me),je.extend(we.node,we.offset)):(Me.setEnd(we.node,we.offset),je.addRange(Me))}}}}for(Xe=[],je=$;je=je.parentNode;)je.nodeType===1&&Xe.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Xe.length;$++){var Qe=Xe[$];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}qm=!!R1,I1=R1=null}finally{lr=y,ve.p=h,ie.T=l}}i.current=s,Ki=2}}function S5(){if(Ki===2){Ki=0;var i=yu,s=bh,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ie.T,ie.T=null;var h=ve.p;ve.p=2;var y=lr;lr|=4;try{Jv(i,s.alternate,s)}finally{lr=y,ve.p=h,ie.T=l}}Ki=3}}function N5(){if(Ki===4||Ki===3){Ki=0,Tt();var i=yu,s=bh,l=kl,h=h5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ki=5:(Ki=0,bh=yu=null,x5(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(gu=null),Ye(l),s=s.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(dn,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=ie.T,y=ve.p,ve.p=2,ie.T=null;try{for(var _=i.onRecoverableError,P=0;P<h.length;P++){var $=h[P];_($.value,{componentStack:$.stack})}}finally{ie.T=s,ve.p=y}}(kl&3)!==0&&Lm(),Ko(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===g1?Hf++:(Hf=0,g1=i):Hf=0,Gf(0)}}function x5(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,mc(s)))}function Lm(){return A5(),S5(),N5(),T5()}function T5(){if(Ki!==5)return!1;var i=yu,s=m1;m1=0;var l=Ye(kl),h=ie.T,y=ve.p;try{ve.p=32>l?32:l,ie.T=null,l=p1,p1=null;var _=yu,P=kl;if(Ki=0,bh=yu=null,kl=0,(lr&6)!==0)throw Error(r(331));var $=lr;if(lr|=4,l5(_.current),a5(_,_.current,P,l),lr=$,Gf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(dn,_)}catch{}return!0}finally{ve.p=y,ie.T=h,x5(i,s)}}function C5(i,s,l){s=Ja(l,s),s=Wg(i.stateNode,s,2),i=Sn(i,s,2),i!==null&&(Vt(i,2),Ko(i))}function yr(i,s,l){if(i.tag===3)C5(i,i,l);else for(;s!==null;){if(s.tag===3){C5(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gu===null||!gu.has(h))){i=Ja(l,i),l=Rv(2),h=Sn(s,l,2),h!==null&&(Iv(l,h,s,i),Vt(h,2),Ko(h));break}}s=s.return}}function b1(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new Q6;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(l)||(h1=!0,y.add(l),i=tN.bind(null,i,s,l),s.then(i,i))}function tN(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Lr===i&&(On&l)===l&&(ui===4||ui===3&&(On&62914560)===On&&300>Ht()-Nm?(lr&2)===0&&_h(i,0):f1|=l,vh===On&&(vh=0)),Ko(i)}function R5(i,s){s===0&&(s=ki()),i=ho(i,s),i!==null&&(Vt(i,s),Ko(i))}function nN(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),R5(i,l)}function rN(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),R5(i,l)}function iN(i,s){return ht(i,s)}var km=null,Eh=null,_1=!1,Pm=!1,w1=!1,bu=0;function Ko(i){i!==Eh&&i.next===null&&(Eh===null?km=Eh=i:Eh=Eh.next=i),Pm=!0,_1||(_1=!0,sN())}function Gf(i,s){if(!w1&&Pm){w1=!0;do for(var l=!1,h=km;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var _=0;else{var P=h.suspendedLanes,$=h.pingedLanes;_=(1<<31-on(42|i)+1)-1,_&=y&~(P&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,P5(h,_))}else _=On,_=vn(h,h===Lr?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||fi(h,_)||(l=!0,P5(h,_));h=h.next}while(l);w1=!1}}function aN(){I5()}function I5(){Pm=_1=!1;var i=0;bu!==0&&gN()&&(i=bu);for(var s=Ht(),l=null,h=km;h!==null;){var y=h.next,_=L5(h,s);_===0?(h.next=null,l===null?km=y:l.next=y,y===null&&(Eh=l)):(l=h,(i!==0||(_&3)!==0)&&(Pm=!0)),h=y}Ki!==0&&Ki!==5||Gf(i),bu!==0&&(bu=0)}function L5(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var P=31-on(_),$=1<<P,de=y[P];de===-1?(($&l)===0||($&h)!==0)&&(y[P]=$r($,s)):de<=s&&(i.expiredLanes|=$),_&=~$}if(s=Lr,l=On,l=vn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(gr===2||gr===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ft(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||fi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&ft(h),Ye(l)){case 2:case 8:l=sn;break;case 32:l=Ft;break;case 268435456:l=an;break;default:l=Ft}return h=k5.bind(null,i),l=ht(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&ft(h),i.callbackPriority=2,i.callbackNode=null,2}function k5(i,s){if(Ki!==0&&Ki!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lm()&&i.callbackNode!==l)return null;var h=On;return h=vn(i,i===Lr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(d5(i,h,s),L5(i,Ht()),i.callbackNode!=null&&i.callbackNode===l?k5.bind(null,i):null)}function P5(i,s){if(Lm())return null;d5(i,s,!0)}function sN(){vN(function(){(lr&6)!==0?ht(Kt,aN):I5()})}function E1(){if(bu===0){var i=m;i===0&&(i=jt,jt<<=1,(jt&261888)===0&&(jt=256)),bu=i}return bu}function D5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$i(""+i)}function M5(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function oN(i,s,l,h,y){if(s==="submit"&&l&&l.stateNode===y){var _=D5((y[lt]||null).action),P=h.submitter;P&&(s=(s=P[lt]||null)?D5(s.formAction):P.getAttribute("formAction"),s!==null&&(_=s,P=null));var $=new Si("action","action",null,h,y);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(bu!==0){var de=P?M5(y,P):new FormData(y);zg(l,{pending:!0,data:de,method:y.method,action:_},null,de)}}else typeof _=="function"&&($.preventDefault(),de=P?M5(y,P):new FormData(y),zg(l,{pending:!0,data:de,method:y.method,action:_},_,de))},currentTarget:y}]})}}for(var A1=0;A1<yl.length;A1++){var S1=yl[A1],lN=S1.toLowerCase(),uN=S1[0].toUpperCase()+S1.slice(1);Qa(lN,"on"+uN)}Qa(gl,"onAnimationEnd"),Qa(sc,"onAnimationIteration"),Qa(_f,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(im,"onTransitionRun"),Qa(am,"onTransitionStart"),Qa(sm,"onTransitionCancel"),Qa(wf,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function O5(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var P=h.length-1;0<=P;P--){var $=h[P],de=$.instance,Oe=$.currentTarget;if($=$.listener,de!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=Oe;try{_(y)}catch(Ge){oc(Ge)}y.currentTarget=null,_=de}else for(P=0;P<h.length;P++){if($=h[P],de=$.instance,Oe=$.currentTarget,$=$.listener,de!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=Oe;try{_(y)}catch(Ge){oc(Ge)}y.currentTarget=null,_=de}}}}function Dn(i,s){var l=s[Nt];l===void 0&&(l=s[Nt]=new Set);var h=i+"__bubble";l.has(h)||(U5(s,i,2,!1),l.add(h))}function N1(i,s,l){var h=0;s&&(h|=4),U5(l,i,h,s)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function x1(i){if(!i[Dm]){i[Dm]=!0,Di.forEach(function(l){l!=="selectionchange"&&(cN.has(l)||N1(l,!1,i),N1(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Dm]||(s[Dm]=!0,N1("selectionchange",!1,s))}}function U5(i,s,l,h){switch(fb(s)){case 2:var y=VN;break;case 8:y=BN;break;default:y=F1}l=y.bind(null,s,l,i),y=void 0,!to||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(s,l,{capture:!0,passive:y}):i.addEventListener(s,l,!0):y!==void 0?i.addEventListener(s,l,{passive:y}):i.addEventListener(s,l,!1)}function T1(i,s,l,h,y){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var $=h.stateNode.containerInfo;if($===y)break;if(P===4)for(P=h.return;P!==null;){var de=P.tag;if((de===3||de===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;$!==null;){if(P=Qn($),P===null)return;if(de=P.tag,de===5||de===6||de===26||de===27){h=_=P;continue e}$=$.parentNode}}h=h.return}ks(function(){var Oe=_,Ge=Qi(l),Xe=[];e:{var Ve=Ef.get(i);if(Ve!==void 0){var je=Si,Ct=i;switch(i){case"keypress":if(oa(l)===0)break e;case"keydown":case"keyup":je=In;break;case"focusin":Ct="focus",je=Ua;break;case"focusout":Ct="blur",je=Ua;break;case"beforeblur":case"afterblur":je=Ua;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=N;break;case gl:case sc:case _f:je=E;break;case wf:je=J;break;case"scroll":case"scrollend":je=Ps;break;case"wheel":je=Ue;break;case"copy":case"cut":case"paste":je=se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=hr;break;case"toggle":case"beforetoggle":je=fn}var rn=(s&4)!==0,xr=!rn&&(i==="scroll"||i==="scrollend"),Te=rn?Ve!==null?Ve+"Capture":null:Ve;rn=[];for(var we=Oe,Me;we!==null;){var Qe=we;if(Me=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Me===null||Te===null||(Qe=pi(we,Te),Qe!=null&&rn.push(Yf(we,Qe,Me))),xr)break;we=we.return}0<rn.length&&(Ve=new je(Ve,Ct,null,l,Ge),Xe.push({event:Ve,listeners:rn}))}}if((s&7)===0){e:{if(Ve=i==="mouseover"||i==="pointerover",je=i==="mouseout"||i==="pointerout",Ve&&l!==ps&&(Ct=l.relatedTarget||l.fromElement)&&(Qn(Ct)||Ct[pt]))break e;if((je||Ve)&&(Ve=Ge.window===Ge?Ge:(Ve=Ge.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,je?(Ct=l.relatedTarget||l.toElement,je=Oe,Ct=Ct?Qn(Ct):null,Ct!==null&&(xr=o(Ct),rn=Ct.tag,Ct!==xr||rn!==5&&rn!==27&&rn!==6)&&(Ct=null)):(je=null,Ct=Oe),je!==Ct)){if(rn=Lo,Qe="onMouseLeave",Te="onMouseEnter",we="mouse",(i==="pointerout"||i==="pointerover")&&(rn=hr,Qe="onPointerLeave",Te="onPointerEnter",we="pointer"),xr=je==null?Ve:cr(je),Me=Ct==null?Ve:cr(Ct),Ve=new rn(Qe,we+"leave",je,l,Ge),Ve.target=xr,Ve.relatedTarget=Me,Qe=null,Qn(Ge)===Oe&&(rn=new rn(Te,we+"enter",Ct,l,Ge),rn.target=Me,rn.relatedTarget=xr,Qe=rn),xr=Qe,je&&Ct)t:{for(rn=hN,Te=je,we=Ct,Me=0,Qe=Te;Qe;Qe=rn(Qe))Me++;Qe=0;for(var Jt=we;Jt;Jt=rn(Jt))Qe++;for(;0<Me-Qe;)Te=rn(Te),Me--;for(;0<Qe-Me;)we=rn(we),Qe--;for(;Me--;){if(Te===we||we!==null&&Te===we.alternate){rn=Te;break t}Te=rn(Te),we=rn(we)}rn=null}else rn=null;je!==null&&V5(Xe,Ve,je,rn,!1),Ct!==null&&xr!==null&&V5(Xe,xr,Ct,rn,!0)}}e:{if(Ve=Oe?cr(Oe):window,je=Ve.nodeName&&Ve.nodeName.toLowerCase(),je==="select"||je==="input"&&Ve.type==="file")var rr=Po;else if(ic(Ve))if(_a)rr=Vs;else{rr=Jr;var Bt=eu}else je=Ve.nodeName,!je||je.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Oe&&Co(Oe.elementType)&&(rr=Po):rr=Yc;if(rr&&(rr=rr(i,Oe))){Ba(Xe,rr,l,Ge);break e}Bt&&Bt(i,Ve,Oe),i==="focusout"&&Oe&&Ve.type==="number"&&Oe.memoizedProps.value!=null&&ul(Ve,"number",Ve.value)}switch(Bt=Oe?cr(Oe):window,i){case"focusin":(ic(Bt)||Bt.contentEditable==="true")&&(ja=Bt,co=Oe,Xi=null);break;case"focusout":Xi=co=ja=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,Xn(Xe,l,Ge);break;case"selectionchange":if(pl)break;case"keydown":case"keyup":Xn(Xe,l,Ge)}var Nn;if(xn)e:{switch(i){case"compositionstart":var Un="onCompositionStart";break e;case"compositionend":Un="onCompositionEnd";break e;case"compositionupdate":Un="onCompositionUpdate";break e}Un=void 0}else Ms?Va(i,l)&&(Un="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Un="onCompositionStart");Un&&(Vi&&l.locale!=="ko"&&(Ms||Un!=="onCompositionStart"?Un==="onCompositionEnd"&&Ms&&(Nn=dl()):(sa=Ge,no="value"in sa?sa.value:sa.textContent,Ms=!0)),Bt=Mm(Oe,Un),0<Bt.length&&(Un=new Ne(Un,i,null,l,Ge),Xe.push({event:Un,listeners:Bt}),Nn?Un.data=Nn:(Nn=Ds(l),Nn!==null&&(Un.data=Nn)))),(Nn=Ni?ca(i,l):io(i,l))&&(Un=Mm(Oe,"onBeforeInput"),0<Un.length&&(Bt=new Ne("onBeforeInput","beforeinput",null,l,Ge),Xe.push({event:Bt,listeners:Un}),Bt.data=Nn)),oN(Xe,i,Oe,l,Ge)}O5(Xe,s)})}function Yf(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Mm(i,s){for(var l=s+"Capture",h=[];i!==null;){var y=i,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=pi(i,l),y!=null&&h.unshift(Yf(i,y,_)),y=pi(i,s),y!=null&&h.push(Yf(i,y,_))),i.tag===3)return h;i=i.return}return[]}function hN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function V5(i,s,l,h,y){for(var _=s._reactName,P=[];l!==null&&l!==h;){var $=l,de=$.alternate,Oe=$.stateNode;if($=$.tag,de!==null&&de===h)break;$!==5&&$!==26&&$!==27||Oe===null||(de=Oe,y?(Oe=pi(l,_),Oe!=null&&P.unshift(Yf(l,Oe,de))):y||(Oe=pi(l,_),Oe!=null&&P.push(Yf(l,Oe,de)))),l=l.return}P.length!==0&&i.push({event:s,listeners:P})}var fN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function B5(i){return(typeof i=="string"?i:""+i).replace(fN,`
`).replace(dN,"")}function j5(i,s){return s=B5(s),B5(i)===s}function Nr(i,s,l,h,y,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||mi(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&mi(i,""+h);break;case"className":Tr(i,"class",h);break;case"tabIndex":Tr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(i,l,h);break;case"style":fl(i,h,_);break;case"data":if(s!=="object"){Tr(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=$i(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Nr(i,s,"name",y.name,y,null),Nr(i,s,"formEncType",y.formEncType,y,null),Nr(i,s,"formMethod",y.formMethod,y,null),Nr(i,s,"formTarget",y.formTarget,y,null)):(Nr(i,s,"encType",y.encType,y,null),Nr(i,s,"method",y.method,y,null),Nr(i,s,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=$i(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Ma);break;case"onScroll":h!=null&&Dn("scroll",i);break;case"onScrollEnd":h!=null&&Dn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=$i(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Dn("beforetoggle",i),Dn("toggle",i),Gn(i,"popover",h);break;case"xlinkActuate":er(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":er(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":er(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":er(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":er(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":er(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":er(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":er(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":er(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Gn(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ro.get(l)||l,Gn(i,l,h))}}function C1(i,s,l,h,y,_){switch(l){case"style":fl(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?mi(i,h):(typeof h=="number"||typeof h=="bigint")&&mi(i,""+h);break;case"onScroll":h!=null&&Dn("scroll",i);break;case"onScrollEnd":h!=null&&Dn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),s=l.slice(2,y?l.length-7:void 0),_=i[lt]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,y),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Gn(i,l,h)}}}function pa(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",i),Dn("load",i);var h=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var P=l[_];if(P!=null)switch(_){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Nr(i,s,_,P,l,null)}}y&&Nr(i,s,"srcSet",l.srcSet,l,null),h&&Nr(i,s,"src",l.src,l,null);return;case"input":Dn("invalid",i);var $=_=P=y=null,de=null,Oe=null;for(h in l)if(l.hasOwnProperty(h)){var Ge=l[h];if(Ge!=null)switch(h){case"name":y=Ge;break;case"type":P=Ge;break;case"checked":de=Ge;break;case"defaultChecked":Oe=Ge;break;case"value":_=Ge;break;case"defaultValue":$=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,s));break;default:Nr(i,s,h,Ge,l,null)}}Xl(i,_,$,de,Oe,P,y,!1);return;case"select":Dn("invalid",i),h=P=_=null;for(y in l)if(l.hasOwnProperty(y)&&($=l[y],$!=null))switch(y){case"value":_=$;break;case"defaultValue":P=$;break;case"multiple":h=$;default:Nr(i,s,y,$,l,null)}s=_,l=P,i.multiple=!!h,s!=null?Ui(i,!!h,s,!1):l!=null&&Ui(i,!!h,l,!0);return;case"textarea":Dn("invalid",i),_=y=h=null;for(P in l)if(l.hasOwnProperty(P)&&($=l[P],$!=null))switch(P){case"value":h=$;break;case"defaultValue":y=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Nr(i,s,P,$,l,null)}ds(i,h,y,_);return;case"option":for(de in l)l.hasOwnProperty(de)&&(h=l[de],h!=null)&&(de==="selected"?i.selected=h&&typeof h!="function"&&typeof h!="symbol":Nr(i,s,de,h,l,null));return;case"dialog":Dn("beforetoggle",i),Dn("toggle",i),Dn("cancel",i),Dn("close",i);break;case"iframe":case"object":Dn("load",i);break;case"video":case"audio":for(h=0;h<Kf.length;h++)Dn(Kf[h],i);break;case"image":Dn("error",i),Dn("load",i);break;case"details":Dn("toggle",i);break;case"embed":case"source":case"link":Dn("error",i),Dn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(h=l[Oe],h!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Nr(i,s,Oe,h,l,null)}return;default:if(Co(s)){for(Ge in l)l.hasOwnProperty(Ge)&&(h=l[Ge],h!==void 0&&C1(i,s,Ge,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&Nr(i,s,$,h,l,null))}function mN(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,P=null,$=null,de=null,Oe=null,Ge=null;for(je in l){var Xe=l[je];if(l.hasOwnProperty(je)&&Xe!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":de=Xe;default:h.hasOwnProperty(je)||Nr(i,s,je,null,h,Xe)}}for(var Ve in h){var je=h[Ve];if(Xe=l[Ve],h.hasOwnProperty(Ve)&&(je!=null||Xe!=null))switch(Ve){case"type":_=je;break;case"name":y=je;break;case"checked":Oe=je;break;case"defaultChecked":Ge=je;break;case"value":P=je;break;case"defaultValue":$=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,s));break;default:je!==Xe&&Nr(i,s,Ve,je,h,Xe)}}Zs(i,P,$,de,Oe,Ge,_,y);return;case"select":je=P=$=Ve=null;for(_ in l)if(de=l[_],l.hasOwnProperty(_)&&de!=null)switch(_){case"value":break;case"multiple":je=de;default:h.hasOwnProperty(_)||Nr(i,s,_,null,h,de)}for(y in h)if(_=h[y],de=l[y],h.hasOwnProperty(y)&&(_!=null||de!=null))switch(y){case"value":Ve=_;break;case"defaultValue":$=_;break;case"multiple":P=_;default:_!==de&&Nr(i,s,y,_,h,de)}s=$,l=P,h=je,Ve!=null?Ui(i,!!l,Ve,!1):!!h!=!!l&&(s!=null?Ui(i,!!l,s,!0):Ui(i,!!l,l?[]:"",!1));return;case"textarea":je=Ve=null;for($ in l)if(y=l[$],l.hasOwnProperty($)&&y!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Nr(i,s,$,null,h,y)}for(P in h)if(y=h[P],_=l[P],h.hasOwnProperty(P)&&(y!=null||_!=null))switch(P){case"value":Ve=y;break;case"defaultValue":je=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&Nr(i,s,P,y,h,_)}cl(i,Ve,je);return;case"option":for(var Ct in l)Ve=l[Ct],l.hasOwnProperty(Ct)&&Ve!=null&&!h.hasOwnProperty(Ct)&&(Ct==="selected"?i.selected=!1:Nr(i,s,Ct,null,h,Ve));for(de in h)Ve=h[de],je=l[de],h.hasOwnProperty(de)&&Ve!==je&&(Ve!=null||je!=null)&&(de==="selected"?i.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol":Nr(i,s,de,Ve,h,je));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in l)Ve=l[rn],l.hasOwnProperty(rn)&&Ve!=null&&!h.hasOwnProperty(rn)&&Nr(i,s,rn,null,h,Ve);for(Oe in h)if(Ve=h[Oe],je=l[Oe],h.hasOwnProperty(Oe)&&Ve!==je&&(Ve!=null||je!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,s));break;default:Nr(i,s,Oe,Ve,h,je)}return;default:if(Co(s)){for(var xr in l)Ve=l[xr],l.hasOwnProperty(xr)&&Ve!==void 0&&!h.hasOwnProperty(xr)&&C1(i,s,xr,void 0,h,Ve);for(Ge in h)Ve=h[Ge],je=l[Ge],!h.hasOwnProperty(Ge)||Ve===je||Ve===void 0&&je===void 0||C1(i,s,Ge,Ve,h,je);return}}for(var Te in l)Ve=l[Te],l.hasOwnProperty(Te)&&Ve!=null&&!h.hasOwnProperty(Te)&&Nr(i,s,Te,null,h,Ve);for(Xe in h)Ve=h[Xe],je=l[Xe],!h.hasOwnProperty(Xe)||Ve===je||Ve==null&&je==null||Nr(i,s,Xe,Ve,h,je)}function F5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],_=y.transferSize,P=y.initiatorType,$=y.duration;if(_&&$&&F5(P)){for(P=0,$=y.responseEnd,h+=1;h<l.length;h++){var de=l[h],Oe=de.startTime;if(Oe>$)break;var Ge=de.transferSize,Xe=de.initiatorType;Ge&&F5(Xe)&&(de=de.responseEnd,P+=Ge*(de<$?1:($-Oe)/(de-Oe)))}if(--h,s+=8*(_+P)/(y.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var R1=null,I1=null;function Om(i){return i.nodeType===9?i:i.ownerDocument}function z5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q5(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function L1(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var k1=null;function gN(){var i=window.event;return i&&i.type==="popstate"?i===k1?!1:(k1=i,!0):(k1=null,!1)}var H5=typeof setTimeout=="function"?setTimeout:void 0,yN=typeof clearTimeout=="function"?clearTimeout:void 0,G5=typeof Promise=="function"?Promise:void 0,vN=typeof queueMicrotask=="function"?queueMicrotask:typeof G5<"u"?function(i){return G5.resolve(null).then(i).catch(bN)}:H5;function bN(i){setTimeout(function(){throw i})}function _u(i){return i==="head"}function K5(i,s){var l=s,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),xh(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Wf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Wf(l);for(var _=l.firstChild;_;){var P=_.nextSibling,$=_.nodeName;_[Mn]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=P}}else l==="body"&&Wf(i.ownerDocument.body);l=y}while(l);xh(s)}function Y5(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function P1(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":P1(l),Zn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function _N(i,s,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Mn])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Gs(i.nextSibling),i===null)break}return null}function wN(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Gs(i.nextSibling),i===null))return null;return i}function W5(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Gs(i.nextSibling),i===null))return null;return i}function D1(i){return i.data==="$?"||i.data==="$~"}function M1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function EN(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Gs(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var O1=null;function $5(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Gs(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Q5(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function X5(i,s,l){switch(s=Om(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Wf(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Zn(i)}var Ks=new Map,J5=new Set;function Um(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pl=ve.d;ve.d={f:AN,r:SN,D:NN,C:xN,L:TN,m:CN,X:IN,S:RN,M:LN};function AN(){var i=Pl.f(),s=Cm();return i||s}function SN(i){var s=hn(i);s!==null&&s.tag===5&&s.type==="form"?pv(s):Pl.r(i)}var Ah=typeof document>"u"?null:document;function Z5(i,s,l){var h=Ah;if(h&&typeof s=="string"&&s){var y=qr(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),J5.has(y)||(J5.add(y),i={rel:i,crossOrigin:l,href:s},h.querySelector(y)===null&&(s=h.createElement("link"),pa(s,"link",i),ar(s),h.head.appendChild(s)))}}function NN(i){Pl.D(i),Z5("dns-prefetch",i,null)}function xN(i,s){Pl.C(i,s),Z5("preconnect",i,s)}function TN(i,s,l){Pl.L(i,s,l);var h=Ah;if(h&&i&&s){var y='link[rel="preload"][as="'+qr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+qr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+qr(l.imageSizes)+'"]')):y+='[href="'+qr(i)+'"]';var _=y;switch(s){case"style":_=Sh(i);break;case"script":_=Nh(i)}Ks.has(_)||(i=w({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ks.set(_,i),h.querySelector(y)!==null||s==="style"&&h.querySelector($f(_))||s==="script"&&h.querySelector(Qf(_))||(s=h.createElement("link"),pa(s,"link",i),ar(s),h.head.appendChild(s)))}}function CN(i,s){Pl.m(i,s);var l=Ah;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+qr(h)+'"][href="'+qr(i)+'"]',_=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Nh(i)}if(!Ks.has(_)&&(i=w({rel:"modulepreload",href:i},s),Ks.set(_,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Qf(_)))return}h=l.createElement("link"),pa(h,"link",i),ar(h),l.head.appendChild(h)}}}function RN(i,s,l){Pl.S(i,s,l);var h=Ah;if(h&&i){var y=zr(h).hoistableStyles,_=Sh(i);s=s||"default";var P=y.get(_);if(!P){var $={loading:0,preload:null};if(P=h.querySelector($f(_)))$.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ks.get(_))&&U1(i,l);var de=P=h.createElement("link");ar(de),pa(de,"link",i),de._p=new Promise(function(Oe,Ge){de.onload=Oe,de.onerror=Ge}),de.addEventListener("load",function(){$.loading|=1}),de.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Vm(P,s,h)}P={type:"stylesheet",instance:P,count:1,state:$},y.set(_,P)}}}function IN(i,s){Pl.X(i,s);var l=Ah;if(l&&i){var h=zr(l).hoistableScripts,y=Nh(i),_=h.get(y);_||(_=l.querySelector(Qf(y)),_||(i=w({src:i,async:!0},s),(s=Ks.get(y))&&V1(i,s),_=l.createElement("script"),ar(_),pa(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function LN(i,s){Pl.M(i,s);var l=Ah;if(l&&i){var h=zr(l).hoistableScripts,y=Nh(i),_=h.get(y);_||(_=l.querySelector(Qf(y)),_||(i=w({src:i,async:!0,type:"module"},s),(s=Ks.get(y))&&V1(i,s),_=l.createElement("script"),ar(_),pa(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function eb(i,s,l,h){var y=(y=he.current)?Um(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Sh(l.href),l=zr(y).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Sh(l.href);var _=zr(y).hoistableStyles,P=_.get(i);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,P),(_=y.querySelector($f(i)))&&!_._p&&(P.instance=_,P.state.loading=5),Ks.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ks.set(i,l),_||kN(y,i,l,P.state))),s&&h===null)throw Error(r(528,""));return P}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Nh(l),l=zr(y).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Sh(i){return'href="'+qr(i)+'"'}function $f(i){return'link[rel="stylesheet"]['+i+"]"}function tb(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function kN(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),pa(s,"link",l),ar(s),i.head.appendChild(s))}function Nh(i){return'[src="'+qr(i)+'"]'}function Qf(i){return"script[async]"+i}function nb(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+qr(l.href)+'"]');if(h)return s.instance=h,ar(h),h;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ar(h),pa(h,"style",y),Vm(h,l.precedence,i),s.instance=h;case"stylesheet":y=Sh(l.href);var _=i.querySelector($f(y));if(_)return s.state.loading|=4,s.instance=_,ar(_),_;h=tb(l),(y=Ks.get(y))&&U1(h,y),_=(i.ownerDocument||i).createElement("link"),ar(_);var P=_;return P._p=new Promise(function($,de){P.onload=$,P.onerror=de}),pa(_,"link",h),s.state.loading|=4,Vm(_,l.precedence,i),s.instance=_;case"script":return _=Nh(l.src),(y=i.querySelector(Qf(_)))?(s.instance=y,ar(y),y):(h=l,(y=Ks.get(_))&&(h=w({},l),V1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),ar(y),pa(y,"link",h),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Vm(h,l.precedence,i));return s.instance}function Vm(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,_=y,P=0;P<h.length;P++){var $=h[P];if($.dataset.precedence===s)_=$;else if(_!==y)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function U1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function V1(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Bm=null;function rb(i,s,l){if(Bm===null){var h=new Map,y=Bm=new Map;y.set(l,h)}else y=Bm,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var _=l[y];if(!(_[Mn]||_[ot]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(s)||"";P=i+P;var $=h.get(P);$?$.push(_):h.set(P,[_])}}return h}function ib(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function PN(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ab(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function DN(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Sh(h.href),_=s.querySelector($f(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=jm.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,ar(_);return}_=s.ownerDocument||s,h=tb(h),(y=Ks.get(y))&&U1(h,y),_=_.createElement("link"),ar(_);var P=_;P._p=new Promise(function($,de){P.onload=$,P.onerror=de}),pa(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=jm.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var B1=0;function MN(i,s){return i.stylesheets&&i.count===0&&zm(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&zm(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&B1===0&&(B1=62500*pN());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&zm(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>B1?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function jm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fm=null;function zm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fm=new Map,s.forEach(ON,i),Fm=null,jm.call(i))}function ON(i,s){if(!(s.state.loading&4)){var l=Fm.get(i);if(l)var h=l.get(null);else{l=new Map,Fm.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var P=y[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(l.set(P.dataset.precedence,P),h=P)}h&&l.set(null,h)}y=s.instance,P=y.getAttribute("data-precedence"),_=l.get(P)||h,_===h&&l.set(null,y),l.set(P,y),this.count++,h=jm.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),_?_.parentNode.insertBefore(y,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var Xf={$$typeof:G,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function UN(i,s,l,h,y,_,P,$,de){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function sb(i,s,l,h,y,_,P,$,de,Oe,Ge,Xe){return i=new UN(i,s,l,P,de,Oe,Ge,Xe,$),s=1,_===!0&&(s|=24),_=Zi(3,null,null,s),i.current=_,_.stateNode=i,s=lu(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},ct(_),i}function ob(i){return i?(i=Fi,i):Fi}function lb(i,s,l,h,y,_){y=ob(y),h.context===null?h.context=y:h.pendingContext=y,h=nn(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Sn(i,h,s),l!==null&&(us(l,i,s),sr(l,i,s))}function ub(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function j1(i,s){ub(i,s),(i=i.alternate)&&ub(i,s)}function cb(i){if(i.tag===13||i.tag===31){var s=ho(i,67108864);s!==null&&us(s,i,67108864),j1(i,67108864)}}function hb(i){if(i.tag===13||i.tag===31){var s=As();s=Ce(s);var l=ho(i,s);l!==null&&us(l,i,s),j1(i,s)}}var qm=!0;function VN(i,s,l,h){var y=ie.T;ie.T=null;var _=ve.p;try{ve.p=2,F1(i,s,l,h)}finally{ve.p=_,ie.T=y}}function BN(i,s,l,h){var y=ie.T;ie.T=null;var _=ve.p;try{ve.p=8,F1(i,s,l,h)}finally{ve.p=_,ie.T=y}}function F1(i,s,l,h){if(qm){var y=z1(h);if(y===null)T1(i,s,h,Hm,l),db(i,h);else if(FN(y,i,s,l,h))h.stopPropagation();else if(db(i,h),s&4&&-1<jN.indexOf(i)){for(;y!==null;){var _=hn(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=Mt(_.pendingLanes);if(P!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;P;){var de=1<<31-on(P);$.entanglements[1]|=de,P&=~de}Ko(_),(lr&6)===0&&(xm=Ht()+500,Gf(0))}}break;case 31:case 13:$=ho(_,2),$!==null&&us($,_,2),Cm(),j1(_,2)}if(_=z1(h),_===null&&T1(i,s,h,Hm,l),_===y)break;y=_}y!==null&&h.stopPropagation()}else T1(i,s,h,null,l)}}function z1(i){return i=Qi(i),q1(i)}var Hm=null;function q1(i){if(Hm=null,i=Qn(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Hm=i,null}function fb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tn()){case Kt:return 2;case sn:return 8;case Ft:case gt:return 32;case an:return 268435456;default:return 32}default:return 32}}var H1=!1,wu=null,Eu=null,Au=null,Jf=new Map,Zf=new Map,Su=[],jN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function db(i,s){switch(i){case"focusin":case"focusout":wu=null;break;case"dragenter":case"dragleave":Eu=null;break;case"mouseover":case"mouseout":Au=null;break;case"pointerover":case"pointerout":Jf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zf.delete(s.pointerId)}}function ed(i,s,l,h,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[y]},s!==null&&(s=hn(s),s!==null&&cb(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function FN(i,s,l,h,y){switch(s){case"focusin":return wu=ed(wu,i,s,l,h,y),!0;case"dragenter":return Eu=ed(Eu,i,s,l,h,y),!0;case"mouseover":return Au=ed(Au,i,s,l,h,y),!0;case"pointerover":var _=y.pointerId;return Jf.set(_,ed(Jf.get(_)||null,i,s,l,h,y)),!0;case"gotpointercapture":return _=y.pointerId,Zf.set(_,ed(Zf.get(_)||null,i,s,l,h,y)),!0}return!1}function mb(i){var s=Qn(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,mt(i.priority,function(){hb(l)});return}}else if(s===31){if(s=c(l),s!==null){i.blockedOn=s,mt(i.priority,function(){hb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gm(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=z1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ps=h,l.target.dispatchEvent(h),ps=null}else return s=hn(l),s!==null&&cb(s),i.blockedOn=l,!1;s.shift()}return!0}function pb(i,s,l){Gm(i)&&l.delete(s)}function zN(){H1=!1,wu!==null&&Gm(wu)&&(wu=null),Eu!==null&&Gm(Eu)&&(Eu=null),Au!==null&&Gm(Au)&&(Au=null),Jf.forEach(pb),Zf.forEach(pb)}function Km(i,s){i.blockedOn===s&&(i.blockedOn=null,H1||(H1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zN)))}var Ym=null;function gb(i){Ym!==i&&(Ym=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ym===i&&(Ym=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],y=i[s+2];if(typeof h!="function"){if(q1(h||l)===null)continue;break}var _=hn(l);_!==null&&(i.splice(s,3),s-=3,zg(_,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function xh(i){function s(de){return Km(de,i)}wu!==null&&Km(wu,i),Eu!==null&&Km(Eu,i),Au!==null&&Km(Au,i),Jf.forEach(s),Zf.forEach(s);for(var l=0;l<Su.length;l++){var h=Su[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Su.length&&(l=Su[0],l.blockedOn===null);)mb(l),l.blockedOn===null&&Su.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],_=l[h+1],P=y[lt]||null;if(typeof _=="function")P||gb(l);else if(P){var $=null;if(_&&_.hasAttribute("formAction")){if(y=_,P=_[lt]||null)$=P.formAction;else if(q1(y)!==null)continue}else $=P.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),gb(l)}}}function yb(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function G1(i){this._internalRoot=i}Wm.prototype.render=G1.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=As();lb(l,h,i,s,null,null)},Wm.prototype.unmount=G1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;lb(i.current,2,null,i,null,null),Cm(),s[pt]=null}};function Wm(i){this._internalRoot=i}Wm.prototype.unstable_scheduleHydration=function(i){if(i){var s=nt();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Su.length&&s!==0&&s<Su[l].priority;l++);Su.splice(l,0,i),l===0&&mb(i)}};var vb=e.version;if(vb!=="19.2.4")throw Error(r(527,vb,"19.2.4"));ve.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var qN={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$m.isDisabled&&$m.supportsFiber)try{dn=$m.inject(qN),St=$m}catch{}}return td.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",y=Nv,_=xv,P=Tv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(P=s.onRecoverableError)),s=sb(i,1,!1,null,null,l,h,null,y,_,P,yb),i[pt]=s.current,x1(i),new G1(s)},td.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,y="",_=Nv,P=xv,$=Tv,de=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(P=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.formState!==void 0&&(de=l.formState)),s=sb(i,1,!0,s,l??null,h,y,de,_,P,$,yb),s.context=ob(null),l=s.current,h=As(),h=Ce(h),y=nn(h),y.callback=null,Sn(l,y,h),l=h,s.current.lanes=l,Vt(s,l),Ko(s),i[pt]=s.current,x1(i),new Wm(s)},td.version="19.2.4",td}var xb;function JN(){if(xb)return Y1.exports;xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Y1.exports=XN(),Y1.exports}var ZN=JN();var N4=n=>{throw TypeError(n)},ex=(n,e,t)=>e.has(n)||N4("Cannot "+t),X1=(n,e,t)=>(ex(n,e,"read from private field"),t?t.call(n):e.get(n)),tx=(n,e,t)=>e.has(n)?N4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Tb="popstate";function nx(n={}){function e(r,a){let{pathname:o,search:u,hash:c}=r.location;return xd("",{pathname:o,search:u,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:sl(a)}return ix(e,t,null,n)}function Cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rx(){return Math.random().toString(36).substring(2,10)}function Cb(n,e){return{usr:n.state,key:n.key,idx:e}}function xd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zu(e):e,state:t,key:e&&e.key||r||rx()}}function sl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ix(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function w(){c="POP";let j=g(),B=j==null?null:j-d;d=j,f&&f({action:c,location:U.location,delta:B})}function A(j,B){c="PUSH";let K=xd(U.location,j,B);d=g()+1;let G=Cb(K,d),X=U.createHref(K);try{u.pushState(G,"",X)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;a.location.assign(X)}o&&f&&f({action:c,location:U.location,delta:1})}function b(j,B){c="REPLACE";let K=xd(U.location,j,B);d=g();let G=Cb(K,d),X=U.createHref(K);u.replaceState(G,"",X),o&&f&&f({action:c,location:U.location,delta:0})}function M(j){return x4(j)}let U={get action(){return c},get location(){return n(a,u)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Tb,w),f=j,()=>{a.removeEventListener(Tb,w),f=null}},createHref(j){return e(a,j)},createURL:M,encodeLocation(j){let B=M(j);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:A,replace:b,go(j){return u.go(j)}};return U}function x4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:sl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var ud,Rb=class{constructor(n){if(tx(this,ud,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(X1(this,ud).has(n))return X1(this,ud).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){X1(this,ud).set(n,e)}};ud=new WeakMap;var ax=new Set(["lazy","caseSensitive","path","id","index","children"]);function sx(n){return ax.has(n)}var ox=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function lx(n){return ox.has(n)}function ux(n){return n.index===!0}function Td(n,e,t=[],r={},a=!1){return n.map((o,u)=>{let c=[...t,String(u)],f=typeof o.id=="string"?o.id:c.join("-");if(Cn(o.index!==!0||!o.children,"Cannot specify children on an index route"),Cn(a||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),ux(o)){let d={...o,id:f};return r[f]=Ib(d,e(d)),d}else{let d={...o,id:f,children:void 0};return r[f]=Ib(d,e(d)),o.children&&(d.children=Td(o.children,e,c,r,a)),d}})}function Ib(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Iu(n,e,t="/"){return cd(n,e,t,!1)}function cd(n,e,t,r){let a=typeof e=="string"?Zu(e):e,o=Qs(a.pathname||"/",t);if(o==null)return null;let u=T4(n);hx(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=Ex(o);c=_x(u[f],d,r)}return c}function cx(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function T4(n,e=[],t=[],r="",a=!1){let o=(u,c,f=a,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;Cn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=Jo([r,g.relativePath]),A=t.concat(g);u.children&&u.children.length>0&&(Cn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),T4(u.children,e,A,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:vx(w,u.index),routesMeta:A})};return n.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))o(u,c);else for(let f of C4(u.path))o(u,c,!0,f)}),e}function C4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=C4(r.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),a&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function hx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var fx=/^:[\w-]+$/,dx=3,mx=2,px=1,gx=10,yx=-2,Lb=n=>n==="*";function vx(n,e){let t=n.split("/"),r=t.length;return t.some(Lb)&&(r+=yx),e&&(r+=mx),t.filter(a=>!Lb(a)).reduce((a,o)=>a+(fx.test(o)?dx:o===""?px:gx),r)}function bx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function _x(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=Mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),A=f.route;if(!w&&d&&t&&!r[r.length-1].route.index&&(w=Mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Jo([o,w.pathname]),pathnameBase:Nx(Jo([o,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(o=Jo([o,w.pathnameBase]))}return u}function Mp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=wx(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:w},A)=>{if(g==="*"){let M=c[A]||"";u=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const b=c[A];return w&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function wx(n,e=!1,t=!0){hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Ex(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Ax({basename:n,pathname:e}){return e==="/"?n:Jo([n,e])}var R4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X2=n=>R4.test(n);function Sx(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Zu(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=kb(t.substring(1),"/"):o=kb(t,e)):o=e,{pathname:o,search:xx(r),hash:Tx(a)}}function kb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function J1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function og(n){let e=I4(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function lg(n,e,t,r=!1){let a;typeof n=="string"?a=Zu(n):(a={...n},Cn(!a.pathname||!a.pathname.includes("?"),J1("?","pathname","search",a)),Cn(!a.pathname||!a.pathname.includes("#"),J1("#","pathname","hash",a)),Cn(!a.search||!a.search.includes("#"),J1("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,c;if(u==null)c=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),w-=1;a.pathname=A.join("/")}c=w>=0?e[w]:"/"}let f=Sx(a,c),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Jo=n=>n.join("/").replace(/\/\/+/g,"/"),Nx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Tx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,jd=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Cd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Fd(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var L4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function k4(n,e){let t=n;if(typeof t!="string"||!R4.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(L4)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=Qs(u.pathname,e);u.origin===o.origin&&c!=null?t=c+u.search+u.hash:a=!0}catch{hi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}var Ou=Symbol("Uninstrumented");function Cx(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(a=>a({id:e.id,index:e.index,path:e.path,instrument(o){let u=Object.keys(t);for(let c of u)o[c]&&t[c].push(o[c])}}));let r={};if(typeof e.lazy=="function"&&t.lazy.length>0){let a=Vh(t.lazy,e.lazy,()=>{});a&&(r.lazy=a)}if(typeof e.lazy=="object"){let a=e.lazy;["middleware","loader","action"].forEach(o=>{let u=a[o],c=t[`lazy.${o}`];if(typeof u=="function"&&c.length>0){let f=Vh(c,u,()=>{});f&&(r.lazy=Object.assign(r.lazy||{},{[o]:f}))}})}return["loader","action"].forEach(a=>{let o=e[a];if(typeof o=="function"&&t[a].length>0){let u=o[Ou]??o,c=Vh(t[a],u,(...f)=>Pb(f[0]));c&&(a==="loader"&&u.hydrate===!0&&(c.hydrate=!0),c[Ou]=u,r[a]=c)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(r.middleware=e.middleware.map(a=>{let o=a[Ou]??a,u=Vh(t.middleware,o,(...c)=>Pb(c[0]));return u?(u[Ou]=o,u):a})),r}function Rx(n,e){let t={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(a){let o=Object.keys(a);for(let u of o)a[u]&&t[u].push(a[u])}})),t.navigate.length>0){let r=n.navigate[Ou]??n.navigate,a=Vh(t.navigate,r,(...o)=>{let[u,c]=o;return{to:typeof u=="number"||typeof u=="string"?u:u?sl(u):".",...Db(n,c??{})}});a&&(a[Ou]=r,n.navigate=a)}if(t.fetch.length>0){let r=n.fetch[Ou]??n.fetch,a=Vh(t.fetch,r,(...o)=>{let[u,,c,f]=o;return{href:c??".",fetcherKey:u,...Db(n,f??{})}});a&&(a[Ou]=r,n.fetch=a)}return n}function Vh(n,e,t){return n.length===0?null:async(...r)=>{let a=await P4(n,t(...r),()=>e(...r),n.length-1);if(a.type==="error")throw a.value;return a.value}}async function P4(n,e,t,r){let a=n[r],o;if(a){let u,c=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=P4(n,e,t,r-1),o=await u,Cn(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await a(c,e)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await c(),await u}else try{o={type:"success",value:await t()}}catch(u){o={type:"error",value:u}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Pb(n){let{request:e,context:t,params:r,unstable_pattern:a}=n;return{request:Ix(e),params:{...r},unstable_pattern:a,context:Lx(t)}}function Db(n,e){return{currentUrl:sl(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function Ix(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function Lx(n){if(Px(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var kx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Px(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===kx}var D4=["POST","PUT","PATCH","DELETE"],Dx=new Set(D4),Mx=["GET",...D4],Ox=new Set(Mx),M4=new Set([301,302,303,307,308]),Ux=new Set([307,308]),Z1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Bx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),O4="remix-router-transitions",U4=Symbol("ResetLoaderData");function jx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Cn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],a=n.mapRouteProperties||Bx,o=a;if(n.unstable_instrumentations){let ce=n.unstable_instrumentations;o=Se=>({...a(Se),...Cx(ce.map(Ce=>Ce.route).filter(Boolean),Se)})}let u={},c=Td(n.routes,o,void 0,u),f,d=n.basename||"/";d.startsWith("/")||(d=`/${d}`);let g=n.dataStrategy||Gx,w={...n.future},A=null,b=new Set,M=null,U=null,j=null,B=n.hydrationData!=null,K=Iu(c,n.history.location,d),G=!1,X=null,me;if(K==null&&!n.patchRoutesOnNavigation){let ce=Ys(404,{pathname:n.history.location.pathname}),{matches:Se,route:Ce}=Qm(c);me=!0,K=Se,X={[Ce.id]:ce}}else if(K&&!n.hydrationData&&ki(K,c,n.history.location.pathname).active&&(K=null),K)if(K.some(ce=>ce.route.lazy))me=!1;else if(!K.some(ce=>J2(ce.route)))me=!0;else{let ce=n.hydrationData?n.hydrationData.loaderData:null,Se=n.hydrationData?n.hydrationData.errors:null;if(Se){let Ce=K.findIndex(Ye=>Se[Ye.route.id]!==void 0);me=K.slice(0,Ce+1).every(Ye=>!l2(Ye.route,ce,Se))}else me=K.every(Ce=>!l2(Ce.route,ce,Se))}else{me=!1,K=[];let ce=ki(null,c,n.history.location.pathname);ce.active&&ce.matches&&(G=!0,K=ce.matches)}let fe,I={historyAction:n.history.action,location:n.history.location,matches:K,initialized:me,navigation:Z1,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||X,fetchers:new Map,blockers:new Map},k="POP",C=null,F=!1,T,L=!1,D=new Map,ne=null,Ee=!1,ie=!1,ve=new Set,ue=new Map,xe=0,Fe=-1,Z=new Map,V=new Set,W=new Map,ee=new Map,le=new Set,he=new Map,be,Re=null;function pe(){if(A=n.history.listen(({action:ce,location:Se,delta:Ce})=>{if(be){be(),be=void 0;return}hi(he.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ye=zn({currentLocation:I.location,nextLocation:Se,historyAction:ce});if(Ye&&Ce!=null){let nt=new Promise(mt=>{be=mt});n.history.go(Ce*-1),jt(Ye,{state:"blocked",location:Se,proceed(){jt(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),nt.then(()=>n.history.go(Ce))},reset(){let mt=new Map(I.blockers);mt.set(Ye,nd),$e({blockers:mt})}}),C?.resolve(),C=null;return}return at(ce,Se)}),t){uT(e,D);let ce=()=>cT(e,D);e.addEventListener("pagehide",ce),ne=()=>e.removeEventListener("pagehide",ce)}return I.initialized||at("POP",I.location,{initialHydration:!0}),fe}function Pe(){A&&A(),ne&&ne(),b.clear(),T&&T.abort(),I.fetchers.forEach((ce,Se)=>ur(Se)),I.blockers.forEach((ce,Se)=>Gt(Se))}function Ke(ce){return b.add(ce),()=>b.delete(ce)}function $e(ce,Se={}){ce.matches&&(ce.matches=ce.matches.map(nt=>{let mt=u[nt.route.id],ut=nt.route;return ut.element!==mt.element||ut.errorElement!==mt.errorElement||ut.hydrateFallbackElement!==mt.hydrateFallbackElement?{...nt,route:mt}:nt})),I={...I,...ce};let Ce=[],Ye=[];I.fetchers.forEach((nt,mt)=>{nt.state==="idle"&&(le.has(mt)?Ce.push(mt):Ye.push(mt))}),le.forEach(nt=>{!I.fetchers.has(nt)&&!ue.has(nt)&&Ce.push(nt)}),[...b].forEach(nt=>nt(I,{deletedFetchers:Ce,newErrors:ce.errors??null,viewTransitionOpts:Se.viewTransitionOpts,flushSync:Se.flushSync===!0})),Ce.forEach(nt=>ur(nt)),Ye.forEach(nt=>I.fetchers.delete(nt))}function it(ce,Se,{flushSync:Ce}={}){let Ye=I.actionData!=null&&I.navigation.formMethod!=null&&Ca(I.navigation.formMethod)&&I.navigation.state==="loading"&&ce.state?._isRedirect!==!0,nt;Se.actionData?Object.keys(Se.actionData).length>0?nt=Se.actionData:nt=null:Ye?nt=I.actionData:nt=null;let mt=Se.loaderData?Hb(I.loaderData,Se.loaderData,Se.matches||[],Se.errors):I.loaderData,ut=I.blockers;ut.size>0&&(ut=new Map(ut),ut.forEach((Nt,yt)=>ut.set(yt,nd)));let ot=Ee?!1:$r(ce,Se.matches||I.matches),lt=F===!0||I.navigation.formMethod!=null&&Ca(I.navigation.formMethod)&&ce.state?._isRedirect!==!0;f&&(c=f,f=void 0),Ee||k==="POP"||(k==="PUSH"?n.history.push(ce,ce.state):k==="REPLACE"&&n.history.replace(ce,ce.state));let pt;if(k==="POP"){let Nt=D.get(I.location.pathname);Nt&&Nt.has(ce.pathname)?pt={currentLocation:I.location,nextLocation:ce}:D.has(ce.pathname)&&(pt={currentLocation:ce,nextLocation:I.location})}else if(L){let Nt=D.get(I.location.pathname);Nt?Nt.add(ce.pathname):(Nt=new Set([ce.pathname]),D.set(I.location.pathname,Nt)),pt={currentLocation:I.location,nextLocation:ce}}$e({...Se,actionData:nt,loaderData:mt,historyAction:k,location:ce,initialized:!0,navigation:Z1,revalidation:"idle",restoreScrollPosition:ot,preventScrollReset:lt,blockers:ut},{viewTransitionOpts:pt,flushSync:Ce===!0}),k="POP",F=!1,L=!1,Ee=!1,ie=!1,C?.resolve(),C=null,Re?.resolve(),Re=null}async function dt(ce,Se){if(C?.resolve(),C=null,typeof ce=="number"){C||(C=Wb());let cn=C.promise;return n.history.go(ce),cn}let Ce=o2(I.location,I.matches,d,ce,Se?.fromRouteId,Se?.relative),{path:Ye,submission:nt,error:mt}=Mb(!1,Ce,Se),ut=I.location,ot=xd(I.location,Ye,Se&&Se.state);ot={...ot,...n.history.encodeLocation(ot)};let lt=Se&&Se.replace!=null?Se.replace:void 0,pt="PUSH";lt===!0?pt="REPLACE":lt===!1||nt!=null&&Ca(nt.formMethod)&&nt.formAction===I.location.pathname+I.location.search&&(pt="REPLACE");let Nt=Se&&"preventScrollReset"in Se?Se.preventScrollReset===!0:void 0,yt=(Se&&Se.flushSync)===!0,gn=zn({currentLocation:ut,nextLocation:ot,historyAction:pt});if(gn){jt(gn,{state:"blocked",location:ot,proceed(){jt(gn,{state:"proceeding",proceed:void 0,reset:void 0,location:ot}),dt(ce,Se)},reset(){let cn=new Map(I.blockers);cn.set(gn,nd),$e({blockers:cn})}});return}await at(pt,ot,{submission:nt,pendingError:mt,preventScrollReset:Nt,replace:Se&&Se.replace,enableViewTransition:Se&&Se.viewTransition,flushSync:yt,callSiteDefaultShouldRevalidate:Se&&Se.unstable_defaultShouldRevalidate})}function re(){Re||(Re=Wb()),sn(),$e({revalidation:"loading"});let ce=Re.promise;return I.navigation.state==="submitting"?ce:I.navigation.state==="idle"?(at(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),ce):(at(k||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:L===!0}),ce)}async function at(ce,Se,Ce){T&&T.abort(),T=null,k=ce,Ee=(Ce&&Ce.startUninterruptedRevalidation)===!0,fi(I.location,I.matches),F=(Ce&&Ce.preventScrollReset)===!0,L=(Ce&&Ce.enableViewTransition)===!0;let Ye=f||c,nt=Ce&&Ce.overrideNavigation,mt=Ce?.initialHydration&&I.matches&&I.matches.length>0&&!G?I.matches:Iu(Ye,Se,d),ut=(Ce&&Ce.flushSync)===!0;if(mt&&I.initialized&&!ie&&Zx(I.location,Se)&&!(Ce&&Ce.submission&&Ca(Ce.submission.formMethod))){it(Se,{matches:mt},{flushSync:ut});return}let ot=ki(mt,Ye,Se.pathname);if(ot.active&&ot.matches&&(mt=ot.matches),!mt){let{error:Zn,notFoundMatches:Qn,route:hn}=Dt(Se.pathname);it(Se,{matches:Qn,loaderData:{},errors:{[hn.id]:Zn}},{flushSync:ut});return}T=new AbortController;let lt=Lh(n.history,Se,T.signal,Ce&&Ce.submission),pt=n.getContext?await n.getContext():new Rb,Nt;if(Ce&&Ce.pendingError)Nt=[Lu(mt).route.id,{type:"error",error:Ce.pendingError}];else if(Ce&&Ce.submission&&Ca(Ce.submission.formMethod)){let Zn=await en(lt,Se,Ce.submission,mt,pt,ot.active,Ce&&Ce.initialHydration===!0,{replace:Ce.replace,flushSync:ut});if(Zn.shortCircuited)return;if(Zn.pendingActionResult){let[Qn,hn]=Zn.pendingActionResult;if(Ns(hn)&&Cd(hn.error)&&hn.error.status===404){T=null,it(Se,{matches:Zn.matches,loaderData:{},errors:{[Qn]:hn.error}});return}}mt=Zn.matches||mt,Nt=Zn.pendingActionResult,nt=e0(Se,Ce.submission),ut=!1,ot.active=!1,lt=Lh(n.history,lt.url,lt.signal)}let{shortCircuited:yt,matches:gn,loaderData:cn,errors:Mn}=await wt(lt,Se,mt,pt,ot.active,nt,Ce&&Ce.submission,Ce&&Ce.fetcherSubmission,Ce&&Ce.replace,Ce&&Ce.initialHydration===!0,ut,Nt,Ce&&Ce.callSiteDefaultShouldRevalidate);yt||(T=null,it(Se,{matches:gn||mt,...Gb(Nt),loaderData:cn,errors:Mn}))}async function en(ce,Se,Ce,Ye,nt,mt,ut,ot={}){sn();let lt=oT(Se,Ce);if($e({navigation:lt},{flushSync:ot.flushSync===!0}),mt){let yt=await Pr(Ye,Se.pathname,ce.signal);if(yt.type==="aborted")return{shortCircuited:!0};if(yt.type==="error"){if(yt.partialMatches.length===0){let{matches:cn,route:Mn}=Qm(c);return{matches:cn,pendingActionResult:[Mn.id,{type:"error",error:yt.error}]}}let gn=Lu(yt.partialMatches).route.id;return{matches:yt.partialMatches,pendingActionResult:[gn,{type:"error",error:yt.error}]}}else if(yt.matches)Ye=yt.matches;else{let{notFoundMatches:gn,error:cn,route:Mn}=Dt(Se.pathname);return{matches:gn,pendingActionResult:[Mn.id,{type:"error",error:cn}]}}}let pt,Nt=pp(Ye,Se);if(!Nt.route.action&&!Nt.route.lazy)pt={type:"error",error:Ys(405,{method:ce.method,pathname:Se.pathname,routeId:Nt.route.id})};else{let yt=Fh(o,u,ce,Ye,Nt,ut?[]:r,nt),gn=await tn(ce,yt,nt,null);if(pt=gn[Nt.route.id],!pt){for(let cn of Ye)if(gn[cn.route.id]){pt=gn[cn.route.id];break}}if(ce.signal.aborted)return{shortCircuited:!0}}if(Sc(pt)){let yt;return ot&&ot.replace!=null?yt=ot.replace:yt=Fb(pt.response.headers.get("Location"),new URL(ce.url),d,n.history)===I.location.pathname+I.location.search,await Ht(ce,pt,!0,{submission:Ce,replace:yt}),{shortCircuited:!0}}if(Ns(pt)){let yt=Lu(Ye,Nt.route.id);return(ot&&ot.replace)!==!0&&(k="PUSH"),{matches:Ye,pendingActionResult:[yt.route.id,pt,Nt.route.id]}}return{matches:Ye,pendingActionResult:[Nt.route.id,pt]}}async function wt(ce,Se,Ce,Ye,nt,mt,ut,ot,lt,pt,Nt,yt,gn){let cn=mt||e0(Se,ut),Mn=ut||ot||Yb(cn),Zn=!Ee&&!pt;if(nt){if(Zn){let Gn=Be(yt);$e({navigation:cn,...Gn!==void 0?{actionData:Gn}:{}},{flushSync:Nt})}let An=await Pr(Ce,Se.pathname,ce.signal);if(An.type==="aborted")return{shortCircuited:!0};if(An.type==="error"){if(An.partialMatches.length===0){let{matches:Tr,route:er}=Qm(c);return{matches:Tr,loaderData:{},errors:{[er.id]:An.error}}}let Gn=Lu(An.partialMatches).route.id;return{matches:An.partialMatches,loaderData:{},errors:{[Gn]:An.error}}}else if(An.matches)Ce=An.matches;else{let{error:Gn,notFoundMatches:Tr,route:er}=Dt(Se.pathname);return{matches:Tr,loaderData:{},errors:{[er.id]:Gn}}}}let Qn=f||c,{dsMatches:hn,revalidatingFetchers:cr}=Ob(ce,Ye,o,u,n.history,I,Ce,Mn,Se,pt?[]:r,pt===!0,ie,ve,le,W,V,Qn,d,n.patchRoutesOnNavigation!=null,yt,gn);if(Fe=++xe,!n.dataStrategy&&!hn.some(An=>An.shouldLoad)&&!hn.some(An=>An.route.middleware&&An.route.middleware.length>0)&&cr.length===0){let An=on();return it(Se,{matches:Ce,loaderData:{},errors:yt&&Ns(yt[1])?{[yt[0]]:yt[1].error}:null,...Gb(yt),...An?{fetchers:new Map(I.fetchers)}:{}},{flushSync:Nt}),{shortCircuited:!0}}if(Zn){let An={};if(!nt){An.navigation=cn;let Gn=Be(yt);Gn!==void 0&&(An.actionData=Gn)}cr.length>0&&(An.fetchers=ht(cr)),$e(An,{flushSync:Nt})}cr.forEach(An=>{St(An.key),An.controller&&ue.set(An.key,An.controller)});let zr=()=>cr.forEach(An=>St(An.key));T&&T.signal.addEventListener("abort",zr);let{loaderResults:ar,fetcherResults:Di}=await Kt(hn,cr,ce,Ye);if(ce.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",zr),cr.forEach(An=>ue.delete(An.key));let dr=Xm(ar);if(dr)return await Ht(ce,dr.result,!0,{replace:lt}),{shortCircuited:!0};if(dr=Xm(Di),dr)return V.add(dr.key),await Ht(ce,dr.result,!0,{replace:lt}),{shortCircuited:!0};let{loaderData:Ai,errors:di}=qb(I,Ce,ar,yt,cr,Di);pt&&I.errors&&(di={...I.errors,...di});let Mi=on(),Pa=Ut(Fe),Da=Mi||Pa||cr.length>0;return{matches:Ce,loaderData:Ai,errors:di,...Da?{fetchers:new Map(I.fetchers)}:{}}}function Be(ce){if(ce&&!Ns(ce[1]))return{[ce[0]]:ce[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function ht(ce){return ce.forEach(Se=>{let Ce=I.fetchers.get(Se.key),Ye=rd(void 0,Ce?Ce.data:void 0);I.fetchers.set(Se.key,Ye)}),new Map(I.fetchers)}async function ft(ce,Se,Ce,Ye){St(ce);let nt=(Ye&&Ye.flushSync)===!0,mt=f||c,ut=o2(I.location,I.matches,d,Ce,Se,Ye?.relative),ot=Iu(mt,ut,d),lt=ki(ot,mt,ut);if(lt.active&&lt.matches&&(ot=lt.matches),!ot){gt(ce,Se,Ys(404,{pathname:ut}),{flushSync:nt});return}let{path:pt,submission:Nt,error:yt}=Mb(!0,ut,Ye);if(yt){gt(ce,Se,yt,{flushSync:nt});return}let gn=n.getContext?await n.getContext():new Rb,cn=(Ye&&Ye.preventScrollReset)===!0;if(Nt&&Ca(Nt.formMethod)){await Rt(ce,Se,pt,ot,gn,lt.active,nt,cn,Nt,Ye&&Ye.unstable_defaultShouldRevalidate);return}W.set(ce,{routeId:Se,path:pt}),await Tt(ce,Se,pt,ot,gn,lt.active,nt,cn,Nt)}async function Rt(ce,Se,Ce,Ye,nt,mt,ut,ot,lt,pt){sn(),W.delete(ce);let Nt=I.fetchers.get(ce);Ft(ce,lT(lt,Nt),{flushSync:ut});let yt=new AbortController,gn=Lh(n.history,Ce,yt.signal,lt);if(mt){let Ot=await Pr(Ye,new URL(gn.url).pathname,gn.signal,ce);if(Ot.type==="aborted")return;if(Ot.type==="error"){gt(ce,Se,Ot.error,{flushSync:ut});return}else if(Ot.matches)Ye=Ot.matches;else{gt(ce,Se,Ys(404,{pathname:Ce}),{flushSync:ut});return}}let cn=pp(Ye,Ce);if(!cn.route.action&&!cn.route.lazy){let Ot=Ys(405,{method:lt.formMethod,pathname:Ce,routeId:Se});gt(ce,Se,Ot,{flushSync:ut});return}ue.set(ce,yt);let Mn=xe,Zn=Fh(o,u,gn,Ye,cn,r,nt),Qn=await tn(gn,Zn,nt,ce),hn=Qn[cn.route.id];if(!hn){for(let Ot of Zn)if(Qn[Ot.route.id]){hn=Qn[Ot.route.id];break}}if(gn.signal.aborted){ue.get(ce)===yt&&ue.delete(ce);return}if(le.has(ce)){if(Sc(hn)||Ns(hn)){Ft(ce,Ol(void 0));return}}else{if(Sc(hn))if(ue.delete(ce),Fe>Mn){Ft(ce,Ol(void 0));return}else return V.add(ce),Ft(ce,rd(lt)),Ht(gn,hn,!1,{fetcherSubmission:lt,preventScrollReset:ot});if(Ns(hn)){gt(ce,Se,hn.error);return}}let cr=I.navigation.location||I.location,zr=Lh(n.history,cr,yt.signal),ar=f||c,Di=I.navigation.state!=="idle"?Iu(ar,I.navigation.location,d):I.matches;Cn(Di,"Didn't find any matches after fetcher action");let dr=++xe;Z.set(ce,dr);let Ai=rd(lt,hn.data);I.fetchers.set(ce,Ai);let{dsMatches:di,revalidatingFetchers:Mi}=Ob(zr,nt,o,u,n.history,I,Di,lt,cr,r,!1,ie,ve,le,W,V,ar,d,n.patchRoutesOnNavigation!=null,[cn.route.id,hn],pt);Mi.filter(Ot=>Ot.key!==ce).forEach(Ot=>{let Wi=Ot.key,Oi=I.fetchers.get(Wi),Rn=rd(void 0,Oi?Oi.data:void 0);I.fetchers.set(Wi,Rn),St(Wi),Ot.controller&&ue.set(Wi,Ot.controller)}),$e({fetchers:new Map(I.fetchers)});let Pa=()=>Mi.forEach(Ot=>St(Ot.key));yt.signal.addEventListener("abort",Pa);let{loaderResults:Da,fetcherResults:An}=await Kt(di,Mi,zr,nt);if(yt.signal.aborted)return;if(yt.signal.removeEventListener("abort",Pa),Z.delete(ce),ue.delete(ce),Mi.forEach(Ot=>ue.delete(Ot.key)),I.fetchers.has(ce)){let Ot=Ol(hn.data);I.fetchers.set(ce,Ot)}let Gn=Xm(Da);if(Gn)return Ht(zr,Gn.result,!1,{preventScrollReset:ot});if(Gn=Xm(An),Gn)return V.add(Gn.key),Ht(zr,Gn.result,!1,{preventScrollReset:ot});let{loaderData:Tr,errors:er}=qb(I,Di,Da,void 0,Mi,An);Ut(dr),I.navigation.state==="loading"&&dr>Fe?(Cn(k,"Expected pending action"),T&&T.abort(),it(I.navigation.location,{matches:Di,loaderData:Tr,errors:er,fetchers:new Map(I.fetchers)})):($e({errors:er,loaderData:Hb(I.loaderData,Tr,Di,er),fetchers:new Map(I.fetchers)}),ie=!1)}async function Tt(ce,Se,Ce,Ye,nt,mt,ut,ot,lt){let pt=I.fetchers.get(ce);Ft(ce,rd(lt,pt?pt.data:void 0),{flushSync:ut});let Nt=new AbortController,yt=Lh(n.history,Ce,Nt.signal);if(mt){let hn=await Pr(Ye,new URL(yt.url).pathname,yt.signal,ce);if(hn.type==="aborted")return;if(hn.type==="error"){gt(ce,Se,hn.error,{flushSync:ut});return}else if(hn.matches)Ye=hn.matches;else{gt(ce,Se,Ys(404,{pathname:Ce}),{flushSync:ut});return}}let gn=pp(Ye,Ce);ue.set(ce,Nt);let cn=xe,Mn=Fh(o,u,yt,Ye,gn,r,nt),Qn=(await tn(yt,Mn,nt,ce))[gn.route.id];if(ue.get(ce)===Nt&&ue.delete(ce),!yt.signal.aborted){if(le.has(ce)){Ft(ce,Ol(void 0));return}if(Sc(Qn))if(Fe>cn){Ft(ce,Ol(void 0));return}else{V.add(ce),await Ht(yt,Qn,!1,{preventScrollReset:ot});return}if(Ns(Qn)){gt(ce,Se,Qn.error);return}Ft(ce,Ol(Qn.data))}}async function Ht(ce,Se,Ce,{submission:Ye,fetcherSubmission:nt,preventScrollReset:mt,replace:ut}={}){Ce||(C?.resolve(),C=null),Se.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let ot=Se.response.headers.get("Location");Cn(ot,"Expected a Location header on the redirect Response"),ot=Fb(ot,new URL(ce.url),d,n.history);let lt=xd(I.location,ot,{_isRedirect:!0});if(t){let Mn=!1;if(Se.response.headers.has("X-Remix-Reload-Document"))Mn=!0;else if(X2(ot)){const Zn=x4(ot,!0);Mn=Zn.origin!==e.location.origin||Qs(Zn.pathname,d)==null}if(Mn){ut?e.location.replace(ot):e.location.assign(ot);return}}T=null;let pt=ut===!0||Se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Nt,formAction:yt,formEncType:gn}=I.navigation;!Ye&&!nt&&Nt&&yt&&gn&&(Ye=Yb(I.navigation));let cn=Ye||nt;if(Ux.has(Se.response.status)&&cn&&Ca(cn.formMethod))await at(pt,lt,{submission:{...cn,formAction:ot},preventScrollReset:mt||F,enableViewTransition:Ce?L:void 0});else{let Mn=e0(lt,Ye);await at(pt,lt,{overrideNavigation:Mn,fetcherSubmission:nt,preventScrollReset:mt||F,enableViewTransition:Ce?L:void 0})}}async function tn(ce,Se,Ce,Ye){let nt,mt={};try{nt=await Yx(g,ce,Se,Ye,Ce,!1)}catch(ut){return Se.filter(ot=>ot.shouldLoad).forEach(ot=>{mt[ot.route.id]={type:"error",error:ut}}),mt}if(ce.signal.aborted)return mt;if(!Ca(ce.method))for(let ut of Se){if(nt[ut.route.id]?.type==="error")break;!nt.hasOwnProperty(ut.route.id)&&!I.loaderData.hasOwnProperty(ut.route.id)&&(!I.errors||!I.errors.hasOwnProperty(ut.route.id))&&ut.shouldCallHandler()&&(nt[ut.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ut.route.id}`)})}for(let[ut,ot]of Object.entries(nt))if(rT(ot)){let lt=ot.result;mt[ut]={type:"redirect",response:Xx(lt,ce,ut,Se,d)}}else mt[ut]=await Qx(ot);return mt}async function Kt(ce,Se,Ce,Ye){let nt=tn(Ce,ce,Ye,null),mt=Promise.all(Se.map(async lt=>{if(lt.matches&&lt.match&&lt.request&&lt.controller){let Nt=(await tn(lt.request,lt.matches,Ye,lt.key))[lt.match.route.id];return{[lt.key]:Nt}}else return Promise.resolve({[lt.key]:{type:"error",error:Ys(404,{pathname:lt.path})}})})),ut=await nt,ot=(await mt).reduce((lt,pt)=>Object.assign(lt,pt),{});return{loaderResults:ut,fetcherResults:ot}}function sn(){ie=!0,W.forEach((ce,Se)=>{ue.has(Se)&&ve.add(Se),St(Se)})}function Ft(ce,Se,Ce={}){I.fetchers.set(ce,Se),$e({fetchers:new Map(I.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function gt(ce,Se,Ce,Ye={}){let nt=Lu(I.matches,Se);ur(ce),$e({errors:{[nt.route.id]:Ce},fetchers:new Map(I.fetchers)},{flushSync:(Ye&&Ye.flushSync)===!0})}function an(ce){return ee.set(ce,(ee.get(ce)||0)+1),le.has(ce)&&le.delete(ce),I.fetchers.get(ce)||Vx}function It(ce,Se){St(ce,Se?.reason),Ft(ce,Ol(null))}function ur(ce){let Se=I.fetchers.get(ce);ue.has(ce)&&!(Se&&Se.state==="loading"&&Z.has(ce))&&St(ce),W.delete(ce),Z.delete(ce),V.delete(ce),le.delete(ce),ve.delete(ce),I.fetchers.delete(ce)}function dn(ce){let Se=(ee.get(ce)||0)-1;Se<=0?(ee.delete(ce),le.add(ce)):ee.set(ce,Se),$e({fetchers:new Map(I.fetchers)})}function St(ce,Se){let Ce=ue.get(ce);Ce&&(Ce.abort(Se),ue.delete(ce))}function $t(ce){for(let Se of ce){let Ce=an(Se),Ye=Ol(Ce.data);I.fetchers.set(Se,Ye)}}function on(){let ce=[],Se=!1;for(let Ce of V){let Ye=I.fetchers.get(Ce);Cn(Ye,`Expected fetcher: ${Ce}`),Ye.state==="loading"&&(V.delete(Ce),ce.push(Ce),Se=!0)}return $t(ce),Se}function Ut(ce){let Se=[];for(let[Ce,Ye]of Z)if(Ye<ce){let nt=I.fetchers.get(Ce);Cn(nt,`Expected fetcher: ${Ce}`),nt.state==="loading"&&(St(Ce),Z.delete(Ce),Se.push(Ce))}return $t(Se),Se.length>0}function Fn(ce,Se){let Ce=I.blockers.get(ce)||nd;return he.get(ce)!==Se&&he.set(ce,Se),Ce}function Gt(ce){I.blockers.delete(ce),he.delete(ce)}function jt(ce,Se){let Ce=I.blockers.get(ce)||nd;Cn(Ce.state==="unblocked"&&Se.state==="blocked"||Ce.state==="blocked"&&Se.state==="blocked"||Ce.state==="blocked"&&Se.state==="proceeding"||Ce.state==="blocked"&&Se.state==="unblocked"||Ce.state==="proceeding"&&Se.state==="unblocked",`Invalid blocker state transition: ${Ce.state} -> ${Se.state}`);let Ye=new Map(I.blockers);Ye.set(ce,Se),$e({blockers:Ye})}function zn({currentLocation:ce,nextLocation:Se,historyAction:Ce}){if(he.size===0)return;he.size>1&&hi(!1,"A router only supports one blocker at a time");let Ye=Array.from(he.entries()),[nt,mt]=Ye[Ye.length-1],ut=I.blockers.get(nt);if(!(ut&&ut.state==="proceeding")&&mt({currentLocation:ce,nextLocation:Se,historyAction:Ce}))return nt}function Dt(ce){let Se=Ys(404,{pathname:ce}),Ce=f||c,{matches:Ye,route:nt}=Qm(Ce);return{notFoundMatches:Ye,route:nt,error:Se}}function Mt(ce,Se,Ce){if(M=ce,j=Se,U=Ce||null,!B&&I.navigation===Z1){B=!0;let Ye=$r(I.location,I.matches);Ye!=null&&$e({restoreScrollPosition:Ye})}return()=>{M=null,j=null,U=null}}function vn(ce,Se){return U&&U(ce,Se.map(Ye=>cx(Ye,I.loaderData)))||ce.key}function fi(ce,Se){if(M&&j){let Ce=vn(ce,Se);M[Ce]=j()}}function $r(ce,Se){if(M){let Ce=vn(ce,Se),Ye=M[Ce];if(typeof Ye=="number")return Ye}return null}function ki(ce,Se,Ce){if(n.patchRoutesOnNavigation)if(ce){if(Object.keys(ce[0].params).length>0)return{active:!0,matches:cd(Se,Ce,d,!0)}}else return{active:!0,matches:cd(Se,Ce,d,!0)||[]};return{active:!1,matches:null}}async function Pr(ce,Se,Ce,Ye){if(!n.patchRoutesOnNavigation)return{type:"success",matches:ce};let nt=ce;for(;;){let mt=f==null,ut=f||c,ot=u;try{await n.patchRoutesOnNavigation({signal:Ce,path:Se,matches:nt,fetcherKey:Ye,patch:(Nt,yt)=>{Ce.aborted||Ub(Nt,yt,ut,ot,o,!1)}})}catch(Nt){return{type:"error",error:Nt,partialMatches:nt}}finally{mt&&!Ce.aborted&&(c=[...c])}if(Ce.aborted)return{type:"aborted"};let lt=Iu(ut,Se,d),pt=null;if(lt){if(Object.keys(lt[0].params).length===0)return{type:"success",matches:lt};if(pt=cd(ut,Se,d,!0),!(pt&&nt.length<pt.length&&Vt(nt,pt.slice(0,nt.length))))return{type:"success",matches:lt}}if(pt||(pt=cd(ut,Se,d,!0)),!pt||Vt(nt,pt))return{type:"success",matches:null};nt=pt}}function Vt(ce,Se){return ce.length===Se.length&&ce.every((Ce,Ye)=>Ce.route.id===Se[Ye].route.id)}function ka(ce){u={},f=Td(ce,o,void 0,u)}function Pi(ce,Se,Ce=!1){let Ye=f==null;Ub(ce,Se,f||c,u,o,Ce),Ye&&(c=[...c],$e({}))}return fe={get basename(){return d},get future(){return w},get state(){return I},get routes(){return c},get window(){return e},initialize:pe,subscribe:Ke,enableScrollRestoration:Mt,navigate:dt,fetch:ft,revalidate:re,createHref:ce=>n.history.createHref(ce),encodeLocation:ce=>n.history.encodeLocation(ce),getFetcher:an,resetFetcher:It,deleteFetcher:dn,dispose:Pe,getBlocker:Fn,deleteBlocker:Gt,patchRoutes:Pi,_internalFetchControllers:ue,_internalSetRoutes:ka,_internalSetStateDoNotUseOrYouWillBreakYourApp(ce){$e(ce)}},n.unstable_instrumentations&&(fe=Rx(fe,n.unstable_instrumentations.map(ce=>ce.router).filter(Boolean))),fe}function Fx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function o2(n,e,t,r,a,o){let u,c;if(a){u=[];for(let d of e)if(u.push(d),d.route.id===a){c=d;break}}else u=e,c=e[e.length-1];let f=lg(r||".",og(u),Qs(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let d=ey(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let g=new URLSearchParams(f.search),w=g.getAll("index");g.delete("index"),w.filter(b=>b).forEach(b=>g.append("index",b));let A=g.toString();f.search=A?`?${A}`:""}}return t!=="/"&&(f.pathname=Ax({basename:t,pathname:f.pathname})),sl(f)}function Mb(n,e,t){if(!t||!Fx(t))return{path:e};if(t.formMethod&&!sT(t.formMethod))return{path:e,error:Ys(405,{method:t.formMethod})};let r=()=>({path:e,error:Ys(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=q4(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ca(o))return r();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[b,M])=>`${A}${b}=${M}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Ca(o))return r();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}Cn(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=c2(t.formData),f=t.formData;else if(t.body instanceof FormData)c=c2(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=zb(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=zb(c)}catch{return r()}let d={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ca(d.formMethod))return{path:e,submission:d};let g=Zu(e);return n&&g.search&&ey(g.search)&&c.append("index",""),g.search=`?${c}`,{path:sl(g),submission:d}}function Ob(n,e,t,r,a,o,u,c,f,d,g,w,A,b,M,U,j,B,K,G,X){let me=G?Ns(G[1])?G[1].error:G[1].data:void 0,fe=a.createURL(o.location),I=a.createURL(f),k;if(g&&o.errors){let Ee=Object.keys(o.errors)[0];k=u.findIndex(ie=>ie.route.id===Ee)}else if(G&&Ns(G[1])){let Ee=G[0];k=u.findIndex(ie=>ie.route.id===Ee)-1}let C=G?G[1].statusCode:void 0,F=C&&C>=400,T={currentUrl:fe,currentParams:o.matches[0]?.params||{},nextUrl:I,nextParams:u[0].params,...c,actionResult:me,actionStatus:C},L=Fd(u),D=u.map((Ee,ie)=>{let{route:ve}=Ee,ue=null;if(k!=null&&ie>k?ue=!1:ve.lazy?ue=!0:J2(ve)?g?ue=l2(ve,o.loaderData,o.errors):zx(o.loaderData,o.matches[ie],Ee)&&(ue=!0):ue=!1,ue!==null)return u2(t,r,n,L,Ee,d,e,ue);let xe=!1;typeof X=="boolean"?xe=X:F?xe=!1:(w||fe.pathname+fe.search===I.pathname+I.search||fe.search!==I.search||qx(o.matches[ie],Ee))&&(xe=!0);let Fe={...T,defaultShouldRevalidate:xe},Z=yd(Ee,Fe);return u2(t,r,n,L,Ee,d,e,Z,Fe,X)}),ne=[];return M.forEach((Ee,ie)=>{if(g||!u.some(ee=>ee.route.id===Ee.routeId)||b.has(ie))return;let ve=o.fetchers.get(ie),ue=ve&&ve.state!=="idle"&&ve.data===void 0,xe=Iu(j,Ee.path,B);if(!xe){if(K&&ue)return;ne.push({key:ie,routeId:Ee.routeId,path:Ee.path,matches:null,match:null,request:null,controller:null});return}if(U.has(ie))return;let Fe=pp(xe,Ee.path),Z=new AbortController,V=Lh(a,Ee.path,Z.signal),W=null;if(A.has(ie))A.delete(ie),W=Fh(t,r,V,xe,Fe,d,e);else if(ue)w&&(W=Fh(t,r,V,xe,Fe,d,e));else{let ee;typeof X=="boolean"?ee=X:F?ee=!1:ee=w;let le={...T,defaultShouldRevalidate:ee};yd(Fe,le)&&(W=Fh(t,r,V,xe,Fe,d,e,le))}W&&ne.push({key:ie,routeId:Ee.routeId,path:Ee.path,matches:W,match:Fe,request:V,controller:Z})}),{dsMatches:D,revalidatingFetchers:ne}}function J2(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function l2(n,e,t){if(n.lazy)return!0;if(!J2(n))return!1;let r=e!=null&&n.id in e,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function zx(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function qx(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function yd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Ub(n,e,t,r,a,o){let u;if(n){let d=r[n];Cn(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),u=d.children}else u=t;let c=[],f=[];if(e.forEach(d=>{let g=u.find(w=>V4(d,w));g?f.push({existingRoute:g,newRoute:d}):c.push(d)}),c.length>0){let d=Td(c,a,[n||"_","patch",String(u?.length||"0")],r);u.push(...d)}if(o&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:g,newRoute:w}=f[d],A=g,[b]=Td([w],a,[],{},!0);Object.assign(A,{element:b.element?b.element:A.element,errorElement:b.errorElement?b.errorElement:A.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:A.hydrateFallbackElement})}}function V4(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>e.children?.some(a=>V4(t,a))):!1}var Vb=new WeakMap,B4=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let a=t[e.id];if(Cn(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[n];if(!o)return;let u=Vb.get(a);u||(u={},Vb.set(a,u));let c=u[n];if(c)return c;let f=(async()=>{let d=sx(n),w=a[n]!==void 0&&n!=="hasErrorBoundary";if(d)hi(!d,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(w)hi(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let A=await o();A!=null&&(Object.assign(a,{[n]:A}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(A=>A===void 0)&&(a.lazy=void 0))})();return u[n]=f,f},Bb=new WeakMap;function Hx(n,e,t,r,a){let o=t[n.id];if(Cn(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=Bb.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let w=(async()=>{Cn(typeof n.lazy=="function","No lazy route function found");let A=await n.lazy(),b={};for(let M in A){let U=A[M];if(U===void 0)continue;let j=lx(M),K=o[M]!==void 0&&M!=="hasErrorBoundary";j?hi(!j,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):K?hi(!K,`Route "${o.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):b[M]=U}Object.assign(o,b),Object.assign(o,{...r(o),lazy:void 0})})();return Bb.set(o,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(n.lazy),c=[],f;for(let g of u){if(a&&a.includes(g))continue;let w=B4({key:g,route:n,manifest:t,mapRouteProperties:r});w&&(c.push(w),g===e&&(f=w))}let d=c.length>0?Promise.all(c).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function jb(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function Gx(n){return n.matches.some(e=>e.route.middleware)?j4(n,()=>jb(n)):jb(n)}function j4(n,e){return Kx(n,e,r=>{if(aT(r))throw r;return r},tT,t);function t(r,a,o){if(o)return Promise.resolve(Object.assign(o.value,{[a]:{type:"error",result:r}}));{let{matches:u}=n,c=Math.min(Math.max(u.findIndex(d=>d.route.id===a),0),Math.max(u.findIndex(d=>d.shouldCallHandler()),0)),f=Lu(u,u[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function Kx(n,e,t,r,a){let{matches:o,request:u,params:c,context:f,unstable_pattern:d}=n,g=o.flatMap(A=>A.route.middleware?A.route.middleware.map(b=>[A.route.id,b]):[]);return await F4({request:u,params:c,context:f,unstable_pattern:d},g,e,t,r,a)}async function F4(n,e,t,r,a,o,u=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[u];if(!f)return await t();let[d,g]=f,w,A=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await F4(n,e,t,r,a,o,u+1)},w.value}catch(b){return w={value:await o(b,d,w)},w.value}};try{let b=await g(n,A),M=b!=null?r(b):void 0;return a(M)?M:w?M??w.value:(w={value:await A()},w.value)}catch(b){return await o(b,d,w)}}function z4(n,e,t,r,a){let o=B4({key:"middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=Hx(r.route,Ca(t.method)?"action":"loader",e,n,a);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function u2(n,e,t,r,a,o,u,c,f=null,d){let g=!1,w=z4(n,e,t,a,o);return{...a,_lazyPromises:w,shouldLoad:c,shouldRevalidateArgs:f,shouldCallHandler(A){return g=!0,f?typeof d=="boolean"?yd(a,{...f,defaultShouldRevalidate:d}):typeof A=="boolean"?yd(a,{...f,defaultShouldRevalidate:A}):yd(a,f):c},resolve(A){let{lazy:b,loader:M,middleware:U}=a.route,j=g||c||A&&!Ca(t.method)&&(b||M),B=U&&U.length>0&&!M&&!b;return j&&(Ca(t.method)||!B)?Wx({request:t,unstable_pattern:r,match:a,lazyHandlerPromise:w?.handler,lazyRoutePromise:w?.route,handlerOverride:A,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Fh(n,e,t,r,a,o,u,c=null){return r.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:z4(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:u2(n,e,t,Fd(r),f,o,u,!0,c))}async function Yx(n,e,t,r,a,o){t.some(d=>d._lazyPromises?.middleware)&&await Promise.all(t.map(d=>d._lazyPromises?.middleware));let u={request:e,unstable_pattern:Fd(t),params:t[0].params,context:a,matches:t},f=await n({...u,fetcherKey:r,runClientMiddleware:d=>{let g=u;return j4(g,()=>d({...g,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function Wx({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let c,f,d=Ca(n.method),g=d?"action":"loader",w=A=>{let b,M=new Promise((B,K)=>b=K);f=()=>b(),n.signal.addEventListener("abort",f);let U=B=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${t.route.id}]`)):A({request:n,unstable_pattern:e,params:t.params,context:u},...B!==void 0?[B]:[]),j=(async()=>{try{return{type:"data",result:await(o?o(K=>U(K)):U())}}catch(B){return{type:"error",result:B}}})();return Promise.race([j,M])};try{let A=d?t.route.action:t.route.loader;if(r||a)if(A){let b,[M]=await Promise.all([w(A).catch(U=>{b=U}),r,a]);if(b!==void 0)throw b;c=M}else{await r;let b=d?t.route.action:t.route.loader;if(b)[c]=await Promise.all([w(b),a]);else if(g==="action"){let M=new URL(n.url),U=M.pathname+M.search;throw Ys(405,{method:n.method,pathname:U,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(A)c=await w(A);else{let b=new URL(n.url),M=b.pathname+b.search;throw Ys(404,{pathname:M})}}catch(A){return{type:"error",result:A}}finally{f&&n.signal.removeEventListener("abort",f)}return c}async function $x(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function Qx(n){let{result:e,type:t}=n;if(Z2(e)){let r;try{r=await $x(e)}catch(a){return{type:"error",error:a}}return t==="error"?{type:"error",error:new jd(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return t==="error"?Kb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:eT(e),statusCode:Cd(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Cd(e)?e.status:void 0}:Kb(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Xx(n,e,t,r,a){let o=n.headers.get("Location");if(Cn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!X2(o)){let u=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=o2(new URL(e.url),u,a,o),n.headers.set("Location",o)}return n}function Fb(n,e,t,r){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(X2(n)){let o=n,u=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(a.includes(u.protocol))throw new Error("Invalid redirect location");let c=Qs(u.pathname,t)!=null;if(u.origin===e.origin&&c)return u.pathname+u.search+u.hash}try{let o=r.createURL(n);if(a.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return n}function Lh(n,e,t,r){let a=n.createURL(q4(e)).toString(),o={signal:t};if(r&&Ca(r.formMethod)){let{formMethod:u,formEncType:c}=r;o.method=u.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=c2(r.formData):o.body=r.formData}return new Request(a,o)}function c2(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function zb(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Jx(n,e,t,r=!1,a=!1){let o={},u=null,c,f=!1,d={},g=t&&Ns(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let A=w.route.id,b=e[A];if(Cn(!Sc(b),"Cannot handle redirect results in processLoaderData"),Ns(b)){let M=b.error;if(g!==void 0&&(M=g,g=void 0),u=u||{},a)u[A]=M;else{let U=Lu(n,A);u[U.route.id]==null&&(u[U.route.id]=M)}r||(o[A]=U4),f||(f=!0,c=Cd(b.error)?b.error.status:500),b.headers&&(d[A]=b.headers)}else o[A]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(c=b.statusCode),b.headers&&(d[A]=b.headers)}),g!==void 0&&t&&(u={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:c||200,loaderHeaders:d}}function qb(n,e,t,r,a,o){let{loaderData:u,errors:c}=Jx(e,t,r);return a.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:g,controller:w}=f;if(w&&w.signal.aborted)return;let A=o[d];if(Cn(A,"Did not find corresponding fetcher result"),Ns(A)){let b=Lu(n.matches,g?.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:A.error}),n.fetchers.delete(d)}else if(Sc(A))Cn(!1,"Unhandled fetcher revalidation redirect");else{let b=Ol(A.data);n.fetchers.set(d,b)}}),{loaderData:u,errors:c}}function Hb(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==U4).reduce((o,[u,c])=>(o[u]=c,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(a[u]=n[u]),r&&r.hasOwnProperty(u))break}return a}function Gb(n){return n?Ns(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Lu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Qm(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ys(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let u="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):n===403?(u="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",c=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new jd(n||500,u,new Error(c),!0)}function Xm(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Sc(a))return{key:r,result:a}}}function q4(n){let e=typeof n=="string"?Zu(n):n;return sl({...e,hash:""})}function Zx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function eT(n){return new jd(n.init?.status??500,n.init?.statusText??"Internal Server Error",n.data)}function tT(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&nT(t))}function nT(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function rT(n){return Z2(n.result)&&M4.has(n.result.status)}function Ns(n){return n.type==="error"}function Sc(n){return(n&&n.type)==="redirect"}function Kb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Z2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function iT(n){return M4.has(n)}function aT(n){return Z2(n)&&iT(n.status)&&n.headers.has("Location")}function sT(n){return Ox.has(n.toUpperCase())}function Ca(n){return Dx.has(n.toUpperCase())}function ey(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function pp(n,e){let t=typeof e=="string"?Zu(e).search:e.search;if(n[n.length-1].route.index&&ey(t||""))return n[n.length-1];let r=I4(n);return r[r.length-1]}function Yb(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:u}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function e0(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rd(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ol(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function uT(n,e){try{let t=n.sessionStorage.getItem(O4);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function cT(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(O4,JSON.stringify(t))}catch(r){hi(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Wb(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Uc=ye.createContext(null);Uc.displayName="DataRouter";var zd=ye.createContext(null);zd.displayName="DataRouterState";var H4=ye.createContext(!1);function hT(){return ye.useContext(H4)}var ty=ye.createContext({isTransitioning:!1});ty.displayName="ViewTransition";var G4=ye.createContext(new Map);G4.displayName="Fetchers";var fT=ye.createContext(null);fT.displayName="Await";var Cs=ye.createContext(null);Cs.displayName="Navigation";var ug=ye.createContext(null);ug.displayName="Location";var Js=ye.createContext({outlet:null,matches:[],isDataRoute:!1});Js.displayName="Route";var ny=ye.createContext(null);ny.displayName="RouteError";var K4="REACT_ROUTER_ERROR",dT="REDIRECT",mT="ROUTE_ERROR_RESPONSE";function pT(n){if(n.startsWith(`${K4}:${dT}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gT(n){if(n.startsWith(`${K4}:${mT}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jd(e.status,e.statusText,e.data)}catch{}}function yT(n,{relative:e}={}){Cn(uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ye.useContext(Cs),{hash:a,pathname:o,search:u}=qd(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Jo([t,o])),r.createHref({pathname:c,search:u,hash:a})}function uf(){return ye.useContext(ug)!=null}function Wl(){return Cn(uf(),"useLocation() may be used only in the context of a <Router> component."),ye.useContext(ug).location}var Y4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W4(n){ye.useContext(Cs).static||ye.useLayoutEffect(n)}function $l(){let{isDataRoute:n}=ye.useContext(Js);return n?kT():vT()}function vT(){Cn(uf(),"useNavigate() may be used only in the context of a <Router> component.");let n=ye.useContext(Uc),{basename:e,navigator:t}=ye.useContext(Cs),{matches:r}=ye.useContext(Js),{pathname:a}=Wl(),o=JSON.stringify(og(r)),u=ye.useRef(!1);return W4(()=>{u.current=!0}),ye.useCallback((f,d={})=>{if(hi(u.current,Y4),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=lg(f,JSON.parse(o),a,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Jo([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,a,n])}var bT=ye.createContext(null);function _T(n){let e=ye.useContext(Js).outlet;return ye.useMemo(()=>e&&ye.createElement(bT.Provider,{value:n},e),[e,n])}function Vc(){let{matches:n}=ye.useContext(Js),e=n[n.length-1];return e?e.params:{}}function qd(n,{relative:e}={}){let{matches:t}=ye.useContext(Js),{pathname:r}=Wl(),a=JSON.stringify(og(t));return ye.useMemo(()=>lg(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function wT(n,e,t,r,a){Cn(uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ye.useContext(Cs),{matches:u}=ye.useContext(Js),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",w=c&&c.route;{let K=w&&w.path||"";Q4(d,!w||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=Wl(),b;b=A;let M=b.pathname||"/",U=M;if(g!=="/"){let K=g.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(K.length).join("/")}let j=Iu(n,{pathname:U});return hi(w||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),hi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xT(j&&j.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Jo([g,o.encodeLocation?o.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:Jo([g,o.encodeLocation?o.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),u,t,r,a)}function ET(){let n=LT(),e=Cd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=ye.createElement(ye.Fragment,null,ye.createElement("p",null," Hey developer "),ye.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ye.createElement("code",{style:o},"ErrorBoundary")," or"," ",ye.createElement("code",{style:o},"errorElement")," prop on your route.")),ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},e),t?ye.createElement("pre",{style:a},t):null,u)}var AT=ye.createElement(ET,null),$4=class extends ye.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=gT(n.digest);t&&(n=t)}let e=n!==void 0?ye.createElement(Js.Provider,{value:this.props.routeContext},ye.createElement(ny.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ye.createElement(ST,{error:n},e):e}};$4.contextType=H4;var t0=new WeakMap;function ST({children:n,error:e}){let{basename:t}=ye.useContext(Cs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=pT(e.digest);if(r){let a=t0.get(e);if(a)throw a;let o=k4(r.location,t);if(L4&&!t0.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw t0.set(e,u),u}return ye.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function NT({routeContext:n,match:e,children:t}){let r=ye.useContext(Uc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ye.createElement(Js.Provider,{value:n},t)}function xT(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let g=o.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);Cn(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let w=o[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:A,errors:b}=t,M=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!b||b[w.route.id]===void 0);if(w.route.lazy||M){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&r?(g,w)=>{r(g,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Fd(t.matches),errorInfo:w})}:void 0;return o.reduceRight((g,w,A)=>{let b,M=!1,U=null,j=null;t&&(b=u&&w.route.id?u[w.route.id]:void 0,U=w.route.errorElement||AT,c&&(f<0&&A===0?(Q4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,j=null):f===A&&(M=!0,j=w.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,A+1)),K=()=>{let G;return b?G=U:M?G=j:w.route.Component?G=ye.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=g,ye.createElement(NT,{match:w,routeContext:{outlet:g,matches:B,isDataRoute:t!=null},children:G})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?ye.createElement($4,{location:t.location,revalidation:t.revalidation,component:U,error:b,children:K(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:d}):K()},null)}function ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(n){let e=ye.useContext(Uc);return Cn(e,ry(n)),e}function CT(n){let e=ye.useContext(zd);return Cn(e,ry(n)),e}function RT(n){let e=ye.useContext(Js);return Cn(e,ry(n)),e}function iy(n){let e=RT(n),t=e.matches[e.matches.length-1];return Cn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function IT(){return iy("useRouteId")}function LT(){let n=ye.useContext(ny),e=CT("useRouteError"),t=iy("useRouteError");return n!==void 0?n:e.errors?.[t]}function kT(){let{router:n}=TT("useNavigate"),e=iy("useNavigate"),t=ye.useRef(!1);return W4(()=>{t.current=!0}),ye.useCallback(async(a,o={})=>{hi(t.current,Y4),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var $b={};function Q4(n,e,t){!e&&!$b[n]&&($b[n]=!0,hi(!1,t))}var Qb={};function Xb(n,e){!n&&!Qb[e]&&(Qb[e]=!0,console.warn(e))}var PT="useOptimistic",Jb=YN[PT],DT=()=>{};function MT(n){return Jb?Jb(n):[n,DT]}function OT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&hi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ye.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&hi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ye.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&hi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ye.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var UT=["HydrateFallback","hydrateFallbackElement"],VT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function BT({router:n,flushSync:e,onError:t,unstable_useTransitions:r}){r=hT()||r;let[o,u]=ye.useState(n.state),[c,f]=MT(o),[d,g]=ye.useState(),[w,A]=ye.useState({isTransitioning:!1}),[b,M]=ye.useState(),[U,j]=ye.useState(),[B,K]=ye.useState(),G=ye.useRef(new Map),X=ye.useCallback((k,{deletedFetchers:C,newErrors:F,flushSync:T,viewTransitionOpts:L})=>{F&&t&&Object.values(F).forEach(ne=>t(ne,{location:k.location,params:k.matches[0]?.params??{},unstable_pattern:Fd(k.matches)})),k.fetchers.forEach((ne,Ee)=>{ne.data!==void 0&&G.current.set(Ee,ne.data)}),C.forEach(ne=>G.current.delete(ne)),Xb(T===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Xb(L==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!D){e&&T?e(()=>u(k)):r===!1?u(k):ye.startTransition(()=>{r===!0&&f(ne=>Zb(ne,k)),u(k)});return}if(e&&T){e(()=>{U&&(b?.resolve(),U.skipTransition()),A({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let ne=n.window.document.startViewTransition(()=>{e(()=>u(k))});ne.finished.finally(()=>{e(()=>{M(void 0),j(void 0),g(void 0),A({isTransitioning:!1})})}),e(()=>j(ne));return}U?(b?.resolve(),U.skipTransition(),K({state:k,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(g(k),A({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,U,b,r,f,t]);ye.useLayoutEffect(()=>n.subscribe(X),[n,X]),ye.useEffect(()=>{w.isTransitioning&&!w.flushSync&&M(new VT)},[w]),ye.useEffect(()=>{if(b&&d&&n.window){let k=d,C=b.promise,F=n.window.document.startViewTransition(async()=>{r===!1?u(k):ye.startTransition(()=>{r===!0&&f(T=>Zb(T,k)),u(k)}),await C});F.finished.finally(()=>{M(void 0),j(void 0),g(void 0),A({isTransitioning:!1})}),j(F)}},[d,b,n.window,r,f]),ye.useEffect(()=>{b&&d&&c.location.key===d.location.key&&b.resolve()},[b,U,c.location,d]),ye.useEffect(()=>{!w.isTransitioning&&B&&(g(B.state),A({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}),K(void 0))},[w.isTransitioning,B]);let me=ye.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,C,F)=>n.navigate(k,{state:C,preventScrollReset:F?.preventScrollReset}),replace:(k,C,F)=>n.navigate(k,{replace:!0,state:C,preventScrollReset:F?.preventScrollReset})}),[n]),fe=n.basename||"/",I=ye.useMemo(()=>({router:n,navigator:me,static:!1,basename:fe,onError:t}),[n,me,fe,t]);return ye.createElement(ye.Fragment,null,ye.createElement(Uc.Provider,{value:I},ye.createElement(zd.Provider,{value:c},ye.createElement(G4.Provider,{value:G.current},ye.createElement(ty.Provider,{value:w},ye.createElement(qT,{basename:fe,location:c.location,navigationType:c.historyAction,navigator:me,unstable_useTransitions:r},ye.createElement(jT,{routes:n.routes,future:n.future,state:c,onError:t})))))),null)}function Zb(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var jT=ye.memo(FT);function FT({routes:n,future:e,state:t,onError:r}){return wT(n,void 0,t,r,e)}function X4({to:n,replace:e,state:t,relative:r}){Cn(uf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ye.useContext(Cs);hi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ye.useContext(Js),{pathname:u}=Wl(),c=$l(),f=lg(n,og(o),u,r==="path"),d=JSON.stringify(f);return ye.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function zT(n){return _T(n.context)}function qT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Cn(!uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=ye.useMemo(()=>({basename:c,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[c,a,o,u]);typeof t=="string"&&(t=Zu(t));let{pathname:d="/",search:g="",hash:w="",state:A=null,key:b="default"}=t,M=ye.useMemo(()=>{let U=Qs(d,c);return U==null?null:{location:{pathname:U,search:g,hash:w,state:A,key:b},navigationType:r}},[c,d,g,w,A,b,r]);return hi(M!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:ye.createElement(Cs.Provider,{value:f},ye.createElement(ug.Provider,{children:e,value:M}))}var gp="get",yp="application/x-www-form-urlencoded";function cg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function HT(n){return cg(n)&&n.tagName.toLowerCase()==="button"}function GT(n){return cg(n)&&n.tagName.toLowerCase()==="form"}function KT(n){return cg(n)&&n.tagName.toLowerCase()==="input"}function YT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WT(n,e){return n.button===0&&(!e||e==="_self")&&!YT(n)}function h2(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function $T(n,e){let t=h2(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var Jm=null;function QT(){if(Jm===null)try{new FormData(document.createElement("form"),0),Jm=!1}catch{Jm=!0}return Jm}var XT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n0(n){return n!=null&&!XT.has(n)?(hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yp}"`),null):n}function JT(n,e){let t,r,a,o,u;if(GT(n)){let c=n.getAttribute("action");r=c?Qs(c,e):null,t=n.getAttribute("method")||gp,a=n0(n.getAttribute("enctype"))||yp,o=new FormData(n)}else if(HT(n)||KT(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Qs(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||gp,a=n0(n.getAttribute("formenctype"))||n0(c.getAttribute("enctype"))||yp,o=new FormData(c,n),!QT()){let{name:d,type:g,value:w}=n;if(g==="image"){let A=d?`${d}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else d&&o.append(d,w)}}else{if(cg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gp,r=null,a=yp,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ay(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZT(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Qs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function eC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nC(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await eC(o,t);return u.links?u.links():[]}return[]}));return sC(r.flat(1).filter(tC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function e_(n,e,t,r,a,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>t[d].pathname!==f.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function rC(n,e,{includeHydrateFallback:t}={}){return iC(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function iC(n){return[...new Set(n)]}function aC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function sC(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(aC(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function J4(){let n=ye.useContext(Uc);return ay(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oC(){let n=ye.useContext(zd);return ay(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sy=ye.createContext(void 0);sy.displayName="FrameworkContext";function Z4(){let n=ye.useContext(sy);return ay(n,"You must render this element inside a <HydratedRouter> element"),n}function lC(n,e){let t=ye.useContext(sy),[r,a]=ye.useState(!1),[o,u]=ye.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:w}=e,A=ye.useRef(null);ye.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let U=B=>{B.forEach(K=>{u(K.isIntersecting)})},j=new IntersectionObserver(U,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[n]),ye.useEffect(()=>{if(r){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[r]);let b=()=>{a(!0)},M=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,A,{}]:[o,A,{onFocus:id(c,b),onBlur:id(f,M),onMouseEnter:id(d,b),onMouseLeave:id(g,M),onTouchStart:id(w,b)}]:[!1,A,{}]}function id(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uC({page:n,...e}){let{router:t}=J4(),r=ye.useMemo(()=>Iu(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ye.createElement(hC,{page:n,matches:r,...e}):null}function cC(n){let{manifest:e,routeModules:t}=Z4(),[r,a]=ye.useState([]);return ye.useEffect(()=>{let o=!1;return nC(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),r}function hC({page:n,matches:e,...t}){let r=Wl(),{future:a,manifest:o,routeModules:u}=Z4(),{basename:c}=J4(),{loaderData:f,matches:d}=oC(),g=ye.useMemo(()=>e_(n,e,d,o,r,"data"),[n,e,d,o,r]),w=ye.useMemo(()=>e_(n,e,d,o,r,"assets"),[n,e,d,o,r]),A=ye.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let U=new Set,j=!1;if(e.forEach(K=>{let G=o.routes[K.route.id];!G||!G.hasLoader||(!g.some(X=>X.route.id===K.route.id)&&K.route.id in f&&u[K.route.id]?.shouldRevalidate||G.hasClientLoader?j=!0:U.add(K.route.id))}),U.size===0)return[];let B=ZT(n,c,a.unstable_trailingSlashAwareDataRequests,"data");return j&&U.size>0&&B.searchParams.set("_routes",e.filter(K=>U.has(K.route.id)).map(K=>K.route.id).join(",")),[B.pathname+B.search]},[c,a.unstable_trailingSlashAwareDataRequests,f,r,o,g,e,n,u]),b=ye.useMemo(()=>rC(w,o),[w,o]),M=cC(w);return ye.createElement(ye.Fragment,null,A.map(U=>ye.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),b.map(U=>ye.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),M.map(({key:U,link:j})=>ye.createElement("link",{key:U,nonce:t.nonce,...j,crossOrigin:j.crossOrigin??t.crossOrigin})))}function fC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dC&&(window.__reactRouterVersion="7.13.0")}catch{}function mC(n,e){return jx({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:nx({window:e?.window}),hydrationData:e?.hydrationData||pC(),routes:n,mapRouteProperties:OT,hydrationRouteProperties:UT,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function pC(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:gC(n.errors)}),n}function gC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new jd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var e3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=ye.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A,...b},M){let{basename:U,unstable_useTransitions:j}=ye.useContext(Cs),B=typeof d=="string"&&e3.test(d),K=k4(d,U);d=K.to;let G=yT(d,{relative:a}),[X,me,fe]=lC(r,b),I=bC(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:j});function k(F){e&&e(F),F.defaultPrevented||I(F)}let C=ye.createElement("a",{...b,...fe,href:K.absoluteURL||G,onClick:K.isExternal||o?e:k,ref:fC(M,me),target:f,"data-discover":!B&&t==="render"?"true":void 0});return X&&!B?ye.createElement(ye.Fragment,null,C,ye.createElement(uC,{page:G})):C});Zo.displayName="Link";var t3=ye.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:c,children:f,...d},g){let w=qd(u,{relative:d.relative}),A=Wl(),b=ye.useContext(zd),{navigator:M,basename:U}=ye.useContext(Cs),j=b!=null&&SC(w)&&c===!0,B=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,K=A.pathname,G=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(K=K.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&U&&(G=Qs(G,U)||G);const X=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let me=K===B||!a&&K.startsWith(B)&&K.charAt(X)==="/",fe=G!=null&&(G===B||!a&&G.startsWith(B)&&G.charAt(B.length)==="/"),I={isActive:me,isPending:fe,isTransitioning:j},k=me?e:void 0,C;typeof r=="function"?C=r(I):C=[r,me?"active":null,fe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(I):o;return ye.createElement(Zo,{...d,"aria-current":k,className:C,ref:g,style:F,to:u,viewTransition:c},typeof f=="function"?f(I):f)});t3.displayName="NavLink";var yC=ye.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:u=gp,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A,...b},M)=>{let{unstable_useTransitions:U}=ye.useContext(Cs),j=EC(),B=AC(c,{relative:d}),K=u.toLowerCase()==="get"?"get":"post",G=typeof c=="string"&&e3.test(c),X=me=>{if(f&&f(me),me.defaultPrevented)return;me.preventDefault();let fe=me.nativeEvent.submitter,I=fe?.getAttribute("formmethod")||u,k=()=>j(fe||me.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:a,state:o,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A});U&&t!==!1?ye.startTransition(()=>k()):k()};return ye.createElement("form",{ref:M,method:K,action:B,onSubmit:r?f:X,...b,"data-discover":!G&&n==="render"?"true":void 0})});yC.displayName="Form";function vC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n3(n){let e=ye.useContext(Uc);return Cn(e,vC(n)),e}function bC(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=$l(),g=Wl(),w=qd(n,{relative:o});return ye.useCallback(A=>{if(WT(A,e)){A.preventDefault();let b=t!==void 0?t:sl(g)===sl(w),M=()=>d(n,{replace:b,state:r,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});f?ye.startTransition(()=>M()):M()}},[g,d,w,t,r,e,n,a,o,u,c,f])}function r3(n){hi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=ye.useRef(h2(n)),t=ye.useRef(!1),r=Wl(),a=ye.useMemo(()=>$T(r.search,t.current?null:e.current),[r.search]),o=$l(),u=ye.useCallback((c,f)=>{const d=h2(typeof c=="function"?c(new URLSearchParams(a)):c);t.current=!0,o("?"+d,f)},[o,a]);return[a,u]}var _C=0,wC=()=>`__${String(++_C)}__`;function EC(){let{router:n}=n3("useSubmit"),{basename:e}=ye.useContext(Cs),t=IT(),r=n.fetch,a=n.navigate;return ye.useCallback(async(o,u={})=>{let{action:c,method:f,encType:d,formData:g,body:w}=JT(o,e);if(u.navigate===!1){let A=u.fetcherKey||wC();await r(A,t,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,flushSync:u.flushSync})}else await a(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,e,t])}function AC(n,{relative:e}={}){let{basename:t}=ye.useContext(Cs),r=ye.useContext(Js);Cn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...qd(n||".",{relative:e})},u=Wl();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Jo([t,o.pathname])),sl(o)}function SC(n,{relative:e}={}){let t=ye.useContext(ty);Cn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n3("useViewTransitionState"),a=qd(n,{relative:e});if(!t.isTransitioning)return!1;let o=Qs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Qs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Mp(a.pathname,u)!=null||Mp(a.pathname,o)!=null}var NC=S4();function xC(n){return ye.createElement(BT,{flushSync:NC.flushSync,...n})}const TC=()=>{};var t_={};const i3=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},CC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],c=n[t++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},a3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,c=u?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,g=o>>2,w=(o&3)<<4|c>>4;let A=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(A=64)),r.push(t[g],t[w],t[A],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],c=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||c==null||d==null||w==null)throw new RC;const A=o<<2|c>>4;if(r.push(A),d!==64){const b=c<<4&240|d>>2;if(r.push(b),w!==64){const M=d<<6&192|w;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IC=function(n){const e=i3(n);return a3.encodeByteArray(e,!0)},Op=function(n){return IC(n).replace(/\./g,"")},s3=function(n){try{return a3.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const kC=()=>LC().__FIREBASE_DEFAULTS__,PC=()=>{if(typeof process>"u"||typeof t_>"u")return;const n=t_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&s3(n[1]);return e&&JSON.parse(e)},hg=()=>{try{return TC()||kC()||PC()||DC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o3=n=>hg()?.emulatorHosts?.[n],MC=n=>{const e=o3(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},l3=()=>hg()?.config,u3=n=>hg()?.[`_${n}`];class OC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function cf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c3(n){return(await fetch(n,{credentials:"include"})).ok}function UC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Op(JSON.stringify(t)),Op(JSON.stringify(u)),""].join(".")}const vd={};function VC(){const n={prod:[],emulator:[]};for(const e of Object.keys(vd))vd[e]?n.emulator.push(e):n.prod.push(e);return n}function BC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let n_=!1;function h3(n,e){if(typeof window>"u"||typeof document>"u"||!cf(window.location.host)||vd[n]===e||vd[n]||n_)return;vd[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",o=VC().prod.length>0;function u(){const A=document.getElementById(r);A&&A.remove()}function c(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function f(A,b){A.setAttribute("width","24"),A.setAttribute("id",b),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{n_=!0,u()},A}function g(A,b){A.setAttribute("id",b),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=BC(r),b=t("text"),M=document.getElementById(b)||document.createElement("span"),U=t("learnmore"),j=document.getElementById(U)||document.createElement("a"),B=t("preprendIcon"),K=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const G=A.element;c(G),g(j,U);const X=d();f(K,B),G.append(K,M,j,X),document.body.appendChild(G)}o?(M.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function La(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(La())}function FC(){const n=hg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){const n=La();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function KC(){return!FC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const $C="FirebaseError";class Ql extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$C,Object.setPrototypeOf(this,Ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hd.prototype.create)}}class Hd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?QC(o,r):"Error",c=`${this.serviceName}: ${u} (${a}).`;return new Ql(a,c,r)}}function QC(n,e){return n.replace(XC,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const XC=/\{\$([^}]+)}/g;function JC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],u=e[a];if(r_(o)&&r_(u)){if(!Gu(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function r_(n){return n!==null&&typeof n=="object"}function Gd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function fd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ZC(n,e){const t=new eR(n,e);return t.subscribe.bind(t)}class eR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=r0),a.error===void 0&&(a.error=r0),a.complete===void 0&&(a.complete=r0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function r0(){}function aa(n){return n&&n._delegate?n._delegate:n}class Rc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wc="[DEFAULT]";class nR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new OC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:wc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=wc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wc){return this.instances.has(e)}getOptions(e=wc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wc){return this.component?this.component.multipleInstances?e:wc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(n){return n===wc?void 0:n}function iR(n){return n.instantiationMode==="EAGER"}class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Vn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vn||(Vn={}));const sR={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},oR=Vn.INFO,lR={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},uR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=lR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...e),this._logHandler(this,Vn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...e),this._logHandler(this,Vn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...e),this._logHandler(this,Vn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...e),this._logHandler(this,Vn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...e),this._logHandler(this,Vn.ERROR,...e)}}const cR=(n,e)=>e.some(t=>n instanceof t);let i_,a_;function hR(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f3=new WeakMap,f2=new WeakMap,d3=new WeakMap,i0=new WeakMap,ly=new WeakMap;function dR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Bu(n.result)),a()},u=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&f3.set(t,n)}).catch(()=>{}),ly.set(e,n),e}function mR(n){if(f2.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});f2.set(n,e)}let d2={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return f2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pR(n){d2=n(d2)}function gR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(a0(this),e,...t);return d3.set(r,e.sort?e.sort():[e]),Bu(r)}:fR().includes(n)?function(...e){return n.apply(a0(this),e),Bu(f3.get(this))}:function(...e){return Bu(n.apply(a0(this),e))}}function yR(n){return typeof n=="function"?gR(n):(n instanceof IDBTransaction&&mR(n),cR(n,hR())?new Proxy(n,d2):n)}function Bu(n){if(n instanceof IDBRequest)return dR(n);if(i0.has(n))return i0.get(n);const e=yR(n);return e!==n&&(i0.set(n,e),ly.set(e,n)),e}const a0=n=>ly.get(n);function vR(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),c=Bu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Bu(u.result),f.oldVersion,f.newVersion,Bu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const bR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],s0=new Map;function s_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(s0.get(e))return s0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=_R.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||bR.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),a&&f.done]))[0]};return s0.set(e,o),o}pR(n=>({...n,get:(e,t,r)=>s_(e,t)||n.get(e,t,r),has:(e,t)=>!!s_(e,t)||n.has(e,t)}));class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ER(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function ER(n){return n.getComponent()?.type==="VERSION"}const m2="@firebase/app",o_="0.14.8";const ql=new oy("@firebase/app"),AR="@firebase/app-compat",SR="@firebase/analytics-compat",NR="@firebase/analytics",xR="@firebase/app-check-compat",TR="@firebase/app-check",CR="@firebase/auth",RR="@firebase/auth-compat",IR="@firebase/database",LR="@firebase/data-connect",kR="@firebase/database-compat",PR="@firebase/functions",DR="@firebase/functions-compat",MR="@firebase/installations",OR="@firebase/installations-compat",UR="@firebase/messaging",VR="@firebase/messaging-compat",BR="@firebase/performance",jR="@firebase/performance-compat",FR="@firebase/remote-config",zR="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",GR="@firebase/firestore",KR="@firebase/ai",YR="@firebase/firestore-compat",WR="firebase",$R="12.9.0";const p2="[DEFAULT]",QR={[m2]:"fire-core",[AR]:"fire-core-compat",[NR]:"fire-analytics",[SR]:"fire-analytics-compat",[TR]:"fire-app-check",[xR]:"fire-app-check-compat",[CR]:"fire-auth",[RR]:"fire-auth-compat",[IR]:"fire-rtdb",[LR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[PR]:"fire-fn",[DR]:"fire-fn-compat",[MR]:"fire-iid",[OR]:"fire-iid-compat",[UR]:"fire-fcm",[VR]:"fire-fcm-compat",[BR]:"fire-perf",[jR]:"fire-perf-compat",[FR]:"fire-rc",[zR]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[GR]:"fire-fst",[YR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};const Up=new Map,XR=new Map,g2=new Map;function l_(n,e){try{n.container.addComponent(e)}catch(t){ql.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zh(n){const e=n.name;if(g2.has(e))return ql.debug(`There were multiple attempts to register component ${e}.`),!1;g2.set(e,n);for(const t of Up.values())l_(t,n);for(const t of XR.values())l_(t,n);return!0}function uy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ws(n){return n==null?!1:n.settings!==void 0}const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ju=new Hd("app","Firebase",JR);class ZR{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ju.create("app-deleted",{appName:this._name})}}const hf=$R;function m3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:p2,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw ju.create("bad-app-name",{appName:String(a)});if(t||(t=l3()),!t)throw ju.create("no-options");const o=Up.get(a);if(o){if(Gu(t,o.options)&&Gu(r,o.config))return o;throw ju.create("duplicate-app",{appName:a})}const u=new aR(a);for(const f of g2.values())u.addComponent(f);const c=new ZR(t,r,u);return Up.set(a,c),c}function p3(n=p2){const e=Up.get(n);if(!e&&n===p2&&l3())return m3();if(!e)throw ju.create("no-app",{appName:n});return e}function Fu(n,e,t){let r=QR[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ql.warn(u.join(" "));return}Zh(new Rc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const e8="firebase-heartbeat-database",t8=1,Rd="firebase-heartbeat-store";let o0=null;function g3(){return o0||(o0=vR(e8,t8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ju.create("idb-open",{originalErrorMessage:n.message})})),o0}async function n8(n){try{const t=(await g3()).transaction(Rd),r=await t.objectStore(Rd).get(y3(n));return await t.done,r}catch(e){if(e instanceof Ql)ql.warn(e.message);else{const t=ju.create("idb-get",{originalErrorMessage:e?.message});ql.warn(t.message)}}}async function u_(n,e){try{const r=(await g3()).transaction(Rd,"readwrite");await r.objectStore(Rd).put(e,y3(n)),await r.done}catch(t){if(t instanceof Ql)ql.warn(t.message);else{const r=ju.create("idb-set",{originalErrorMessage:t?.message});ql.warn(r.message)}}}function y3(n){return`${n.name}!${n.options.appId}`}const r8=1024,i8=30;class a8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new o8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=c_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>i8){const a=l8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ql.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c_(),{heartbeatsToSend:t,unsentEntries:r}=s8(this._heartbeatsCache.heartbeats),a=Op(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ql.warn(e),""}}}function c_(){return new Date().toISOString().substring(0,10)}function s8(n,e=r8){const t=[];let r=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),h_(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),h_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class o8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await n8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h_(n){return Op(JSON.stringify({version:2,heartbeats:n})).length}function l8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function u8(n){Zh(new Rc("platform-logger",e=>new wR(e),"PRIVATE")),Zh(new Rc("heartbeat",e=>new a8(e),"PRIVATE")),Fu(m2,o_,n),Fu(m2,o_,"esm2020"),Fu("fire-js","")}u8("");function v3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c8=v3,b3=new Hd("auth","Firebase",v3());const Vp=new oy("@firebase/auth");function h8(n,...e){Vp.logLevel<=Vn.WARN&&Vp.warn(`Auth (${hf}): ${n}`,...e)}function vp(n,...e){Vp.logLevel<=Vn.ERROR&&Vp.error(`Auth (${hf}): ${n}`,...e)}function Ao(n,...e){throw cy(n,...e)}function el(n,...e){return cy(n,...e)}function _3(n,e,t){const r={...c8(),[e]:t};return new Hd("auth","Firebase",r).create(e,{appName:n.name})}function jl(n){return _3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return b3.create(n,...e)}function ln(n,e,...t){if(!n)throw cy(e,...t)}function Vl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vp(e),new Error(e)}function Hl(n,e){n||Vl(e)}function y2(){return typeof self<"u"&&self.location?.href||""}function f8(){return f_()==="http:"||f_()==="https:"}function f_(){return typeof self<"u"&&self.location?.protocol||null}function d8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f8()||qC()||"connection"in navigator)?navigator.onLine:!0}function m8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hl(t>e,"Short delay should be less than long delay!"),this.isMobile=jC()||HC()}get(){return d8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hy(n,e){Hl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class w3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const p8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const g8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y8=new Kd(3e4,6e4);function ec(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function tc(n,e,t,r,a={}){return E3(n,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Gd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return zC()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&cf(n.emulatorConfig.host)&&(d.credentials="include"),w3.fetch()(await A3(n,n.config.apiHost,t,c),d)})}async function E3(n,e,t){n._canInitEmulator=!1;const r={...p8,...e};try{const a=new b8(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Zm(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zm(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Zm(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Zm(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _3(n,g,d);Ao(n,g)}}catch(a){if(a instanceof Ql)throw a;Ao(n,"network-request-failed",{message:String(a)})}}async function Yd(n,e,t,r,a={}){const o=await tc(n,e,t,r,a);return"mfaPendingCredential"in o&&Ao(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function A3(n,e,t,r){const a=`${e}${t}?${r}`,o=n,u=o.config.emulator?hy(n.config,a):`${n.config.apiScheme}://${a}`;return g8.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function v8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(el(this.auth,"network-request-failed")),y8.get())})}}function Zm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=el(n,e,r);return a.customData._tokenResponse=t,a}function d_(n){return n!==void 0&&n.enterprise!==void 0}class _8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return v8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w8(n,e){return tc(n,"GET","/v2/recaptchaConfig",ec(n,e))}async function E8(n,e){return tc(n,"POST","/v1/accounts:delete",e)}async function Bp(n,e){return tc(n,"POST","/v1/accounts:lookup",e)}function bd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A8(n,e=!1){const t=aa(n),r=await t.getIdToken(e),a=fy(r);ln(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o?.sign_in_provider;return{claims:a,token:r,authTime:bd(l0(a.auth_time)),issuedAtTime:bd(l0(a.iat)),expirationTime:bd(l0(a.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function l0(n){return Number(n)*1e3}function fy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{const a=s3(t);return a?JSON.parse(a):(vp("Failed to decode base64 JWT payload"),null)}catch(a){return vp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function m_(n){const e=fy(n);return ln(e,"internal-error"),ln(typeof e.exp<"u","internal-error"),ln(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Id(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ql&&S8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function S8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class N8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class v2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bd(this.lastLoginAt),this.creationTime=bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jp(n){const e=n.auth,t=await n.getIdToken(),r=await Id(n,Bp(e,{idToken:t}));ln(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?S3(a.providerUserInfo):[],u=T8(n.providerData,o),c=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!u?.length,d=c?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new v2(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function x8(n){const e=aa(n);await jp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T8(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function S3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function C8(n,e){const t=await E3(n,{},async()=>{const r=Gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await A3(n,a,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&cf(n.emulatorConfig.host)&&(f.credentials="include"),w3.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function R8(n,e){return tc(n,"POST","/v2/accounts:revokeToken",ec(n,e))}class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ln(e.idToken,"internal-error"),ln(typeof e.idToken<"u","internal-error"),ln(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ln(e.length!==0,"internal-error");const t=m_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ln(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await C8(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,u=new zh;return r&&(ln(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(ln(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(ln(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return Vl("not implemented")}}function xu(n,e){ln(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wo{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new N8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new v2(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Id(this,this.stsTokenManager.getToken(this.auth,e));return ln(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return A8(this,e)}reload(){return x8(this)}_assign(e){this!==e&&(ln(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ln(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ws(this.auth.app))return Promise.reject(jl(this.auth));const e=await this.getIdToken();return await Id(this,E8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:b,providerData:M,stsTokenManager:U}=t;ln(w&&U,e,"internal-error");const j=zh.fromJSON(this.name,U);ln(typeof w=="string",e,"internal-error"),xu(r,e.name),xu(a,e.name),ln(typeof A=="boolean",e,"internal-error"),ln(typeof b=="boolean",e,"internal-error"),xu(o,e.name),xu(u,e.name),xu(c,e.name),xu(f,e.name),xu(d,e.name),xu(g,e.name);const B=new wo({uid:w,auth:e,email:a,emailVerified:A,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:j,createdAt:d,lastLoginAt:g});return M&&Array.isArray(M)&&(B.providerData=M.map(K=>({...K}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(e,t,r=!1){const a=new zh;a.updateFromServerResponse(t);const o=new wo({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await jp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];ln(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?S3(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!o?.length,c=new zh;c.updateFromIdToken(r);const f=new wo({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new v2(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const p_=new Map;function Bl(n){Hl(n instanceof Function,"Expected a class definition");let e=p_.get(n);return e?(Hl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,p_.set(n,e),e)}class N3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}N3.type="NONE";const g_=N3;function bp(n,e,t){return`firebase:${n}:${e}:${t}`}class qh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=bp(this.userKey,a.apiKey,o),this.fullPersistenceKey=bp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bp(this.auth,{idToken:e}).catch(()=>{});return t?wo._fromGetAccountInfoResponse(this.auth,t,e):null}return wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new qh(Bl(g_),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=a[0]||Bl(g_);const u=bp(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){let w;if(typeof g=="string"){const A=await Bp(e,{idToken:g}).catch(()=>{});if(!A)break;w=await wo._fromGetAccountInfoResponse(e,A,g)}else w=wo._fromJSON(e,g);d!==o&&(c=w),o=d;break}}catch{}const f=a.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new qh(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new qh(o,e,r))}}function y_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L3(e))return"Blackberry";if(k3(e))return"Webos";if(T3(e))return"Safari";if((e.includes("chrome/")||C3(e))&&!e.includes("edge/"))return"Chrome";if(I3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function x3(n=La()){return/firefox\//i.test(n)}function T3(n=La()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C3(n=La()){return/crios\//i.test(n)}function R3(n=La()){return/iemobile/i.test(n)}function I3(n=La()){return/android/i.test(n)}function L3(n=La()){return/blackberry/i.test(n)}function k3(n=La()){return/webos/i.test(n)}function dy(n=La()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function I8(n=La()){return dy(n)&&!!window.navigator?.standalone}function L8(){return GC()&&document.documentMode===10}function P3(n=La()){return dy(n)||I3(n)||k3(n)||L3(n)||/windows phone/i.test(n)||R3(n)}function D3(n,e=[]){let t;switch(n){case"Browser":t=y_(La());break;case"Worker":t=`${y_(La())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hf}/${r}`}class k8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function P8(n,e={}){return tc(n,"GET","/v2/passwordPolicy",ec(n,e))}const D8=6;class M8{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??D8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class O8{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new k8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bl(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bp(this,{idToken:e}),r=await wo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ws(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ln(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ws(this.app))return Promise.reject(jl(this));const t=e?aa(e):null;return t&&ln(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ln(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ws(this.app)?Promise.reject(jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ws(this.app)?Promise.reject(jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P8(this),t=new M8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await R8(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bl(e)||this._popupRedirectResolver;ln(t,this,"argument-error"),this.redirectPersistenceManager=await qh.create(this,[Bl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ln(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ln(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&h8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bc(n){return aa(n)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZC(t=>this.observer=t)}get next(){return ln(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U8(n){fg=n}function M3(n){return fg.loadJS(n)}function V8(){return fg.recaptchaEnterpriseScript}function B8(){return fg.gapiScript}function j8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class F8{constructor(){this.enterprise=new z8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class z8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const q8="recaptcha-enterprise",O3="NO_RECAPTCHA";class H8{constructor(e){this.type=q8,this.auth=Bc(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{w8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new _8(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function a(o,u,c){const f=window.grecaptcha;d_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(O3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F8().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&d_(window.grecaptcha))a(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=V8();f.length!==0&&(f+=c),M3(f).then(()=>{a(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function b_(n,e,t,r=!1,a=!1){const o=new H8(n);let u;if(a)u=O3;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function b2(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await b_(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await b_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}function G8(n,e){const t=uy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Gu(o,e??{}))return a;Ao(a,"already-initialized")}return t.initialize({options:e})}function K8(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Bl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Y8(n,e,t){const r=Bc(n);ln(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=U3(e),{host:u,port:c}=W8(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ln(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ln(Gu(d,r.config.emulator)&&Gu(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,cf(u)?(c3(`${o}//${u}${f}`),h3("Auth",!0)):$8()}function U3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W8(n){const e=U3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:__(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:__(u)}}}function __(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class my{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vl("not implemented")}_getIdTokenResponse(e){return Vl("not implemented")}_linkToIdToken(e,t){return Vl("not implemented")}_getReauthenticationResolver(e){return Vl("not implemented")}}async function Q8(n,e){return tc(n,"POST","/v1/accounts:signUp",e)}async function X8(n,e){return Yd(n,"POST","/v1/accounts:signInWithPassword",ec(n,e))}async function J8(n,e){return Yd(n,"POST","/v1/accounts:signInWithEmailLink",ec(n,e))}async function Z8(n,e){return Yd(n,"POST","/v1/accounts:signInWithEmailLink",ec(n,e))}class Ld extends my{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ld(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ld(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b2(e,t,"signInWithPassword",X8);case"emailLink":return J8(e,{email:this._email,oobCode:this._password});default:Ao(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b2(e,r,"signUpPassword",Q8);case"emailLink":return Z8(e,{idToken:t,email:this._email,oobCode:this._password});default:Ao(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Hh(n,e){return Yd(n,"POST","/v1/accounts:signInWithIdp",ec(n,e))}const eI="http://localhost";class Ic extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ic(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ao("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const u=new Ic(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Hh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Hh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hh(e,t)}buildRequest(){const e={requestUri:eI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gd(t)}return e}}function tI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nI(n){const e=hd(fd(n)).link,t=e?hd(fd(e)).deep_link_id:null,r=hd(fd(n)).deep_link_id;return(r?hd(fd(r)).link:null)||r||t||e||n}class py{constructor(e){const t=hd(fd(e)),r=t.apiKey??null,a=t.oobCode??null,o=tI(t.mode??null);ln(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=nI(e);try{return new py(t)}catch{return null}}}class ff{constructor(){this.providerId=ff.PROVIDER_ID}static credential(e,t){return Ld._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=py.parseLink(t);return ln(r,"argument-error"),Ld._fromEmailAndCode(e,r.code,r.tenantId)}}ff.PROVIDER_ID="password";ff.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ff.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class V3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wd extends V3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ku extends Wd{constructor(){super("facebook.com")}static credential(e){return Ic._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ku.credential(e.oauthAccessToken)}catch{return null}}}ku.FACEBOOK_SIGN_IN_METHOD="facebook.com";ku.PROVIDER_ID="facebook.com";class Pu extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ic._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Pu.credential(t,r)}catch{return null}}}Pu.GOOGLE_SIGN_IN_METHOD="google.com";Pu.PROVIDER_ID="google.com";class Du extends Wd{constructor(){super("github.com")}static credential(e){return Ic._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Du.credential(e.oauthAccessToken)}catch{return null}}}Du.GITHUB_SIGN_IN_METHOD="github.com";Du.PROVIDER_ID="github.com";class Mu extends Wd{constructor(){super("twitter.com")}static credential(e,t){return Ic._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Mu.credential(t,r)}catch{return null}}}Mu.TWITTER_SIGN_IN_METHOD="twitter.com";Mu.PROVIDER_ID="twitter.com";async function rI(n,e){return Yd(n,"POST","/v1/accounts:signUp",ec(n,e))}class Lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await wo._fromIdTokenResponse(e,r,a),u=w_(r);return new Lc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=w_(r);return new Lc({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function w_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fp extends Ql{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Fp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Fp(e,t,r,a)}}function B3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fp._fromErrorAndOperation(n,o,e,r):o})}async function iI(n,e,t=!1){const r=await Id(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lc._forOperation(n,"link",r)}async function aI(n,e,t=!1){const{auth:r}=n;if(Ws(r.app))return Promise.reject(jl(r));const a="reauthenticate";try{const o=await Id(n,B3(r,a,e,n),t);ln(o.idToken,r,"internal-error");const u=fy(o.idToken);ln(u,r,"internal-error");const{sub:c}=u;return ln(n.uid===c,r,"user-mismatch"),Lc._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ao(r,"user-mismatch"),o}}async function j3(n,e,t=!1){if(Ws(n.app))return Promise.reject(jl(n));const r="signIn",a=await B3(n,r,e),o=await Lc._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function sI(n,e){return j3(Bc(n),e)}async function F3(n){const e=Bc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oI(n,e,t){if(Ws(n.app))return Promise.reject(jl(n));const r=Bc(n),u=await b2(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rI).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&F3(n),f}),c=await Lc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function lI(n,e,t){return Ws(n.app)?Promise.reject(jl(n)):sI(aa(n),ff.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&F3(n),r})}function uI(n,e,t,r){return aa(n).onIdTokenChanged(e,t,r)}function cI(n,e,t){return aa(n).beforeAuthStateChanged(e,t)}function hI(n,e,t,r){return aa(n).onAuthStateChanged(e,t,r)}function fI(n){return aa(n).signOut()}const zp="__sak";class z3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dI=1e3,mI=10;class q3 extends z3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);L8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mI):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q3.type="LOCAL";const pI=q3;class H3 extends z3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H3.type="SESSION";const G3=H3;function gI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new dg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await gI(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];function gy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class yI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=gy("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(w){const A=w;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(A.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function tl(){return window}function vI(n){tl().location.href=n}function K3(){return typeof tl().WorkerGlobalScope<"u"&&typeof tl().importScripts=="function"}async function bI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _I(){return navigator?.serviceWorker?.controller||null}function wI(){return K3()?self:null}const Y3="firebaseLocalStorageDb",EI=1,qp="firebaseLocalStorage",W3="fbase_key";class $d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mg(n,e){return n.transaction([qp],e?"readwrite":"readonly").objectStore(qp)}function AI(){const n=indexedDB.deleteDatabase(Y3);return new $d(n).toPromise()}function _2(){const n=indexedDB.open(Y3,EI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qp,{keyPath:W3})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qp)?e(r):(r.close(),await AI(),e(await _2()))})})}async function E_(n,e,t){const r=mg(n,!0).put({[W3]:e,value:t});return new $d(r).toPromise()}async function SI(n,e){const t=mg(n,!1).get(e),r=await new $d(t).toPromise();return r===void 0?null:r.value}function A_(n,e){const t=mg(n,!0).delete(e);return new $d(t).toPromise()}const NI=800,xI=3;class $3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>xI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bI(),!this.activeServiceWorker)return;this.sender=new yI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _2();return await E_(e,zp,"1"),await A_(e,zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>E_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>SI(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>A_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=mg(a,!1).getAll();return new $d(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$3.type="LOCAL";const TI=$3;new Kd(3e4,6e4);function CI(n,e){return e?Bl(e):(ln(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class yy extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RI(n){return j3(n.auth,new yy(n),n.bypassAuthState)}function II(n){const{auth:e,user:t}=n;return ln(t,e,"internal-error"),aI(t,new yy(n),n.bypassAuthState)}async function LI(n){const{auth:e,user:t}=n;return ln(t,e,"internal-error"),iI(t,new yy(n),n.bypassAuthState)}class Q3{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RI;case"linkViaPopup":case"linkViaRedirect":return LI;case"reauthViaPopup":case"reauthViaRedirect":return II;default:Ao(this.auth,"internal-error")}}resolve(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kI=new Kd(2e3,1e4);class Bh extends Q3{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Bh.currentPopupAction&&Bh.currentPopupAction.cancel(),Bh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ln(e,this.auth,"internal-error"),e}async onExecution(){Hl(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(el(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(el(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(el(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kI.get())};e()}}Bh.currentPopupAction=null;const PI="pendingRedirect",_p=new Map;class DI extends Q3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_p.get(this.auth._key());if(!e){try{const r=await MI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MI(n,e){const t=VI(e),r=UI(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function OI(n,e){_p.set(n._key(),e)}function UI(n){return Bl(n._redirectPersistence)}function VI(n){return bp(PI,n.config.apiKey,n.name)}async function BI(n,e,t=!1){if(Ws(n.app))return Promise.reject(jl(n));const r=Bc(n),a=CI(r,e),u=await new DI(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const jI=600*1e3;class FI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!X3(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(el(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jI&&this.cachedEventUids.clear(),this.cachedEventUids.has(S_(e))}saveEventToCache(e){this.cachedEventUids.add(S_(e)),this.lastProcessedEventTime=Date.now()}}function S_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X3({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function zI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X3(n);default:return!1}}async function qI(n,e={}){return tc(n,"GET","/v1/projects",e)}const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GI=/^https?/;async function KI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qI(n);for(const t of e)try{if(YI(t))return}catch{}Ao(n,"unauthorized-domain")}function YI(n){const e=y2(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!GI.test(t))return!1;if(HI.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const WI=new Kd(3e4,6e4);function N_(){const n=tl().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $I(n){return new Promise((e,t)=>{function r(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),t(el(n,"network-request-failed"))},timeout:WI.get()})}if(tl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(tl().gapi?.load)r();else{const a=j8("iframefcb");return tl()[a]=()=>{gapi.load?r():t(el(n,"network-request-failed"))},M3(`${B8()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw wp=null,e})}let wp=null;function QI(n){return wp=wp||$I(n),wp}const XI=new Kd(5e3,15e3),JI="__/auth/iframe",ZI="emulator/auth/iframe",eL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nL(n){const e=n.config;ln(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hy(e,ZI):`https://${n.config.authDomain}/${JI}`,r={apiKey:e.apiKey,appName:n.name,v:hf},a=tL.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gd(r).slice(1)}`}async function rL(n){const e=await QI(n),t=tl().gapi;return ln(t,n,"internal-error"),e.open({where:document.body,url:nL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=el(n,"network-request-failed"),c=tl().setTimeout(()=>{o(u)},XI.get());function f(){tl().clearTimeout(c),a(r)}r.ping(f).then(f,()=>{o(u)})}))}const iL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aL=500,sL=600,oL="_blank",lL="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uL(n,e,t,r=aL,a=sL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...iL,width:r.toString(),height:a.toString(),top:o,left:u},d=La().toLowerCase();t&&(c=C3(d)?oL:t),x3(d)&&(e=e||lL,f.scrollbars="yes");const g=Object.entries(f).reduce((A,[b,M])=>`${A}${b}=${M},`,"");if(I8(d)&&c!=="_self")return cL(e||"",c),new x_(null);const w=window.open(e||"",c,g);ln(w,n,"popup-blocked");try{w.focus()}catch{}return new x_(w)}function cL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const hL="__/auth/handler",fL="emulator/auth/handler",dL=encodeURIComponent("fac");async function T_(n,e,t,r,a,o){ln(n.config.authDomain,n,"auth-domain-config-required"),ln(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hf,eventId:a};if(e instanceof V3){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",JC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof Wd){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${dL}=${encodeURIComponent(f)}`:"";return`${mL(n)}?${Gd(c).slice(1)}${d}`}function mL({config:n}){return n.emulator?hy(n,fL):`https://${n.authDomain}/${hL}`}const u0="webStorageSupport";class pL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G3,this._completeRedirectFn=BI,this._overrideRedirectResult=OI}async _openPopup(e,t,r,a){Hl(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await T_(e,t,r,y2(),a);return uL(e,o,gy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await T_(e,t,r,y2(),a);return vI(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Hl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rL(e),r=new FI(e);return t.register("authEvent",a=>(ln(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(u0,{type:u0},a=>{const o=a?.[0]?.[u0];o!==void 0&&t(!!o),Ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P3()||T3()||dy()}}const gL=pL;var C_="@firebase/auth",R_="1.12.0";class yL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ln(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bL(n){Zh(new Rc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;ln(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D3(n)},d=new O8(r,a,o,f);return K8(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zh(new Rc("auth-internal",e=>{const t=Bc(e.getProvider("auth").getImmediate());return(r=>new yL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fu(C_,R_,vL(n)),Fu(C_,R_,"esm2020")}const _L=300,wL=u3("authIdTokenMaxAge")||_L;let I_=null;const EL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wL)return;const a=t?.token;I_!==a&&(I_=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AL(n=p3()){const e=uy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=G8(n,{popupRedirectResolver:gL,persistence:[TI,pI,G3]}),r=u3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=EL(o.toString());cI(t,u,()=>u(t.currentUser)),uI(t,c=>u(c))}}const a=o3("auth");return a&&Y8(t,`http://${a}`),t}function SL(){return document.getElementsByTagName("head")?.[0]??document}U8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=el("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",SL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bL("Browser");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zu,J3;(function(){var n;function e(I,k){function C(){}C.prototype=k.prototype,I.F=k.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(F,T,L){for(var D=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)D[ne-2]=arguments[ne];return k.prototype[T].apply(F,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,k,C){C||(C=0);const F=Array(16);if(typeof k=="string")for(var T=0;T<16;++T)F[T]=k.charCodeAt(C++)|k.charCodeAt(C++)<<8|k.charCodeAt(C++)<<16|k.charCodeAt(C++)<<24;else for(T=0;T<16;++T)F[T]=k[C++]|k[C++]<<8|k[C++]<<16|k[C++]<<24;k=I.g[0],C=I.g[1],T=I.g[2];let L=I.g[3],D;D=k+(L^C&(T^L))+F[0]+3614090360&4294967295,k=C+(D<<7&4294967295|D>>>25),D=L+(T^k&(C^T))+F[1]+3905402710&4294967295,L=k+(D<<12&4294967295|D>>>20),D=T+(C^L&(k^C))+F[2]+606105819&4294967295,T=L+(D<<17&4294967295|D>>>15),D=C+(k^T&(L^k))+F[3]+3250441966&4294967295,C=T+(D<<22&4294967295|D>>>10),D=k+(L^C&(T^L))+F[4]+4118548399&4294967295,k=C+(D<<7&4294967295|D>>>25),D=L+(T^k&(C^T))+F[5]+1200080426&4294967295,L=k+(D<<12&4294967295|D>>>20),D=T+(C^L&(k^C))+F[6]+2821735955&4294967295,T=L+(D<<17&4294967295|D>>>15),D=C+(k^T&(L^k))+F[7]+4249261313&4294967295,C=T+(D<<22&4294967295|D>>>10),D=k+(L^C&(T^L))+F[8]+1770035416&4294967295,k=C+(D<<7&4294967295|D>>>25),D=L+(T^k&(C^T))+F[9]+2336552879&4294967295,L=k+(D<<12&4294967295|D>>>20),D=T+(C^L&(k^C))+F[10]+4294925233&4294967295,T=L+(D<<17&4294967295|D>>>15),D=C+(k^T&(L^k))+F[11]+2304563134&4294967295,C=T+(D<<22&4294967295|D>>>10),D=k+(L^C&(T^L))+F[12]+1804603682&4294967295,k=C+(D<<7&4294967295|D>>>25),D=L+(T^k&(C^T))+F[13]+4254626195&4294967295,L=k+(D<<12&4294967295|D>>>20),D=T+(C^L&(k^C))+F[14]+2792965006&4294967295,T=L+(D<<17&4294967295|D>>>15),D=C+(k^T&(L^k))+F[15]+1236535329&4294967295,C=T+(D<<22&4294967295|D>>>10),D=k+(T^L&(C^T))+F[1]+4129170786&4294967295,k=C+(D<<5&4294967295|D>>>27),D=L+(C^T&(k^C))+F[6]+3225465664&4294967295,L=k+(D<<9&4294967295|D>>>23),D=T+(k^C&(L^k))+F[11]+643717713&4294967295,T=L+(D<<14&4294967295|D>>>18),D=C+(L^k&(T^L))+F[0]+3921069994&4294967295,C=T+(D<<20&4294967295|D>>>12),D=k+(T^L&(C^T))+F[5]+3593408605&4294967295,k=C+(D<<5&4294967295|D>>>27),D=L+(C^T&(k^C))+F[10]+38016083&4294967295,L=k+(D<<9&4294967295|D>>>23),D=T+(k^C&(L^k))+F[15]+3634488961&4294967295,T=L+(D<<14&4294967295|D>>>18),D=C+(L^k&(T^L))+F[4]+3889429448&4294967295,C=T+(D<<20&4294967295|D>>>12),D=k+(T^L&(C^T))+F[9]+568446438&4294967295,k=C+(D<<5&4294967295|D>>>27),D=L+(C^T&(k^C))+F[14]+3275163606&4294967295,L=k+(D<<9&4294967295|D>>>23),D=T+(k^C&(L^k))+F[3]+4107603335&4294967295,T=L+(D<<14&4294967295|D>>>18),D=C+(L^k&(T^L))+F[8]+1163531501&4294967295,C=T+(D<<20&4294967295|D>>>12),D=k+(T^L&(C^T))+F[13]+2850285829&4294967295,k=C+(D<<5&4294967295|D>>>27),D=L+(C^T&(k^C))+F[2]+4243563512&4294967295,L=k+(D<<9&4294967295|D>>>23),D=T+(k^C&(L^k))+F[7]+1735328473&4294967295,T=L+(D<<14&4294967295|D>>>18),D=C+(L^k&(T^L))+F[12]+2368359562&4294967295,C=T+(D<<20&4294967295|D>>>12),D=k+(C^T^L)+F[5]+4294588738&4294967295,k=C+(D<<4&4294967295|D>>>28),D=L+(k^C^T)+F[8]+2272392833&4294967295,L=k+(D<<11&4294967295|D>>>21),D=T+(L^k^C)+F[11]+1839030562&4294967295,T=L+(D<<16&4294967295|D>>>16),D=C+(T^L^k)+F[14]+4259657740&4294967295,C=T+(D<<23&4294967295|D>>>9),D=k+(C^T^L)+F[1]+2763975236&4294967295,k=C+(D<<4&4294967295|D>>>28),D=L+(k^C^T)+F[4]+1272893353&4294967295,L=k+(D<<11&4294967295|D>>>21),D=T+(L^k^C)+F[7]+4139469664&4294967295,T=L+(D<<16&4294967295|D>>>16),D=C+(T^L^k)+F[10]+3200236656&4294967295,C=T+(D<<23&4294967295|D>>>9),D=k+(C^T^L)+F[13]+681279174&4294967295,k=C+(D<<4&4294967295|D>>>28),D=L+(k^C^T)+F[0]+3936430074&4294967295,L=k+(D<<11&4294967295|D>>>21),D=T+(L^k^C)+F[3]+3572445317&4294967295,T=L+(D<<16&4294967295|D>>>16),D=C+(T^L^k)+F[6]+76029189&4294967295,C=T+(D<<23&4294967295|D>>>9),D=k+(C^T^L)+F[9]+3654602809&4294967295,k=C+(D<<4&4294967295|D>>>28),D=L+(k^C^T)+F[12]+3873151461&4294967295,L=k+(D<<11&4294967295|D>>>21),D=T+(L^k^C)+F[15]+530742520&4294967295,T=L+(D<<16&4294967295|D>>>16),D=C+(T^L^k)+F[2]+3299628645&4294967295,C=T+(D<<23&4294967295|D>>>9),D=k+(T^(C|~L))+F[0]+4096336452&4294967295,k=C+(D<<6&4294967295|D>>>26),D=L+(C^(k|~T))+F[7]+1126891415&4294967295,L=k+(D<<10&4294967295|D>>>22),D=T+(k^(L|~C))+F[14]+2878612391&4294967295,T=L+(D<<15&4294967295|D>>>17),D=C+(L^(T|~k))+F[5]+4237533241&4294967295,C=T+(D<<21&4294967295|D>>>11),D=k+(T^(C|~L))+F[12]+1700485571&4294967295,k=C+(D<<6&4294967295|D>>>26),D=L+(C^(k|~T))+F[3]+2399980690&4294967295,L=k+(D<<10&4294967295|D>>>22),D=T+(k^(L|~C))+F[10]+4293915773&4294967295,T=L+(D<<15&4294967295|D>>>17),D=C+(L^(T|~k))+F[1]+2240044497&4294967295,C=T+(D<<21&4294967295|D>>>11),D=k+(T^(C|~L))+F[8]+1873313359&4294967295,k=C+(D<<6&4294967295|D>>>26),D=L+(C^(k|~T))+F[15]+4264355552&4294967295,L=k+(D<<10&4294967295|D>>>22),D=T+(k^(L|~C))+F[6]+2734768916&4294967295,T=L+(D<<15&4294967295|D>>>17),D=C+(L^(T|~k))+F[13]+1309151649&4294967295,C=T+(D<<21&4294967295|D>>>11),D=k+(T^(C|~L))+F[4]+4149444226&4294967295,k=C+(D<<6&4294967295|D>>>26),D=L+(C^(k|~T))+F[11]+3174756917&4294967295,L=k+(D<<10&4294967295|D>>>22),D=T+(k^(L|~C))+F[2]+718787259&4294967295,T=L+(D<<15&4294967295|D>>>17),D=C+(L^(T|~k))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,k){k===void 0&&(k=I.length);const C=k-this.blockSize,F=this.C;let T=this.h,L=0;for(;L<k;){if(T==0)for(;L<=C;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<k;)if(F[T++]=I.charCodeAt(L++),T==this.blockSize){a(this,F),T=0;break}}else for(;L<k;)if(F[T++]=I[L++],T==this.blockSize){a(this,F),T=0;break}}this.h=T,this.o+=k},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;k=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=k&255,k/=256;for(this.v(I),I=Array(16),k=0,C=0;C<4;++C)for(let F=0;F<32;F+=8)I[k++]=this.g[C]>>>F&255;return I};function o(I,k){var C=c;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=k(I)}function u(I,k){this.h=k;const C=[];let F=!0;for(let T=I.length-1;T>=0;T--){const L=I[T]|0;F&&L==k||(C[T]=L,F=!1)}this.g=C}var c={};function f(I){return-128<=I&&I<128?o(I,function(k){return new u([k|0],k<0?-1:0)}):new u([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return j(d(-I));const k=[];let C=1;for(let F=0;I>=C;F++)k[F]=I/C|0,C*=4294967296;return new u(k,0)}function g(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return j(g(I.substring(1),k));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(k,8));let F=w;for(let L=0;L<I.length;L+=8){var T=Math.min(8,I.length-L);const D=parseInt(I.substring(L,L+T),k);T<8?(T=d(Math.pow(k,T)),F=F.j(T).add(d(D))):(F=F.j(C),F=F.add(d(D)))}return F}var w=f(0),A=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(U(this))return-j(this).m();let I=0,k=1;for(let C=0;C<this.g.length;C++){const F=this.i(C);I+=(F>=0?F:4294967296+F)*k,k*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(U(this))return"-"+j(this).toString(I);const k=d(Math.pow(I,6));var C=this;let F="";for(;;){const T=X(C,k).g;C=B(C,T.j(k));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=T,M(C))return L+F;for(;L.length<6;)L="0"+L;F=L+F}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function U(I){return I.h==-1}n.l=function(I){return I=B(this,I),U(I)?-1:M(I)?0:1};function j(I){const k=I.g.length,C=[];for(let F=0;F<k;F++)C[F]=~I.g[F];return new u(C,~I.h).add(A)}n.abs=function(){return U(this)?j(this):this},n.add=function(I){const k=Math.max(this.g.length,I.g.length),C=[];let F=0;for(let T=0;T<=k;T++){let L=F+(this.i(T)&65535)+(I.i(T)&65535),D=(L>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);F=D>>>16,L&=65535,D&=65535,C[T]=D<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(I,k){return I.add(j(k))}n.j=function(I){if(M(this)||M(I))return w;if(U(this))return U(I)?j(this).j(j(I)):j(j(this).j(I));if(U(I))return j(this.j(j(I)));if(this.l(b)<0&&I.l(b)<0)return d(this.m()*I.m());const k=this.g.length+I.g.length,C=[];for(var F=0;F<2*k;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(let T=0;T<I.g.length;T++){const L=this.i(F)>>>16,D=this.i(F)&65535,ne=I.i(T)>>>16,Ee=I.i(T)&65535;C[2*F+2*T]+=D*Ee,K(C,2*F+2*T),C[2*F+2*T+1]+=L*Ee,K(C,2*F+2*T+1),C[2*F+2*T+1]+=D*ne,K(C,2*F+2*T+1),C[2*F+2*T+2]+=L*ne,K(C,2*F+2*T+2)}for(I=0;I<k;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=k;I<2*k;I++)C[I]=0;return new u(C,0)};function K(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function G(I,k){this.g=I,this.h=k}function X(I,k){if(M(k))throw Error("division by zero");if(M(I))return new G(w,w);if(U(I))return k=X(j(I),k),new G(j(k.g),j(k.h));if(U(k))return k=X(I,j(k)),new G(j(k.g),k.h);if(I.g.length>30){if(U(I)||U(k))throw Error("slowDivide_ only works with positive integers.");for(var C=A,F=k;F.l(I)<=0;)C=me(C),F=me(F);var T=fe(C,1),L=fe(F,1);for(F=fe(F,2),C=fe(C,2);!M(F);){var D=L.add(F);D.l(I)<=0&&(T=T.add(C),L=D),F=fe(F,1),C=fe(C,1)}return k=B(I,T.j(k)),new G(T,k)}for(T=w;I.l(k)>=0;){for(C=Math.max(1,Math.floor(I.m()/k.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),L=d(C),D=L.j(k);U(D)||D.l(I)>0;)C-=F,L=d(C),D=L.j(k);M(L)&&(L=A),T=T.add(L),I=B(I,D)}return new G(T,I)}n.B=function(I){return X(this,I).h},n.and=function(I){const k=Math.max(this.g.length,I.g.length),C=[];for(let F=0;F<k;F++)C[F]=this.i(F)&I.i(F);return new u(C,this.h&I.h)},n.or=function(I){const k=Math.max(this.g.length,I.g.length),C=[];for(let F=0;F<k;F++)C[F]=this.i(F)|I.i(F);return new u(C,this.h|I.h)},n.xor=function(I){const k=Math.max(this.g.length,I.g.length),C=[];for(let F=0;F<k;F++)C[F]=this.i(F)^I.i(F);return new u(C,this.h^I.h)};function me(I){const k=I.g.length+1,C=[];for(let F=0;F<k;F++)C[F]=I.i(F)<<1|I.i(F-1)>>>31;return new u(C,I.h)}function fe(I,k){const C=k>>5;k%=32;const F=I.g.length-C,T=[];for(let L=0;L<F;L++)T[L]=k>0?I.i(L+C)>>>k|I.i(L+C+1)<<32-k:I.i(L+C);return new u(T,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,zu=u}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z3,dd,eA,Ep,w2,tA,nA,rA;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var N=0;N<p.length;++N){var O=p[N];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function a(p,N){if(N)e:{var O=r;p=p.split(".");for(var J=0;J<p.length-1;J++){var Ie=p[J];if(!(Ie in O))break e;O=O[Ie]}p=p[p.length-1],J=O[p],N=N(J),N!=J&&N!=null&&e(O,p,{configurable:!0,writable:!0,value:N})}}a("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(p){return p||function(N){var O=[],J;for(J in N)Object.prototype.hasOwnProperty.call(N,J)&&O.push([J,N[J]]);return O}});var o=o||{},u=this||self;function c(p){var N=typeof p;return N=="object"&&p!=null||N=="function"}function f(p,N,O){return p.call.apply(p.bind,arguments)}function d(p,N,O){return d=f,d.apply(null,arguments)}function g(p,N){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),p.apply(this,J)}}function w(p,N){function O(){}O.prototype=N.prototype,p.Z=N.prototype,p.prototype=new O,p.prototype.constructor=p,p.Ob=function(J,Ie,Ue){for(var st=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)st[fn-2]=arguments[fn];return N.prototype[Ie].apply(J,st)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function b(p){const N=p.length;if(N>0){const O=Array(N);for(let J=0;J<N;J++)O[J]=p[J];return O}return[]}function M(p,N){for(let J=1;J<arguments.length;J++){const Ie=arguments[J];var O=typeof Ie;if(O=O!="object"?O:Ie?Array.isArray(Ie)?"array":O:"null",O=="array"||O=="object"&&typeof Ie.length=="number"){O=p.length||0;const Ue=Ie.length||0;p.length=O+Ue;for(let st=0;st<Ue;st++)p[O+st]=Ie[st]}else p.push(Ie)}}class U{constructor(N,O){this.i=N,this.j=O,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function j(p){u.setTimeout(()=>{throw p},0)}function B(){var p=I;let N=null;return p.g&&(N=p.g,p.g=p.g.next,p.g||(p.h=null),N.next=null),N}class K{constructor(){this.h=this.g=null}add(N,O){const J=G.get();J.set(N,O),this.h?this.h.next=J:this.g=J,this.h=J}}var G=new U(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(N,O){this.h=N,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let me,fe=!1,I=new K,k=()=>{const p=Promise.resolve(void 0);me=()=>{p.then(C)}};function C(){for(var p;p=B();){try{p.h.call(p.g)}catch(O){j(O)}var N=G;N.j(p),N.h<100&&(N.h++,p.next=N.g,N.g=p)}fe=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(p,N){this.type=p,this.g=this.target=N,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,N=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};u.addEventListener("test",O,N),u.removeEventListener("test",O,N)}catch{}return p})();function D(p){return/^[\s\xa0]*$/.test(p)}function ne(p,N){T.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,N)}w(ne,T),ne.prototype.init=function(p,N){const O=this.type=p.type,J=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=N,N=p.relatedTarget,N||(O=="mouseover"?N=p.fromElement:O=="mouseout"&&(N=p.toElement)),this.relatedTarget=N,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),ie=0;function ve(p,N,O,J,Ie){this.listener=p,this.proxy=null,this.src=N,this.type=O,this.capture=!!J,this.ha=Ie,this.key=++ie,this.da=this.fa=!1}function ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function xe(p,N,O){for(const J in p)N.call(O,p[J],J,p)}function Fe(p,N){for(const O in p)N.call(void 0,p[O],O,p)}function Z(p){const N={};for(const O in p)N[O]=p[O];return N}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(p,N){let O,J;for(let Ie=1;Ie<arguments.length;Ie++){J=arguments[Ie];for(O in J)p[O]=J[O];for(let Ue=0;Ue<V.length;Ue++)O=V[Ue],Object.prototype.hasOwnProperty.call(J,O)&&(p[O]=J[O])}}function ee(p){this.src=p,this.g={},this.h=0}ee.prototype.add=function(p,N,O,J,Ie){const Ue=p.toString();p=this.g[Ue],p||(p=this.g[Ue]=[],this.h++);const st=he(p,N,J,Ie);return st>-1?(N=p[st],O||(N.fa=!1)):(N=new ve(N,this.src,Ue,!!J,Ie),N.fa=O,p.push(N)),N};function le(p,N){const O=N.type;if(O in p.g){var J=p.g[O],Ie=Array.prototype.indexOf.call(J,N,void 0),Ue;(Ue=Ie>=0)&&Array.prototype.splice.call(J,Ie,1),Ue&&(ue(N),p.g[O].length==0&&(delete p.g[O],p.h--))}}function he(p,N,O,J){for(let Ie=0;Ie<p.length;++Ie){const Ue=p[Ie];if(!Ue.da&&Ue.listener==N&&Ue.capture==!!O&&Ue.ha==J)return Ie}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Re={};function pe(p,N,O,J,Ie){if(Array.isArray(N)){for(let Ue=0;Ue<N.length;Ue++)pe(p,N[Ue],O,J,Ie);return null}return O=wt(O),p&&p[Ee]?p.J(N,O,c(J)?!!J.capture:!1,Ie):Pe(p,N,O,!1,J,Ie)}function Pe(p,N,O,J,Ie,Ue){if(!N)throw Error("Invalid event type");const st=c(Ie)?!!Ie.capture:!!Ie;let fn=at(p);if(fn||(p[be]=fn=new ee(p)),O=fn.add(N,O,J,st,Ue),O.proxy)return O;if(J=Ke(),O.proxy=J,J.src=p,J.listener=O,p.addEventListener)L||(Ie=st),Ie===void 0&&(Ie=!1),p.addEventListener(N.toString(),J,Ie);else if(p.attachEvent)p.attachEvent(dt(N.toString()),J);else if(p.addListener&&p.removeListener)p.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ke(){function p(O){return N.call(p.src,p.listener,O)}const N=re;return p}function $e(p,N,O,J,Ie){if(Array.isArray(N))for(var Ue=0;Ue<N.length;Ue++)$e(p,N[Ue],O,J,Ie);else J=c(J)?!!J.capture:!!J,O=wt(O),p&&p[Ee]?(p=p.i,Ue=String(N).toString(),Ue in p.g&&(N=p.g[Ue],O=he(N,O,J,Ie),O>-1&&(ue(N[O]),Array.prototype.splice.call(N,O,1),N.length==0&&(delete p.g[Ue],p.h--)))):p&&(p=at(p))&&(N=p.g[N.toString()],p=-1,N&&(p=he(N,O,J,Ie)),(O=p>-1?N[p]:null)&&it(O))}function it(p){if(typeof p!="number"&&p&&!p.da){var N=p.src;if(N&&N[Ee])le(N.i,p);else{var O=p.type,J=p.proxy;N.removeEventListener?N.removeEventListener(O,J,p.capture):N.detachEvent?N.detachEvent(dt(O),J):N.addListener&&N.removeListener&&N.removeListener(J),(O=at(N))?(le(O,p),O.h==0&&(O.src=null,N[be]=null)):ue(p)}}}function dt(p){return p in Re?Re[p]:Re[p]="on"+p}function re(p,N){if(p.da)p=!0;else{N=new ne(N,this);const O=p.listener,J=p.ha||p.src;p.fa&&it(p),p=O.call(J,N)}return p}function at(p){return p=p[be],p instanceof ee?p:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function wt(p){return typeof p=="function"?p:(p[en]||(p[en]=function(N){return p.handleEvent(N)}),p[en])}function Be(){F.call(this),this.i=new ee(this),this.M=this,this.G=null}w(Be,F),Be.prototype[Ee]=!0,Be.prototype.removeEventListener=function(p,N,O,J){$e(this,p,N,O,J)};function ht(p,N){var O,J=p.G;if(J)for(O=[];J;J=J.G)O.push(J);if(p=p.M,J=N.type||N,typeof N=="string")N=new T(N,p);else if(N instanceof T)N.target=N.target||p;else{var Ie=N;N=new T(J,p),W(N,Ie)}Ie=!0;let Ue,st;if(O)for(st=O.length-1;st>=0;st--)Ue=N.g=O[st],Ie=ft(Ue,J,!0,N)&&Ie;if(Ue=N.g=p,Ie=ft(Ue,J,!0,N)&&Ie,Ie=ft(Ue,J,!1,N)&&Ie,O)for(st=0;st<O.length;st++)Ue=N.g=O[st],Ie=ft(Ue,J,!1,N)&&Ie}Be.prototype.N=function(){if(Be.Z.N.call(this),this.i){var p=this.i;for(const N in p.g){const O=p.g[N];for(let J=0;J<O.length;J++)ue(O[J]);delete p.g[N],p.h--}}this.G=null},Be.prototype.J=function(p,N,O,J){return this.i.add(String(p),N,!1,O,J)},Be.prototype.K=function(p,N,O,J){return this.i.add(String(p),N,!0,O,J)};function ft(p,N,O,J){if(N=p.i.g[String(N)],!N)return!0;N=N.concat();let Ie=!0;for(let Ue=0;Ue<N.length;++Ue){const st=N[Ue];if(st&&!st.da&&st.capture==O){const fn=st.listener,wr=st.ha||st.src;st.fa&&le(p.i,st),Ie=fn.call(wr,J)!==!1&&Ie}}return Ie&&!J.defaultPrevented}function Rt(p,N){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:u.setTimeout(p,N||0)}function Tt(p){p.g=Rt(()=>{p.g=null,p.i&&(p.i=!1,Tt(p))},p.l);const N=p.h;p.h=null,p.m.apply(null,N)}class Ht extends F{constructor(N,O){super(),this.m=N,this.l=O,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(p){F.call(this),this.h=p,this.g={}}w(tn,F);var Kt=[];function sn(p){xe(p.g,function(N,O){this.g.hasOwnProperty(O)&&it(N)},p),p.g={}}tn.prototype.N=function(){tn.Z.N.call(this),sn(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=u.JSON.stringify,gt=u.JSON.parse,an=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function It(){}function ur(){}var dn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){T.call(this,"d")}w(St,T);function $t(){T.call(this,"c")}w($t,T);var on={},Ut=null;function Fn(){return Ut=Ut||new Be}on.Ia="serverreachability";function Gt(p){T.call(this,on.Ia,p)}w(Gt,T);function jt(p){const N=Fn();ht(N,new Gt(N))}on.STAT_EVENT="statevent";function zn(p,N){T.call(this,on.STAT_EVENT,p),this.stat=N}w(zn,T);function Dt(p){const N=Fn();ht(N,new zn(N,p))}on.Ja="timingevent";function Mt(p,N){T.call(this,on.Ja,p),this.size=N}w(Mt,T);function vn(p,N){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},N)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function $r(p,N,O,J,Ie,Ue){p.info(function(){if(p.g)if(Ue){var st="",fn=Ue.split("&");for(let xn=0;xn<fn.length;xn++){var wr=fn[xn].split("=");if(wr.length>1){const nr=wr[0];wr=wr[1];const Ni=nr.split("_");st=Ni.length>=2&&Ni[1]=="type"?st+(nr+"="+wr+"&"):st+(nr+"=redacted&")}}}else st=null;else st=Ue;return"XMLHTTP REQ ("+J+") [attempt "+Ie+"]: "+N+`
`+O+`
`+st})}function ki(p,N,O,J,Ie,Ue,st){p.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ie+"]: "+N+`
`+O+`
`+Ue+" "+st})}function Pr(p,N,O,J){p.info(function(){return"XMLHTTP TEXT ("+N+"): "+ka(p,O)+(J?" "+J:"")})}function Vt(p,N){p.info(function(){return"TIMEOUT: "+N})}fi.prototype.info=function(){};function ka(p,N){if(!p.g)return N;if(!N)return null;try{const Ue=JSON.parse(N);if(Ue){for(p=0;p<Ue.length;p++)if(Array.isArray(Ue[p])){var O=Ue[p];if(!(O.length<2)){var J=O[1];if(Array.isArray(J)&&!(J.length<1)){var Ie=J[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(let st=1;st<J.length;st++)J[st]=""}}}}return Ft(Ue)}catch{return N}}var Pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Se;function Ce(){}w(Ce,It),Ce.prototype.g=function(){return new XMLHttpRequest},Se=new Ce;function Ye(p){return encodeURIComponent(String(p))}function nt(p){var N=1;p=p.split(":");const O=[];for(;N>0&&p.length;)O.push(p.shift()),N--;return p.length&&O.push(p.join(":")),O}function mt(p,N,O,J){this.j=p,this.i=N,this.l=O,this.S=J||1,this.V=new tn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var ot={},lt={};function pt(p,N,O){p.M=1,p.A=Rs(er(N)),p.u=O,p.R=!0,Nt(p,null)}function Nt(p,N){p.F=Date.now(),Mn(p),p.B=er(p.A);var O=p.B,J=p.S;Array.isArray(J)||(J=[String(J)]),Co(O.i,"t",J),p.C=0,O=p.j.L,p.h=new ut,p.g=Et(p.j,O?N:null,!p.u),p.P>0&&(p.O=new Ht(d(p.Y,p,p.g),p.P)),N=p.V,O=p.g,J=p.ba;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Kt[0]=Ie.toString()),Ie=Kt);for(let Ue=0;Ue<Ie.length;Ue++){const st=pe(O,Ie[Ue],J||N.handleEvent,!1,N.h||N);if(!st)break;N.g[st.key]=st}N=p.J?Z(p.J):{},p.u?(p.v||(p.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,N)):(p.v="GET",p.g.ea(p.B,p.v,null,N)),jt(),$r(p.i,p.v,p.B,p.l,p.S,p.u)}mt.prototype.ba=function(p){p=p.target;const N=this.O;N&&la(p)==3?N.j():this.Y(p)},mt.prototype.Y=function(p){try{if(p==this.g)e:{const fn=la(this.g),wr=this.g.ya(),xn=this.g.ca();if(!(fn<3)&&(fn!=3||this.g&&(this.h.h||this.g.la()||Xr(this.g)))){this.K||fn!=4||wr==7||(wr==8||xn<=0?jt(3):jt(2)),Qn(this);var N=this.g.ca();this.X=N;var O=yt(this);if(this.o=N==200,ki(this.i,this.v,this.B,this.l,this.S,fn,N),this.o){if(this.U&&!this.L){t:{if(this.g){var J,Ie=this.g;if((J=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(J)){var Ue=J;break t}}Ue=null}if(p=Ue)Pr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zr(this,p);else{this.o=!1,this.m=3,Dt(12),cr(this),hn(this);break e}}if(this.R){p=!0;let nr;for(;!this.K&&this.C<O.length;)if(nr=cn(this,O),nr==lt){fn==4&&(this.m=4,Dt(14),p=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==ot){this.m=4,Dt(15),Pr(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else Pr(this.i,this.l,nr,null),zr(this,nr);if(gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||O.length!=0||this.h.h||(this.m=1,Dt(16),p=!1),this.o=this.o&&p,!p)Pr(this.i,this.l,O,"[Invalid Chunked Response]"),cr(this),hn(this);else if(O.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),ko(st),st.P=!0,Dt(11))}}else Pr(this.i,this.l,O,null),zr(this,O);fn==4&&cr(this),this.o&&!this.K&&(fn==4?se(this.j,this):(this.o=!1,Mn(this)))}else Ha(this.g),N==400&&O.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),cr(this),hn(this)}}}catch{}};function yt(p){if(!gn(p))return p.g.la();const N=Xr(p.g);if(N==="")return"";let O="";const J=N.length,Ie=la(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return cr(p),hn(p),"";p.h.i=new u.TextDecoder}for(let Ue=0;Ue<J;Ue++)p.h.h=!0,O+=p.h.i.decode(N[Ue],{stream:!(Ie&&Ue==J-1)});return N.length=0,p.h.g+=O,p.C=0,p.h.g}function gn(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function cn(p,N){var O=p.C,J=N.indexOf(`
`,O);return J==-1?lt:(O=Number(N.substring(O,J)),isNaN(O)?ot:(J+=1,J+O>N.length?lt:(N=N.slice(J,J+O),p.C=J+O,N)))}mt.prototype.cancel=function(){this.K=!0,cr(this)};function Mn(p){p.T=Date.now()+p.H,Zn(p,p.H)}function Zn(p,N){if(p.D!=null)throw Error("WatchDog timer not null");p.D=vn(d(p.aa,p),N)}function Qn(p){p.D&&(u.clearTimeout(p.D),p.D=null)}mt.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Vt(this.i,this.B),this.M!=2&&(jt(),Dt(17)),cr(this),this.m=2,hn(this)):Zn(this,this.T-p)};function hn(p){p.j.I==0||p.K||se(p.j,p)}function cr(p){Qn(p);var N=p.O;N&&typeof N.dispose=="function"&&N.dispose(),p.O=null,sn(p.V),p.g&&(N=p.g,p.g=null,N.abort(),N.dispose())}function zr(p,N){try{var O=p.j;if(O.I!=0&&(O.g==p||di(O.h,p))){if(!p.L&&di(O.h,p)&&O.I==3){try{var J=O.Ba.g.parse(N)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ie=J;if(Ie[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<p.F)z(O),Ka(O);else break e;Ua(O),Dt(18)}}else O.xa=Ie[1],0<O.xa-O.K&&Ie[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=vn(d(O.Va,O),6e3));Ai(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ne(O,11)}else if((p.L||O.g==p)&&z(O),!D(N))for(Ie=O.Ba.g.parse(N),N=0;N<Ie.length;N++){let xn=Ie[N];const nr=xn[0];if(!(nr<=O.K))if(O.K=nr,xn=xn[1],O.I==2)if(xn[0]=="c"){O.M=xn[1],O.ba=xn[2];const Ni=xn[3];Ni!=null&&(O.ka=Ni,O.j.info("VER="+O.ka));const Vi=xn[4];Vi!=null&&(O.za=Vi,O.j.info("SVER="+O.za));const mr=xn[5];mr!=null&&typeof mr=="number"&&mr>0&&(J=1.5*mr,O.O=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const Bi=p.g;if(Bi){const Va=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var Ue=J.h;Ue.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(Ue.j=Ue.l,Ue.g=new Set,Ue.h&&(Mi(Ue,Ue.h),Ue.h=null))}if(J.G){const Ds=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(J.wa=Ds,Rn(J.J,J.G,Ds))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-p.F,O.j.info("Handshake RTT: "+O.T+"ms")),J=O;var st=p;if(J.na=et(J,J.L?J.ba:null,J.W),st.L){Pa(J.h,st);var fn=st,wr=J.O;wr&&(fn.H=wr),fn.D&&(Qn(fn),Mn(fn)),J.g=st}else ml(J);O.i.length>0&&ba(O)}else xn[0]!="stop"&&xn[0]!="close"||Ne(O,7);else O.I==3&&(xn[0]=="stop"||xn[0]=="close"?xn[0]=="stop"?Ne(O,7):Ps(O):xn[0]!="noop"&&O.l&&O.l.qa(xn),O.A=0)}}jt(4)}catch{}}var ar=class{constructor(p,N){this.g=p,this.map=N}};function Di(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ai(p){return p.h?1:p.g?p.g.size:0}function di(p,N){return p.h?p.h==N:p.g?p.g.has(N):!1}function Mi(p,N){p.g?p.g.add(N):p.h=N}function Pa(p,N){p.h&&p.h==N?p.h=null:p.g&&p.g.has(N)&&p.g.delete(N)}Di.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Da(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let N=p.i;for(const O of p.g.values())N=N.concat(O.G);return N}return b(p.i)}var An=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gn(p,N){if(p){p=p.split("&");for(let O=0;O<p.length;O++){const J=p[O].indexOf("=");let Ie,Ue=null;J>=0?(Ie=p[O].substring(0,J),Ue=p[O].substring(J+1)):Ie=p[O],N(Ie,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}function Tr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;p instanceof Tr?(this.l=p.l,Ot(this,p.j),this.o=p.o,this.g=p.g,Wi(this,p.u),this.h=p.h,Oi(this,Ro(p.i)),this.m=p.m):p&&(N=String(p).match(An))?(this.l=!1,Ot(this,N[1]||"",!0),this.o=Qr(N[2]||""),this.g=Qr(N[3]||"",!0),Wi(this,N[4]),this.h=Qr(N[5]||"",!0),Oi(this,N[6]||"",!0),this.m=Qr(N[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}Tr.prototype.toString=function(){const p=[];var N=this.j;N&&p.push(Cr(N,Zs,!0),":");var O=this.g;return(O||N=="file")&&(p.push("//"),(N=this.o)&&p.push(Cr(N,Zs,!0),"@"),p.push(Ye(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&p.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(Cr(O,O.charAt(0)=="/"?ul:Xl,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",Cr(O,cl)),p.join("")},Tr.prototype.resolve=function(p){const N=er(this);let O=!!p.j;O?Ot(N,p.j):O=!!p.o,O?N.o=p.o:O=!!p.g,O?N.g=p.g:O=p.u!=null;var J=p.h;if(O)Wi(N,p.u);else if(O=!!p.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var Ie=N.h.lastIndexOf("/");Ie!=-1&&(J=N.h.slice(0,Ie+1)+J)}if(Ie=J,Ie==".."||Ie==".")J="";else if(Ie.indexOf("./")!=-1||Ie.indexOf("/.")!=-1){J=Ie.lastIndexOf("/",0)==0,Ie=Ie.split("/");const Ue=[];for(let st=0;st<Ie.length;){const fn=Ie[st++];fn=="."?J&&st==Ie.length&&Ue.push(""):fn==".."?((Ue.length>1||Ue.length==1&&Ue[0]!="")&&Ue.pop(),J&&st==Ie.length&&Ue.push("")):(Ue.push(fn),J=!0)}J=Ue.join("/")}else J=Ie}return O?N.h=J:O=p.i.toString()!=="",O?Oi(N,Ro(p.i)):O=!!p.m,O&&(N.m=p.m),N};function er(p){return new Tr(p)}function Ot(p,N,O){p.j=O?Qr(N,!0):N,p.j&&(p.j=p.j.replace(/:$/,""))}function Wi(p,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);p.u=N}else p.u=null}function Oi(p,N,O){N instanceof ds?(p.i=N,$i(p.i,p.l)):(O||(N=Cr(N,Ui)),p.i=new ds(N,p.l))}function Rn(p,N,O){p.i.set(N,O)}function Rs(p){return Rn(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Qr(p,N){return p?N?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Cr(p,N,O){return typeof p=="string"?(p=encodeURI(p).replace(N,qr),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function qr(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Zs=/[#\/\?@]/g,Xl=/[#\?:]/g,ul=/[#\?]/g,Ui=/[#\?@]/g,cl=/#/g;function ds(p,N){this.h=this.g=null,this.i=p||null,this.j=!!N}function mi(p){p.g||(p.g=new Map,p.h=0,p.i&&Gn(p.i,function(N,O){p.add(decodeURIComponent(N.replace(/\+/g," ")),O)}))}n=ds.prototype,n.add=function(p,N){mi(this),this.i=null,p=ms(this,p);let O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(N),this.h+=1,this};function Is(p,N){mi(p),N=ms(p,N),p.g.has(N)&&(p.i=null,p.h-=p.g.get(N).length,p.g.delete(N))}function hl(p,N){return mi(p),N=ms(p,N),p.g.has(N)}n.forEach=function(p,N){mi(this),this.g.forEach(function(O,J){O.forEach(function(Ie){p.call(N,Ie,J,this)},this)},this)};function fl(p,N){mi(p);let O=[];if(typeof N=="string")hl(p,N)&&(O=O.concat(p.g.get(ms(p,N))));else for(p=Array.from(p.g.values()),N=0;N<p.length;N++)O=O.concat(p[N]);return O}n.set=function(p,N){return mi(this),this.i=null,p=ms(this,p),hl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[N]),this.h+=1,this},n.get=function(p,N){return p?(p=fl(this,p),p.length>0?String(p[0]):N):N};function Co(p,N,O){Is(p,N),O.length>0&&(p.i=null,p.g.set(ms(p,N),b(O)),p.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],N=Array.from(this.g.keys());for(let J=0;J<N.length;J++){var O=N[J];const Ie=Ye(O);O=fl(this,O);for(let Ue=0;Ue<O.length;Ue++){let st=Ie;O[Ue]!==""&&(st+="="+Ye(O[Ue])),p.push(st)}}return this.i=p.join("&")};function Ro(p){const N=new ds;return N.i=p.i,p.g&&(N.g=new Map(p.g),N.h=p.h),N}function ms(p,N){return N=String(N),p.j&&(N=N.toLowerCase()),N}function $i(p,N){N&&!p.j&&(mi(p),p.i=null,p.g.forEach(function(O,J){const Ie=J.toLowerCase();J!=Ie&&(Is(this,J),Co(this,Ie,O))},p)),p.j=N}function Ma(p,N){const O=new fi;if(u.Image){const J=new Image;J.onload=g(Qi,O,"TestLoadImage: loaded",!0,N,J),J.onerror=g(Qi,O,"TestLoadImage: error",!1,N,J),J.onabort=g(Qi,O,"TestLoadImage: abort",!1,N,J),J.ontimeout=g(Qi,O,"TestLoadImage: timeout",!1,N,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=p}else N(!1)}function ps(p,N){const O=new fi,J=new AbortController,Ie=setTimeout(()=>{J.abort(),Qi(O,"TestPingServer: timeout",!1,N)},1e4);fetch(p,{signal:J.signal}).then(Ue=>{clearTimeout(Ie),Ue.ok?Qi(O,"TestPingServer: ok",!0,N):Qi(O,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(Ie),Qi(O,"TestPingServer: error",!1,N)})}function Qi(p,N,O,J,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),J(O)}catch{}}function Ls(){this.g=new an}function Yt(p){this.i=p.Sb||null,this.h=p.ab||!1}w(Yt,It),Yt.prototype.g=function(){return new eo(this.i,this.h)};function eo(p,N){Be.call(this),this.H=p,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(eo,Be),n=eo.prototype,n.open=function(p,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=N,this.readyState=1,pi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(N.body=p),(this.H||u).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Io(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Io(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var N=p.value?p.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!p.done}))&&(this.response=this.responseText+=N)}p.done?ks(this):pi(this),this.readyState==3&&Io(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,ks(this))},n.Na=function(p){this.g&&(this.response=p,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(p){p.readyState=4,p.l=null,p.j=null,p.B=null,pi(p)}n.setRequestHeader=function(p,N){this.A.append(p,N)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],N=this.h.entries();for(var O=N.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=N.next();return p.join(`\r
`)};function pi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ri(p){let N="";return xe(p,function(O,J){N+=J,N+=":",N+=O,N+=`\r
`}),N}function to(p,N,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=ri(O),typeof p=="string"?O!=null&&Ye(O):Rn(p,N,O))}function tr(p){Be.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(tr,Be);var sa=/^https?$/i,no=["POST","PUT"];n=tr.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,N,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);N=N?N.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Se.g(),this.g.onreadystatechange=A(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(p),!0),this.B=!1}catch(Ue){Oa(this,Ue);return}if(p=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ie in J)O.set(Ie,J[Ie]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ue of J.keys())O.set(Ue,J.get(Ue));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(Ue=>Ue.toLowerCase()=="content-type"),Ie=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(no,N,void 0)>=0)||J||Ie||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ue,st]of O)this.g.setRequestHeader(Ue,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Ue){Oa(this,Ue)}};function Oa(p,N){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=N,p.o=5,dl(p),gs(p)}function dl(p){p.A||(p.A=!0,ht(p,"complete"),ht(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ht(this,"complete"),ht(this,"abort"),gs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),tr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},n.Xa=function(){oa(this)};function oa(p){if(p.h&&typeof o<"u"){if(p.v&&la(p)==4)setTimeout(p.Ca.bind(p),0);else if(ht(p,"readystatechange"),la(p)==4){p.h=!1;try{const Ue=p.ca();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var O;if(!(O=N)){var J;if(J=Ue===0){let st=String(p.D).match(An)[1]||null;!st&&u.self&&u.self.location&&(st=u.self.location.protocol.slice(0,-1)),J=!sa.test(st?st.toLowerCase():"")}O=J}if(O)ht(p,"complete"),ht(p,"success");else{p.o=6;try{var Ie=la(p)>2?p.g.statusText:""}catch{Ie=""}p.l=Ie+" ["+p.ca()+"]",dl(p)}}finally{gs(p)}}}}function gs(p,N){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const O=p.g;p.g=null,N||ht(p,"ready");try{O.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function la(p){return p.g?p.g.readyState:0}n.ca=function(){try{return la(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var N=this.g.responseText;return p&&N.indexOf(p)==0&&(N=N.substring(p.length)),gt(N)}};function Xr(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(p){const N={};p=(p.g&&la(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<p.length;J++){if(D(p[J]))continue;var O=nt(p[J]);const Ie=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Ue=N[Ie]||[];N[Ie]=Ue,Ue.push(O)}Fe(N,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(p,N,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||N}function Ga(p){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,p),this.Za=Si("retryDelaySeedMs",1e4,p),this.Ta=Si("forwardChannelMaxRetries",2,p),this.va=Si("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Di(p&&p.concurrentRequestLimit),this.Ba=new Ls,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ga.prototype,n.ka=8,n.I=1,n.connect=function(p,N,O,J){Dt(0),this.W=p,this.H=N||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.J=et(this,null,this.W),ba(this)};function Ps(p){if(Ya(p),p.I==3){var N=p.V++,O=er(p.J);if(Rn(O,"SID",p.M),Rn(O,"RID",N),Rn(O,"TYPE","terminate"),ua(p,O),N=new mt(p,p.j,N),N.M=2,N.A=Rs(er(O)),O=!1,u.navigator&&u.navigator.sendBeacon)try{O=u.navigator.sendBeacon(N.A.toString(),"")}catch{}!O&&u.Image&&(new Image().src=N.A,O=!0),O||(N.g=Et(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Mn(N)}He(p)}function Ka(p){p.g&&(ko(p),p.g.cancel(),p.g=null)}function Ya(p){Ka(p),p.v&&(u.clearTimeout(p.v),p.v=null),z(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function ba(p){if(!dr(p.h)&&!p.m){p.m=!0;var N=p.Ea;me||k(),fe||(me(),fe=!0),I.add(N,p),p.D=0}}function ro(p,N){return Ai(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=N.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=vn(d(p.Ea,p,N),ge(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Ie=new mt(this,this.j,p);let Ue=this.o;if(this.U&&(Ue?(Ue=Z(Ue),W(Ue,this.U)):Ue=this.U),this.u!==null||this.R||(Ie.J=Ue,Ue=null),this.S)e:{for(var N=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(N+=J,N>4096){N=O;break e}if(N===4096||O===this.i.length-1){N=O+1;break e}}N=1e3}else N=1e3;N=Wa(this,Ie,N),O=er(this.J),Rn(O,"RID",p),Rn(O,"CVER",22),this.G&&Rn(O,"X-HTTP-Session-Id",this.G),ua(this,O),Ue&&(this.R?N="headers="+Ye(ri(Ue))+"&"+N:this.u&&to(O,this.u,Ue)),Mi(this.h,Ie),this.Ra&&Rn(O,"TYPE","init"),this.S?(Rn(O,"$req",N),Rn(O,"SID","null"),Ie.U=!0,pt(Ie,O,null)):pt(Ie,O,N),this.I=2}}else this.I==3&&(p?Lo(this,p):this.i.length==0||dr(this.h)||Lo(this))};function Lo(p,N){var O;N?O=N.l:O=p.V++;const J=er(p.J);Rn(J,"SID",p.M),Rn(J,"RID",O),Rn(J,"AID",p.K),ua(p,J),p.u&&p.o&&to(J,p.u,p.o),O=new mt(p,p.j,O,p.D+1),p.u===null&&(O.J=p.o),N&&(p.i=N.G.concat(p.i)),N=Wa(p,O,1e3),O.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Mi(p.h,O),pt(O,J,N)}function ua(p,N){p.H&&xe(p.H,function(O,J){Rn(N,J,O)}),p.l&&xe({},function(O,J){Rn(N,J,O)})}function Wa(p,N,O){O=Math.min(p.i.length,O);const J=p.l?d(p.l.Ka,p.l,p):null;e:{var Ie=p.i;let fn=-1;for(;;){const wr=["count="+O];fn==-1?O>0?(fn=Ie[0].g,wr.push("ofs="+fn)):fn=0:wr.push("ofs="+fn);let xn=!0;for(let nr=0;nr<O;nr++){var Ue=Ie[nr].g;const Ni=Ie[nr].map;if(Ue-=fn,Ue<0)fn=Math.max(0,Ie[nr].g-100),xn=!1;else try{Ue="req"+Ue+"_"||"";try{var st=Ni instanceof Map?Ni:Object.entries(Ni);for(const[Vi,mr]of st){let Bi=mr;c(mr)&&(Bi=Ft(mr)),wr.push(Ue+Vi+"="+encodeURIComponent(Bi))}}catch(Vi){throw wr.push(Ue+"type="+encodeURIComponent("_badmap")),Vi}}catch{J&&J(Ni)}}if(xn){st=wr.join("&");break e}}st=void 0}return p=p.i.splice(0,O),N.G=p,st}function ml(p){if(!p.g&&!p.v){p.Y=1;var N=p.Da;me||k(),fe||(me(),fe=!0),I.add(N,p),p.A=0}}function Ua(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=vn(d(p.Da,p),ge(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,E(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=vn(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Ka(this),E(this))};function ko(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function E(p){p.g=new mt(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var N=er(p.na);Rn(N,"RID","rpc"),Rn(N,"SID",p.M),Rn(N,"AID",p.K),Rn(N,"CI",p.F?"0":"1"),!p.F&&p.ia&&Rn(N,"TO",p.ia),Rn(N,"TYPE","xmlhttp"),ua(p,N),p.u&&p.o&&to(N,p.u,p.o),p.O&&(p.g.H=p.O);var O=p.g;p=p.ba,O.M=1,O.A=Rs(er(N)),O.u=null,O.R=!0,Nt(O,p)}n.Va=function(){this.C!=null&&(this.C=null,Ka(this),Ua(this),Dt(19))};function z(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function se(p,N){var O=null;if(p.g==N){z(p),ko(p),p.g=null;var J=2}else if(di(p.h,N))O=N.G,Pa(p.h,N),J=1;else return;if(p.I!=0){if(N.o)if(J==1){O=N.u?N.u.length:0,N=Date.now()-N.F;var Ie=p.D;J=Fn(),ht(J,new Mt(J,O)),ba(p)}else ml(p);else if(Ie=N.m,Ie==3||Ie==0&&N.X>0||!(J==1&&ro(p,N)||J==2&&Ua(p)))switch(O&&O.length>0&&(N=p.h,N.i=N.i.concat(O)),Ie){case 1:Ne(p,5);break;case 4:Ne(p,10);break;case 3:Ne(p,6);break;default:Ne(p,2)}}}function ge(p,N){let O=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(O*=2),O*N}function Ne(p,N){if(p.j.info("Error code "+N),N==2){var O=d(p.bb,p),J=p.Ua;const Ie=!J;J=new Tr(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ot(J,"https"),Rs(J),Ie?Ma(J.toString(),O):ps(J.toString(),O)}else Dt(2);p.I=0,p.l&&p.l.pa(N),He(p),Ya(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function He(p){if(p.I=0,p.ja=[],p.l){const N=Da(p.h);(N.length!=0||p.i.length!=0)&&(M(p.ja,N),M(p.ja,p.i),p.h.i.length=0,b(p.i),p.i.length=0),p.l.oa()}}function et(p,N,O){var J=O instanceof Tr?er(O):new Tr(O);if(J.g!="")N&&(J.g=N+"."+J.g),Wi(J,J.u);else{var Ie=u.location;J=Ie.protocol,N=N?N+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;const Ue=new Tr(null);J&&Ot(Ue,J),N&&(Ue.g=N),Ie&&Wi(Ue,Ie),O&&(Ue.h=O),J=Ue}return O=p.G,N=p.wa,O&&N&&Rn(J,O,N),Rn(J,"VER",p.ka),ua(p,J),J}function Et(p,N,O){if(N&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=p.Aa&&!p.ma?new tr(new Yt({ab:O})):new tr(p.ma),N.Fa(p.L),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lt(){}n=Lt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qt(){}Qt.prototype.g=function(p,N){return new zt(p,N)};function zt(p,N){Be.call(this),this.g=new Ga(N),this.l=p,this.h=N&&N.messageUrlParams||null,p=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(p?p["X-WebChannel-Content-Type"]=N.messageContentType:p={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(p?p["X-WebChannel-Client-Profile"]=N.sa:p={"X-WebChannel-Client-Profile":N.sa}),this.g.U=p,(p=N&&N.Qb)&&!D(p)&&(this.g.u=p),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!D(N)&&(this.g.G=N,p=this.h,p!==null&&N in p&&(p=this.h,N in p&&delete p[N])),this.j=new hr(this)}w(zt,Be),zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Ps(this.g)},zt.prototype.o=function(p){var N=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.v&&(O={},O.__data__=Ft(p),p=O);N.i.push(new ar(N.Ya++,p)),N.I==3&&ba(N)},zt.prototype.N=function(){this.g.l=null,delete this.j,Ps(this.g),delete this.g,zt.Z.N.call(this)};function In(p){St.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var N=p.__sm__;if(N){e:{for(const O in N){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,N=N!==null&&p in N?N[p]:void 0),this.data=N}else this.data=p}w(In,St);function _r(){$t.call(this),this.status=1}w(_r,$t);function hr(p){this.g=p}w(hr,Lt),hr.prototype.ra=function(){ht(this.g,"a")},hr.prototype.qa=function(p){ht(this.g,new In(p))},hr.prototype.pa=function(p){ht(this.g,new _r)},hr.prototype.oa=function(){ht(this.g,"b")},Qt.prototype.createWebChannel=Qt.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,rA=function(){return new Qt},nA=function(){return Fn()},tA=on,w2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Ep=Pi,ce.COMPLETE="complete",eA=ce,ur.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Be.prototype.listen=Be.prototype.J,dd=ur,tr.prototype.listenOnce=tr.prototype.K,tr.prototype.getLastError=tr.prototype.Ha,tr.prototype.getLastErrorCode=tr.prototype.ya,tr.prototype.getStatus=tr.prototype.ca,tr.prototype.getResponseJson=tr.prototype.La,tr.prototype.getResponseText=tr.prototype.la,tr.prototype.send=tr.prototype.ea,tr.prototype.setWithCredentials=tr.prototype.Fa,Z3=tr}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});let Ra=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");let df="12.9.0";function NL(n){df=n}const kc=new oy("@firebase/firestore");function kh(){return kc.logLevel}function At(n,...e){if(kc.logLevel<=Vn.DEBUG){const t=e.map(vy);kc.debug(`Firestore (${df}): ${n}`,...t)}}function Gl(n,...e){if(kc.logLevel<=Vn.ERROR){const t=e.map(vy);kc.error(`Firestore (${df}): ${n}`,...t)}}function Pc(n,...e){if(kc.logLevel<=Vn.WARN){const t=e.map(vy);kc.warn(`Firestore (${df}): ${n}`,...t)}}function vy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function un(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,iA(n,r,t)}function iA(n,e,t){let r=`FIRESTORE (${df}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gl(r),new Error(r)}function fr(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||iA(e,a,r)}function En(n,e){return n}const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Ql{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class aA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ra.UNAUTHENTICATED)))}shutdown(){}}class TL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CL{constructor(e){this.t=e,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fr(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fl,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},c=f=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fr(typeof r.accessToken=="string",31837,{l:r}),new aA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fr(e===null||typeof e=="string",2055,{h:e}),new Ra(e)}}class RL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class IL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new RL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ws(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){fr(this.o===void 0,3512);const r=o=>{o.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,At("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(fr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new k_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class by{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kL(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Bn(n,e){return n<e?-1:n>e?1:0}function E2(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return c0(a)===c0(o)?Bn(a,o):c0(a)?1:-1}return Bn(n.length,e.length)}const PL=55296,DL=57343;function c0(n){const e=n.charCodeAt(0);return e>=PL&&e<=DL}function ef(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const P_="__name__";class Qo{constructor(e,t,r){t===void 0?t=0:t>e.length&&un(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&un(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Qo.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Bn(e.length,t.length)}static compareSegments(e,t){const r=Qo.isNumericId(e),a=Qo.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Qo.extractNumericId(e).compare(Qo.extractNumericId(t)):E2(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zu.fromString(e.substring(4,e.length-2))}}class Dr extends Qo{construct(e,t,r){return new Dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new vt(Je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Dr(t)}static emptyPath(){return new Dr([])}}const ML=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ya extends Qo{construct(e,t,r){return new ya(e,t,r)}static isValidIdentifier(e){return ML.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ya.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new ya([P_])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new vt(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new vt(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new vt(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else c==="`"?(u=!u,a++):c!=="."||u?(r+=c,a++):(o(),a++)}if(o(),u)throw new vt(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ya(t)}static emptyPath(){return new ya([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(Dr.fromString(e))}static fromName(e){return new Zt(Dr.fromString(e).popFirst(5))}static empty(){return new Zt(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new Dr(e.slice()))}}function sA(n,e,t){if(!t)throw new vt(Je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OL(n,e,t,r){if(e===!0&&r===!0)throw new vt(Je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function D_(n){if(!Zt.isDocumentKey(n))throw new vt(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M_(n){if(Zt.isDocumentKey(n))throw new vt(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":un(12329,{type:typeof n})}function Kl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pg(n);throw new vt(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Li(n,e){const t={typeString:n};return e&&(t.value=e),t}function Qd(n,e){if(!oA(n))throw new vt(Je.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new vt(Je.INVALID_ARGUMENT,t);return!0}const O_=-62135596800,U_=1e6;class jr{static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*U_);return new jr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<O_)throw new vt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qd(e,jr._jsonSchema))return new jr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jr._jsonSchemaVersion="firestore/timestamp/1.0",jr._jsonSchema={type:Li("string",jr._jsonSchemaVersion),seconds:Li("number"),nanoseconds:Li("number")};class yn{static fromTimestamp(e){return new yn(e)}static min(){return new yn(new jr(0,0))}static max(){return new yn(new jr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kd=-1;function UL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=yn.fromTimestamp(r===1e9?new jr(t+1,0):new jr(t,r));return new Ku(a,Zt.empty(),e)}function VL(n){return new Ku(n.readTime,n.key,kd)}class Ku{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ku(yn.min(),Zt.empty(),kd)}static max(){return new Ku(yn.max(),Zt.empty(),kd)}}function BL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Zt.comparator(n.documentKey,e.documentKey),t!==0?t:Bn(n.largestBatchId,e.largestBatchId))}const jL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mf(n){if(n.code!==Je.FAILED_PRECONDITION||n.message!==jL)throw n;At("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&un(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):tt.reject(t)}static resolve(e){return new tt(((t,r)=>{t(e)}))}static reject(e){return new tt(((t,r)=>{r(e)}))}static waitFor(e){return new tt(((t,r)=>{let a=0,o=0,u=!1;e.forEach((c=>{++a,c.next((()=>{++o,u&&o===a&&t()}),(f=>r(f)))})),u=!0,o===a&&t()}))}static or(e){let t=tt.resolve(!1);for(const r of e)t=t.next((a=>a?tt.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new tt(((r,a)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>a(g)))}}))}static doWhile(e,t){return new tt(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}function zL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pf(n){return n.name==="IndexedDbTransactionError"}class gg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gg.ce=-1;const _y=-1;function yg(n){return n==null}function Hp(n){return n===0&&1/n==-1/0}function qL(n){return typeof n=="number"&&Number.isInteger(n)&&!Hp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const lA="";function HL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V_(e)),e=GL(n.get(t),e);return V_(e)}function GL(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case lA:t+="";break;default:t+=o}}return t}function V_(n){return n+lA+""}function B_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ni{constructor(e,t){this.comparator=e,this.root=t||ga.EMPTY}insert(e,t){return new ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ga.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ga.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ga{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??ga.RED,this.left=a??ga.EMPTY,this.right=o??ga.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new ga(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ga.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return ga.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw un(43730,{key:this.key,value:this.value});if(this.right.isRed())throw un(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw un(27949);return e+(this.isRed()?0:1)}}ga.EMPTY=null,ga.RED=!0,ga.BLACK=!1;ga.EMPTY=new class{constructor(){this.size=0}get key(){throw un(57766)}get value(){throw un(16141)}get color(){throw un(16727)}get left(){throw un(29726)}get right(){throw un(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new ga(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yi{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yi(this.comparator);return t.data=e,t}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xs{constructor(e){this.fields=e,e.sort(ya.comparator)}static empty(){return new xs([])}unionWith(e){let t=new Yi(ya.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ef(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class va{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cA("Invalid base64 string: "+o):o}})(e);return new va(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o})(e);return new va(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}va.EMPTY_BYTE_STRING=new va("");const KL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yu(n){if(fr(!!n,39018),typeof n=="string"){let e=0;const t=KL.exec(n);if(fr(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vi(n.seconds),nanos:vi(n.nanos)}}function vi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wu(n){return typeof n=="string"?va.fromBase64String(n):va.fromUint8Array(n)}const hA="server_timestamp",fA="__type__",dA="__previous_value__",mA="__local_write_time__";function wy(n){return(n?.mapValue?.fields||{})[fA]?.stringValue===hA}function vg(n){const e=n.mapValue.fields[dA];return wy(e)?vg(e):e}function Pd(n){const e=Yu(n.mapValue.fields[mA].timestampValue);return new jr(e.seconds,e.nanos)}class YL{constructor(e,t,r,a,o,u,c,f,d,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=w}}const Gp="(default)";class Dd{constructor(e,t){this.projectId=e,this.database=t||Gp}static empty(){return new Dd("","")}get isDefaultDatabase(){return this.database===Gp}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}function WL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new vt(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(n.options.projectId,e)}const pA="__type__",$L="__max__",np={mapValue:{}},gA="__vector__",Kp="value";function $u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wy(n)?4:XL(n)?9007199254740991:QL(n)?10:11:un(28295,{value:n})}function ol(n,e){if(n===e)return!0;const t=$u(n);if(t!==$u(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pd(n).isEqual(Pd(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Yu(a.timestampValue),c=Yu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Wu(a.bytesValue).isEqual(Wu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return vi(a.geoPointValue.latitude)===vi(o.geoPointValue.latitude)&&vi(a.geoPointValue.longitude)===vi(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return vi(a.integerValue)===vi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=vi(a.doubleValue),c=vi(o.doubleValue);return u===c?Hp(u)===Hp(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return ef(n.arrayValue.values||[],e.arrayValue.values||[],ol);case 10:case 11:return(function(a,o){const u=a.mapValue.fields||{},c=o.mapValue.fields||{};if(B_(u)!==B_(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!ol(u[f],c[f])))return!1;return!0})(n,e);default:return un(52216,{left:n})}}function Md(n,e){return(n.values||[]).find((t=>ol(t,e)))!==void 0}function tf(n,e){if(n===e)return 0;const t=$u(n),r=$u(e);if(t!==r)return Bn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bn(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=vi(o.integerValue||o.doubleValue),f=vi(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return F_(n.timestampValue,e.timestampValue);case 4:return F_(Pd(n),Pd(e));case 5:return E2(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=Wu(o),f=Wu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=Bn(c[d],f[d]);if(g!==0)return g}return Bn(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=Bn(vi(o.latitude),vi(u.latitude));return c!==0?c:Bn(vi(o.longitude),vi(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return z_(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const c=o.fields||{},f=u.fields||{},d=c[Kp]?.arrayValue,g=f[Kp]?.arrayValue,w=Bn(d?.values?.length||0,g?.values?.length||0);return w!==0?w:z_(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===np.mapValue&&u===np.mapValue)return 0;if(o===np.mapValue)return 1;if(u===np.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const A=E2(f[w],g[w]);if(A!==0)return A;const b=tf(c[f[w]],d[g[w]]);if(b!==0)return b}return Bn(f.length,g.length)})(n.mapValue,e.mapValue);default:throw un(23264,{he:t})}}function F_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Bn(n,e);const t=Yu(n),r=Yu(e),a=Bn(t.seconds,r.seconds);return a!==0?a:Bn(t.nanos,r.nanos)}function z_(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=tf(t[a],r[a]);if(o)return o}return Bn(t.length,r.length)}function nf(n){return A2(n)}function A2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Yu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Wu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Zt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=A2(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${A2(t.fields[u])}`;return a+"}"})(n.mapValue):un(61005,{value:n})}function Ap(n){switch($u(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vg(n);return e?16+Ap(e):16;case 5:return 2*n.stringValue.length;case 6:return Wu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Ap(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return nc(r.fields,((o,u)=>{a+=o.length+Ap(u)})),a})(n.mapValue);default:throw un(13486,{value:n})}}function q_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function S2(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function H_(n){return!!n&&"nullValue"in n}function G_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sp(n){return!!n&&"mapValue"in n}function QL(n){return(n?.mapValue?.fields||{})[pA]?.stringValue===gA}function _d(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return nc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=_d(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_d(n.arrayValue.values[t]);return e}return{...n}}function XL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$L}class hs{constructor(e){this.value=e}static empty(){return new hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_d(t)}setAll(e){let t=ya.emptyPath(),r={},a=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=c.popLast()}u?r[c.lastSegment()]=_d(u):a.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Sp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Sp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){nc(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new hs(_d(this.value))}}function yA(n){const e=[];return nc(n.fields,((t,r)=>{const a=new ya([t]);if(Sp(r)){const o=yA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)})),new xs(e)}class Ia{constructor(e,t,r,a,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Ia(e,0,yn.min(),yn.min(),yn.min(),hs.empty(),0)}static newFoundDocument(e,t,r,a){return new Ia(e,1,t,yn.min(),r,a,0)}static newNoDocument(e,t){return new Ia(e,2,t,yn.min(),yn.min(),hs.empty(),0)}static newUnknownDocument(e,t){return new Ia(e,3,t,yn.min(),yn.min(),hs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ia&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ia(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yp{constructor(e,t){this.position=e,this.inclusive=t}}function K_(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?r=Zt.comparator(Zt.fromName(u.referenceValue),t.key):r=tf(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ol(n.position[t],e.position[t]))return!1;return!0}class Wp{constructor(e,t="asc"){this.field=e,this.dir=t}}function JL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class vA{}class Ii extends vA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new e7(e,t,r):t==="array-contains"?new r7(e,r):t==="in"?new i7(e,r):t==="not-in"?new a7(e,r):t==="array-contains-any"?new s7(e,r):new Ii(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new t7(e,r):new n7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(tf(t,this.value)):t!==null&&$u(this.value)===$u(t)&&this.matchesComparison(tf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return un(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class So extends vA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new So(e,t)}matches(e){return bA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bA(n){return n.op==="and"}function _A(n){return ZL(n)&&bA(n)}function ZL(n){for(const e of n.filters)if(e instanceof So)return!1;return!0}function N2(n){if(n instanceof Ii)return n.field.canonicalString()+n.op.toString()+nf(n.value);if(_A(n))return n.filters.map((e=>N2(e))).join(",");{const e=n.filters.map((t=>N2(t))).join(",");return`${n.op}(${e})`}}function wA(n,e){return n instanceof Ii?(function(r,a){return a instanceof Ii&&r.op===a.op&&r.field.isEqual(a.field)&&ol(r.value,a.value)})(n,e):n instanceof So?(function(r,a){return a instanceof So&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,u,c)=>o&&wA(u,a.filters[c])),!0):!1})(n,e):void un(19439)}function EA(n){return n instanceof Ii?(function(t){return`${t.field.canonicalString()} ${t.op} ${nf(t.value)}`})(n):n instanceof So?(function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"})(n):"Filter"}class e7 extends Ii{constructor(e,t,r){super(e,t,r),this.key=Zt.fromName(r.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class t7 extends Ii{constructor(e,t){super(e,"in",t),this.keys=AA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class n7 extends Ii{constructor(e,t){super(e,"not-in",t),this.keys=AA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function AA(n,e){return(e.arrayValue?.values||[]).map((t=>Zt.fromName(t.referenceValue)))}class r7 extends Ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&Md(t.arrayValue,this.value)}}class i7 extends Ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Md(this.value.arrayValue,t)}}class a7 extends Ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Md(this.value.arrayValue,t)}}class s7 extends Ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Md(this.value.arrayValue,r)))}}class o7{constructor(e,t=null,r=[],a=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function W_(n,e=null,t=[],r=[],a=null,o=null,u=null){return new o7(n,e,t,r,a,o,u)}function Ay(n){const e=En(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>N2(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),yg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>nf(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>nf(r))).join(",")),e.Te=t}return e.Te}function Sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Y_(n.startAt,e.startAt)&&Y_(n.endAt,e.endAt)}function x2(n){return Zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Xd{constructor(e,t=null,r=[],a=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function l7(n,e,t,r,a,o,u,c){return new Xd(n,e,t,r,a,o,u,c)}function Ny(n){return new Xd(n)}function $_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function u7(n){return Zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function SA(n){return n.collectionGroup!==null}function wd(n){const e=En(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Yi(ya.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Wp(o,r))})),t.has(ya.keyField().canonicalString())||e.Ie.push(new Wp(ya.keyField(),r))}return e.Ie}function nl(n){const e=En(n);return e.Ee||(e.Ee=c7(e,wd(n))),e.Ee}function c7(n,e){if(n.limitType==="F")return W_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Wp(a.field,o)}));const t=n.endAt?new Yp(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yp(n.startAt.position,n.startAt.inclusive):null;return W_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function T2(n,e){const t=n.filters.concat([e]);return new Xd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function C2(n,e,t){return new Xd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bg(n,e){return Sy(nl(n),nl(e))&&n.limitType===e.limitType}function NA(n){return`${Ay(nl(n))}|lt:${n.limitType}`}function Ph(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>EA(a))).join(", ")}]`),yg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>nf(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>nf(a))).join(",")),`Target(${r})`})(nl(n))}; limitType=${n.limitType})`}function _g(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Zt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of wd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(u,c,f){const d=K_(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,wd(r),a)||r.endAt&&!(function(u,c,f){const d=K_(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,wd(r),a))})(n,e)}function h7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xA(n){return(e,t)=>{let r=!1;for(const a of wd(n)){const o=f7(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function f7(n,e,t){const r=n.field.isKeyField()?Zt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?tf(f,d):un(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return un(19790,{direction:n.dir})}}class jc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){nc(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return uA(this.inner)}size(){return this.innerSize}}const d7=new ni(Zt.comparator);function Yl(){return d7}const TA=new ni(Zt.comparator);function md(...n){let e=TA;for(const t of n)e=e.insert(t.key,t);return e}function CA(n){let e=TA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Nc(){return Ed()}function RA(){return Ed()}function Ed(){return new jc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const m7=new ni(Zt.comparator),p7=new Yi(Zt.comparator);function jn(...n){let e=p7;for(const t of n)e=e.add(t);return e}const g7=new Yi(Bn);function y7(){return g7}function xy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function IA(n){return{integerValue:""+n}}function v7(n,e){return qL(e)?IA(e):xy(n,e)}class wg{constructor(){this._=void 0}}function b7(n,e,t){return n instanceof $p?(function(a,o){const u={fields:{[fA]:{stringValue:hA},[mA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&wy(o)&&(o=vg(o)),o&&(u.fields[dA]=o),{mapValue:u}})(t,e):n instanceof rf?kA(n,e):n instanceof Od?PA(n,e):(function(a,o){const u=LA(a,o),c=Q_(u)+Q_(a.Ae);return S2(u)&&S2(a.Ae)?IA(c):xy(a.serializer,c)})(n,e)}function _7(n,e,t){return n instanceof rf?kA(n,e):n instanceof Od?PA(n,e):t}function LA(n,e){return n instanceof Qp?(function(r){return S2(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class $p extends wg{}class rf extends wg{constructor(e){super(),this.elements=e}}function kA(n,e){const t=DA(e);for(const r of n.elements)t.some((a=>ol(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Od extends wg{constructor(e){super(),this.elements=e}}function PA(n,e){let t=DA(e);for(const r of n.elements)t=t.filter((a=>!ol(a,r)));return{arrayValue:{values:t}}}class Qp extends wg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Q_(n){return vi(n.integerValue||n.doubleValue)}function DA(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class w7{constructor(e,t){this.field=e,this.transform=t}}function E7(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof rf&&a instanceof rf||r instanceof Od&&a instanceof Od?ef(r.elements,a.elements,ol):r instanceof Qp&&a instanceof Qp?ol(r.Ae,a.Ae):r instanceof $p&&a instanceof $p})(n.transform,e.transform)}class A7{constructor(e,t){this.version=e,this.transformResults=t}}class rl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rl}static exists(e){return new rl(void 0,e)}static updateTime(e){return new rl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Np(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Eg{}function MA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new UA(n.key,rl.none()):new Jd(n.key,n.data,rl.none());{const t=n.data,r=hs.empty();let a=new Yi(ya.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new rc(n.key,r,new xs(a.toArray()),rl.none())}}function S7(n,e,t){n instanceof Jd?(function(a,o,u){const c=a.value.clone(),f=J_(a.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof rc?(function(a,o,u){if(!Np(a.precondition,o))return void o.convertToUnknownDocument(u.version);const c=J_(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(OA(a)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ad(n,e,t,r){return n instanceof Jd?(function(o,u,c,f){if(!Np(o.precondition,u))return c;const d=o.value.clone(),g=Z_(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof rc?(function(o,u,c,f){if(!Np(o.precondition,u))return c;const d=Z_(o.fieldTransforms,f,u),g=u.data;return g.setAll(OA(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(o,u,c){return Np(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function N7(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=LA(r.transform,a||null);o!=null&&(t===null&&(t=hs.empty()),t.set(r.field,o))}return t||null}function X_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ef(r,a,((o,u)=>E7(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jd extends Eg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class rc extends Eg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function J_(n,e,t){const r=new Map;fr(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,c=e.data.field(o.field);r.set(o.field,_7(u,c,t[a]))}return r}function Z_(n,e,t){const r=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);r.set(a.field,b7(o,u,e))}return r}class UA extends Eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x7 extends Eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T7{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&S7(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ad(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ad(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=RA();return this.mutations.forEach((a=>{const o=e.get(a.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(a.key)?null:c;const f=MA(u,c);f!==null&&r.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(yn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),jn())}isEqual(e){return this.batchId===e.batchId&&ef(this.mutations,e.mutations,((t,r)=>X_(t,r)))&&ef(this.baseMutations,e.baseMutations,((t,r)=>X_(t,r)))}}class Ty{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){fr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return m7})();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new Ty(e,t,r,a)}}class C7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class R7{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ri,$n;function I7(n){switch(n){case Je.OK:return un(64938);case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0;default:return un(15467,{code:n})}}function VA(n){if(n===void 0)return Gl("GRPC error has no .code"),Je.UNKNOWN;switch(n){case Ri.OK:return Je.OK;case Ri.CANCELLED:return Je.CANCELLED;case Ri.UNKNOWN:return Je.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return Je.INTERNAL;case Ri.UNAVAILABLE:return Je.UNAVAILABLE;case Ri.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case Ri.NOT_FOUND:return Je.NOT_FOUND;case Ri.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case Ri.ABORTED:return Je.ABORTED;case Ri.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case Ri.DATA_LOSS:return Je.DATA_LOSS;default:return un(39323,{code:n})}}($n=Ri||(Ri={}))[$n.OK=0]="OK",$n[$n.CANCELLED=1]="CANCELLED",$n[$n.UNKNOWN=2]="UNKNOWN",$n[$n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$n[$n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$n[$n.NOT_FOUND=5]="NOT_FOUND",$n[$n.ALREADY_EXISTS=6]="ALREADY_EXISTS",$n[$n.PERMISSION_DENIED=7]="PERMISSION_DENIED",$n[$n.UNAUTHENTICATED=16]="UNAUTHENTICATED",$n[$n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$n[$n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$n[$n.ABORTED=10]="ABORTED",$n[$n.OUT_OF_RANGE=11]="OUT_OF_RANGE",$n[$n.UNIMPLEMENTED=12]="UNIMPLEMENTED",$n[$n.INTERNAL=13]="INTERNAL",$n[$n.UNAVAILABLE=14]="UNAVAILABLE",$n[$n.DATA_LOSS=15]="DATA_LOSS";function L7(){return new TextEncoder}const k7=new zu([4294967295,4294967295],0);function ew(n){const e=L7().encode(n),t=new J3;return t.update(e),new Uint8Array(t.digest())}function tw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zu([t,r],0),new zu([a,o],0)]}class Cy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pd(`Invalid padding: ${t}`);if(r<0)throw new pd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=zu.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(zu.fromNumber(r)));return a.compare(k7)===1&&(a=new zu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ew(e),[r,a]=tw(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Cy(o,a,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=ew(e),[r,a]=tw(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,a,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ag{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ag(yn.min(),a,new ni(Bn),Yl(),jn())}}class Zd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zd(r,t,jn(),jn(),jn())}}class xp{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class BA{constructor(e,t){this.targetId=e,this.Ce=t}}class jA{constructor(e,t,r=va.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class nw{constructor(){this.ve=0,this.Fe=rw(),this.Me=va.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jn(),t=jn(),r=jn();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:un(38017,{changeType:o})}})),new Zd(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=rw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,fr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P7{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yl(),this.He=rp(),this.Je=rp(),this.Ze=new ni(Bn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:un(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(x2(o))if(r===0){const u=new Zt(o.path);this.et(t,u,Ia.newNoDocument(u,yn.min()))}else fr(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let u,c;try{u=Wu(r).toUint8Array()}catch(f){if(f instanceof cA)return Pc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Cy(u,a,o)}catch(f){return Pc(f instanceof pd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&x2(c.target)){const f=new Zt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Ia.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=jn();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const a=new Ag(e,t,this.Ze,this.je,r);return this.je=Yl(),this.He=rp(),this.Je=rp(),this.Ze=new ni(Bn),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new nw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Yi(Bn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Yi(Bn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||At("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rp(){return new ni(Zt.comparator)}function rw(){return new ni(Zt.comparator)}const D7={asc:"ASCENDING",desc:"DESCENDING"},M7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O7={and:"AND",or:"OR"};class U7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function R2(n,e){return n.useProto3Json||yg(e)?e:{value:e}}function Xp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function V7(n,e){return Xp(n,e.toTimestamp())}function il(n){return fr(!!n,49232),yn.fromTimestamp((function(t){const r=Yu(t);return new jr(r.seconds,r.nanos)})(n))}function Ry(n,e){return I2(n,e).canonicalString()}function I2(n,e){const t=(function(a){return new Dr(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function zA(n){const e=Dr.fromString(n);return fr(YA(e),10190,{key:e.toString()}),e}function L2(n,e){return Ry(n.databaseId,e.path)}function h0(n,e){const t=zA(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Zt(HA(t))}function qA(n,e){return Ry(n.databaseId,e)}function B7(n){const e=zA(n);return e.length===4?Dr.emptyPath():HA(e)}function k2(n){return new Dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return fr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iw(n,e,t){return{name:L2(n,e),fields:t.value.mapValue.fields}}function j7(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:un(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(fr(g===void 0||typeof g=="string",58123),va.fromBase64String(g||"")):(fr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),va.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?Je.UNKNOWN:VA(d.code);return new vt(g,d.message||"")})(u);t=new jA(r,a,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=h0(n,r.document.name),o=il(r.document.updateTime),u=r.document.createTime?il(r.document.createTime):yn.min(),c=new hs({mapValue:{fields:r.document.fields}}),f=Ia.newFoundDocument(a,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new xp(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=h0(n,r.document),o=r.readTime?il(r.readTime):yn.min(),u=Ia.newNoDocument(a,o),c=r.removedTargetIds||[];t=new xp([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=h0(n,r.document),o=r.removedTargetIds||[];t=new xp([],o,a,null)}else{if(!("filter"in e))return un(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new R7(a,o),c=r.targetId;t=new BA(c,u)}}return t}function F7(n,e){let t;if(e instanceof Jd)t={update:iw(n,e.key,e.value)};else if(e instanceof UA)t={delete:L2(n,e.key)};else if(e instanceof rc)t={update:iw(n,e.key,e.data),updateMask:Q7(e.fieldMask)};else{if(!(e instanceof x7))return un(16599,{dt:e.type});t={verify:L2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof $p)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Od)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qp)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw un(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:V7(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:un(27497)})(n,e.precondition)),t}function z7(n,e){return n&&n.length>0?(fr(e!==void 0,14353),n.map((t=>(function(a,o){let u=a.updateTime?il(a.updateTime):il(o);return u.isEqual(yn.min())&&(u=il(o)),new A7(u,a.transformResults||[])})(t,e)))):[]}function q7(n,e){return{documents:[qA(n,e.path)]}}function H7(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=qA(n,a);const o=(function(d){if(d.length!==0)return KA(So.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(A){return{field:Dh(A.field),direction:Y7(A.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=R2(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:a}}function G7(n){let e=B7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){fr(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(w){const A=GA(w);return A instanceof So&&_A(A)?A.getFilters():[A]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((A=>(function(M){return new Wp(Mh(M.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(A)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let A;return A=typeof w=="object"?w.value:w,yg(A)?null:A})(t.limit));let f=null;t.startAt&&(f=(function(w){const A=!!w.before,b=w.values||[];return new Yp(b,A)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const A=!w.before,b=w.values||[];return new Yp(b,A)})(t.endAt)),l7(e,a,u,o,c,"F",f,d)}function K7(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mh(t.unaryFilter.field);return Ii.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Mh(t.unaryFilter.field);return Ii.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mh(t.unaryFilter.field);return Ii.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mh(t.unaryFilter.field);return Ii.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return un(61313);default:return un(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ii.create(Mh(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return un(58110);default:return un(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return So.create(t.compositeFilter.filters.map((r=>GA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return un(1026)}})(t.compositeFilter.op))})(n):un(30097,{filter:n})}function Y7(n){return D7[n]}function W7(n){return M7[n]}function $7(n){return O7[n]}function Dh(n){return{fieldPath:n.canonicalString()}}function Mh(n){return ya.fromServerFormat(n.fieldPath)}function KA(n){return n instanceof Ii?(function(t){if(t.op==="=="){if(G_(t.value))return{unaryFilter:{field:Dh(t.field),op:"IS_NAN"}};if(H_(t.value))return{unaryFilter:{field:Dh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(G_(t.value))return{unaryFilter:{field:Dh(t.field),op:"IS_NOT_NAN"}};if(H_(t.value))return{unaryFilter:{field:Dh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dh(t.field),op:W7(t.op),value:t.value}}})(n):n instanceof So?(function(t){const r=t.getFilters().map((a=>KA(a)));return r.length===1?r[0]:{compositeFilter:{op:$7(t.op),filters:r}}})(n):un(54877,{filter:n})}function Q7(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function YA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function WA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Uu{constructor(e,t,r,a,o=yn.min(),u=yn.min(),c=va.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class X7{constructor(e){this.yt=e}}function J7(n){const e=G7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?C2(e,e.limit,"L"):e}class Z7{constructor(){this.Sn=new ek}addToCollectionParentIndex(e,t){return this.Sn.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getIndexType(e,t){return tt.resolve(0)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,t){return tt.resolve(Ku.min())}getMinOffsetFromCollectionGroup(e,t){return tt.resolve(Ku.min())}updateCollectionGroup(e,t,r){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class ek{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Yi(Dr.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Yi(Dr.comparator)).toArray()}}const aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$A=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs($A,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class af{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new af(0)}static ar(){return new af(-1)}}const sw="LruGarbageCollector",tk=1048576;function ow([n,e],[t,r]){const a=Bn(n,t);return a===0?Bn(e,r):a}class nk{constructor(e){this.Pr=e,this.buffer=new Yi(ow),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ow(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rk{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){At(sw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pf(t)?At(sw,"Ignoring IndexedDB error during garbage collection: ",t):await mf(t)}await this.Ar(3e5)}))}}class ik{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return tt.resolve(gg.ce);const r=new nk(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(aw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),kh()<=Vn.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:w}))))}}function ak(n,e){return new ik(n,e)}class sk{constructor(){this.changes=new jc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ia.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?tt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ok{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lk{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Ad(r.mutation,a,xs.empty(),jr.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,jn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=jn()){const a=Nc();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let u=md();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Nc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,jn())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,a){let o=Yl();const u=Ed(),c=(function(){return Ed()})();return t.forEach(((f,d)=>{const g=r.get(d.key);a.has(d.key)&&(g===void 0||g.mutation instanceof rc)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Ad(g.mutation,d,g.mutation.getFieldMask(),jr.now())):u.set(d.key,xs.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new ok(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Ed();let a=new ni(((u,c)=>u-c)),o=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||xs.empty();g=c.applyToLocalView(d,g),r.set(f,g);const w=(a.get(c.batchId)||jn()).add(f);a=a.insert(c.batchId,w)}))})).next((()=>{const u=[],c=a.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,w=RA();g.forEach((A=>{if(!o.has(A)){const b=MA(t.get(A),r.get(A));b!==null&&w.set(A,b),o=o.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return tt.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return u7(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):tt.resolve(Nc());let c=kd,f=o;return u.next((d=>tt.forEach(d,((g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(g)?tt.resolve():this.remoteDocumentCache.getEntry(e,g).next((A=>{f=f.insert(g,A)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,jn()))).next((g=>({batchId:c,changes:CA(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zt(t)).next((r=>{let a=md();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let u=md();return this.indexManager.getCollectionParents(e,o).next((c=>tt.forEach(c,(f=>{const d=(function(w,A){return new Xd(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((g=>{g.forEach(((w,A)=>{u=u.insert(w,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Ia.newInvalidDocument(g)))}));let c=md();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&Ad(g.mutation,d,xs.empty(),jr.now()),_g(t,d)&&(c=c.insert(f,d))})),c}))}}class uk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return tt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:il(a.createTime)}})(t)),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:J7(a.bundledQuery),readTime:il(a.readTime)}})(t)),tt.resolve()}}class ck{constructor(){this.overlays=new ni(Zt.comparator),this.Lr=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Nc();return tt.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),tt.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),tt.resolve()}getOverlaysForCollection(e,t,r){const a=Nc(),o=t.length+1,u=new Zt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return tt.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new ni(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Nc(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=Nc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=a)););return tt.resolve(c)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new C7(t,r));let o=this.Lr.get(t);o===void 0&&(o=jn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class hk{constructor(){this.sessionToken=va.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tt.resolve()}}class Iy{constructor(){this.kr=new Yi(ra.Kr),this.qr=new Yi(ra.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ra(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ra(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Zt(new Dr([])),r=new ra(t,e),a=new ra(t,e+1),o=[];return this.qr.forEachInRange([r,a],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Zt(new Dr([])),r=new ra(t,e),a=new ra(t,e+1);let o=jn();return this.qr.forEachInRange([r,a],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new ra(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ra{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Zt.comparator(e.key,t.key)||Bn(e.Hr,t.Hr)}static Ur(e,t){return Bn(e.Hr,t.Hr)||Zt.comparator(e.key,t.key)}}class fk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Yi(ra.Kr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new T7(o,t,r,a);this.mutationQueue.push(u);for(const c of a)this.Jr=this.Jr.add(new ra(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return tt.resolve(u)}lookupMutationBatch(e,t){return tt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return tt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?_y:this.Yn-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ra(t,0),a=new ra(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(u=>{const c=this.Zr(u.Hr);o.push(c)})),tt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yi(Bn);return t.forEach((a=>{const o=new ra(a,0),u=new ra(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{r=r.add(c.Hr)}))})),tt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;Zt.isDocumentKey(o)||(o=o.child(""));const u=new ra(new Zt(o),0);let c=new Yi(Bn);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(c=c.add(f.Hr)),!0)}),u),tt.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){fr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return tt.forEach(t.mutations,(a=>{const o=new ra(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ra(t,0),a=this.Jr.firstAfterOrEqual(r);return tt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dk{constructor(e){this.ti=e,this.docs=(function(){return new ni(Zt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return tt.resolve(r?r.document.mutableCopy():Ia.newInvalidDocument(t))}getEntries(e,t){let r=Yl();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():Ia.newInvalidDocument(a))})),tt.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Yl();const u=t.path,c=new Zt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||BL(VL(g),r)<=0||(a.has(g.key)||_g(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return tt.resolve(o)}getAllFromCollectionGroup(e,t,r,a){un(9500)}ni(e,t){return tt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new mk(this)}getSize(e){return tt.resolve(this.size)}}class mk extends sk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),tt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class pk{constructor(e){this.persistence=e,this.ri=new jc((t=>Ay(t)),Sy),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.ii=0,this.si=new Iy,this.targetCount=0,this.oi=af._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),tt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new af(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.lr(t),tt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)})),tt.waitFor(o).next((()=>a))}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return tt.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),tt.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((u=>{o.push(a.markPotentiallyOrphaned(e,u))})),tt.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return tt.resolve(r)}containsKey(e,t){return tt.resolve(this.si.containsKey(t))}}class QA{constructor(e,t){this._i={},this.overlays={},this.ai=new gg(0),this.ui=!1,this.ui=!0,this.ci=new hk,this.referenceDelegate=e(this),this.li=new pk(this),this.indexManager=new Z7,this.remoteDocumentCache=(function(a){return new dk(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new X7(t),this.Pi=new uk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ck,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new fk(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){At("MemoryPersistence","Starting transaction:",e);const a=new gk(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return tt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class gk extends FL{constructor(e){super(),this.currentSequenceNumber=e}}class Ly{constructor(e){this.persistence=e,this.Ri=new Iy,this.Ai=null}static Vi(e){return new Ly(e)}get di(){if(this.Ai)return this.Ai;throw un(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),tt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,(r=>{const a=Zt.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,yn.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return tt.or([()=>tt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jp{constructor(e,t){this.persistence=e,this.fi=new jc((r=>HL(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=ak(this,t)}static Vi(e,t){return new Jp(e,t)}Ti(){}Ii(e){return tt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return tt.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?tt.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(r++,o.removeEntry(u,yn.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),tt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),tt.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),tt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ap(e.data.value)),t}wr(e,t,r){return tt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return tt.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ky{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=jn(),a=jn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new ky(e,t.fromCache,r,a)}}class yk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return KC()?8:zL(La())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new yk;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(kh()<=Vn.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Ph(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(kh()<=Vn.DEBUG&&At("QueryEngine","Query:",Ph(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(kh()<=Vn.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Ph(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nl(t))):tt.resolve())}gs(e,t){if($_(t))return tt.resolve(null);let r=nl(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=C2(t,null,"F"),r=nl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=jn(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,c);return this.Ss(t,d,u,f.readTime)?this.gs(e,C2(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,a){return $_(t)||a.isEqual(yn.min())?tt.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,a)?tt.resolve(null):(kh()<=Vn.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ph(t)),this.Ds(e,u,t,UL(a,kd)).next((c=>c)))}))}bs(e,t){let r=new Yi(xA(e));return t.forEach(((a,o)=>{_g(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return kh()<=Vn.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Ph(t)),this.fs.getDocumentsMatchingQuery(e,t,Ku.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}const Py="LocalStore",bk=3e8;class _k{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new ni(Bn),this.Fs=new jc((o=>Ay(o)),Sy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function wk(n,e,t,r){return new _k(n,e,t,r)}async function XA(n,e){const t=En(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=jn();for(const d of a){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function Ek(n,e){const t=En(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const w=d.batch,A=w.keys();let b=tt.resolve();return A.forEach((M=>{b=b.next((()=>g.getEntry(f,M))).next((U=>{const j=d.docVersions.get(M);fr(j!==null,48541),U.version.compareTo(j)<0&&(w.applyToRemoteDocument(U,d),U.isValidDocument()&&(U.setReadTime(d.commitVersion),g.addEntry(U)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=jn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function JA(n){const e=En(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Ak(n,e){const t=En(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const c=[];e.targetChanges.forEach(((g,w)=>{const A=a.get(w);if(!A)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,w).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,w))));let b=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(va.EMPTY_BYTE_STRING,yn.min()).withLastLimboFreeSnapshotVersion(yn.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),a=a.insert(w,b),(function(U,j,B){return U.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=bk?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(A,b,g)&&c.push(t.li.updateTargetData(o,b))}));let f=Yl(),d=jn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(Sk(o,u,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!r.isEqual(yn.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((w=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return tt.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=a,o)))}function Sk(n,e,t){let r=jn(),a=jn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Yl();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),f.isNoDocument()&&f.version.isEqual(yn.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):At(Py,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:a}}))}function Nk(n,e){const t=En(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=_y),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xk(n,e){const t=En(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,tt.resolve(a)):t.li.allocateTargetId(r).next((u=>(a=new Uu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function P2(n,e,t){const r=En(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!pf(u))throw u;At(Py,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function lw(n,e,t){const r=En(n);let a=yn.min(),o=jn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const w=En(f),A=w.Fs.get(g);return A!==void 0?tt.resolve(w.vs.get(A)):w.li.getTargetData(d,g)})(r,u,nl(e)).next((c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?a:yn.min(),t?o:jn()))).next((c=>(Tk(r,h7(e),c),{documents:c,ks:o})))))}function Tk(n,e,t){let r=n.Ms.get(e)||yn.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class uw{constructor(){this.activeTargetIds=y7()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ck{constructor(){this.vo=new uw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new uw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rk{Mo(e){}shutdown(){}}const cw="ConnectivityMonitor";class hw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){At(cw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){At(cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ip=null;function D2(){return ip===null?ip=(function(){return 268435456+Math.round(2147483648*Math.random())})():ip++,"0x"+ip.toString(16)}const f0="RestConnection",Ik={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Lk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===Gp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const u=D2(),c=this.Qo(e,t.toUriEncodedString());At(f0,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:d}=new URL(c),g=cf(d);return this.zo(e,c,f,r,g).then((w=>(At(f0,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Pc(f0,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",r),w}))}jo(e,t,r,a,o,u){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+df})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=Ik[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class kk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Aa="WebChannelConnection",ad=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Gh extends Lk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gh.c_){const e=nA();ad(e,tA.STAT_EVENT,(t=>{t.stat===w2.PROXY?At(Aa,"STAT_EVENT: detected buffering proxy"):t.stat===w2.NOPROXY&&At(Aa,"STAT_EVENT: detected no buffering proxy")})),Gh.c_=!0}}zo(e,t,r,a,o){const u=D2();return new Promise(((c,f)=>{const d=new Z3;d.setWithCredentials(!0),d.listenOnce(eA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ep.NO_ERROR:const w=d.getResponseJson();At(Aa,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case Ep.TIMEOUT:At(Aa,`RPC '${e}' ${u} timed out`),f(new vt(Je.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const A=d.getStatus();if(At(Aa,`RPC '${e}' ${u} failed with status:`,A,"response text:",d.getResponseText()),A>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b?.error;if(M&&M.status&&M.message){const U=(function(B){const K=B.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(K)>=0?K:Je.UNKNOWN})(M.status);f(new vt(U,M.message))}else f(new vt(Je.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new vt(Je.UNAVAILABLE,"Connection failed."));break;default:un(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{At(Aa,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);At(Aa,`RPC '${e}' ${u} sending request:`,a),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const a=D2(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=o.join("");At(Aa,`Creating RPC '${e}' stream ${a}: ${d}`,c);const g=u.createWebChannel(d,c);this.I_(g);let w=!1,A=!1;const b=new kk({Ho:M=>{A?At(Aa,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(w||(At(Aa,`Opening RPC '${e}' stream ${a} transport.`),g.open(),w=!0),At(Aa,`RPC '${e}' stream ${a} sending:`,M),g.send(M))},Jo:()=>g.close()});return ad(g,dd.EventType.OPEN,(()=>{A||(At(Aa,`RPC '${e}' stream ${a} transport opened.`),b.i_())})),ad(g,dd.EventType.CLOSE,(()=>{A||(A=!0,At(Aa,`RPC '${e}' stream ${a} transport closed`),b.o_(),this.E_(g))})),ad(g,dd.EventType.ERROR,(M=>{A||(A=!0,Pc(Aa,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),b.o_(new vt(Je.UNAVAILABLE,"The operation could not be completed")))})),ad(g,dd.EventType.MESSAGE,(M=>{if(!A){const U=M.data[0];fr(!!U,16349);const j=U,B=j?.error||j[0]?.error;if(B){At(Aa,`RPC '${e}' stream ${a} received error:`,B);const K=B.status;let G=(function(fe){const I=Ri[fe];if(I!==void 0)return VA(I)})(K),X=B.message;K==="NOT_FOUND"&&X.includes("database")&&X.includes("does not exist")&&X.includes(this.databaseId.database)&&Pc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=Je.INTERNAL,X="Unknown error status: "+K+" with message "+B.message),A=!0,b.o_(new vt(G,X)),g.close()}else At(Aa,`RPC '${e}' stream ${a} received:`,U),b.__(U)}})),Gh.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rA()}}function Pk(n){return new Gh(n)}function d0(){return typeof document<"u"?document:null}function Sg(n){return new U7(n,!0)}Gh.c_=!1;class ZA{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&At("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fw="PersistentStream";class eS{constructor(e,t,r,a,o,u,c,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Je.RESOURCE_EXHAUSTED?(Gl(t.toString()),Gl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new vt(Je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return At(fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(At(fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dk extends eS{constructor(e,t,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=j7(this.serializer,e),r=(function(o){if(!("targetChange"in o))return yn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?yn.min():u.readTime?il(u.readTime):yn.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=k2(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=x2(f)?{documents:q7(o,f)}:{query:H7(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=FA(o,u.resumeToken);const d=R2(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(yn.min())>0){c.readTime=Xp(o,u.snapshotVersion.toTimestamp());const d=R2(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=K7(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=k2(this.serializer),t.removeTarget=e,this.K_(t)}}class Mk extends eS{constructor(e,t,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return fr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=z7(e.writeResults,e.commitTime),r=il(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=k2(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>F7(this.serializer,r)))};this.K_(t)}}class Ok{}class Uk extends Ok{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new vt(Je.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,I2(t,r),a,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(Je.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,I2(t,r),a,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(Je.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Vk(n,e,t,r){return new Uk(n,e,t,r)}class Bk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gl(t),this.aa=!1):At("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Dc="RemoteStore";class jk{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Fc(this)&&(At(Dc,"Restarting streams for network reachability change."),await(async function(f){const d=En(f);d.Ea.add(4),await em(d),d.Va.set("Unknown"),d.Ea.delete(4),await Ng(d)})(this))}))})),this.Va=new Bk(r,a)}}async function Ng(n){if(Fc(n))for(const e of n.Ra)await e(!0)}async function em(n){for(const e of n.Ra)await e(!1)}function tS(n,e){const t=En(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Uy(t)?Oy(t):gf(t).O_()&&My(t,e))}function Dy(n,e){const t=En(n),r=gf(t);t.Ia.delete(e),r.O_()&&nS(t,e),t.Ia.size===0&&(r.O_()?r.L_():Fc(t)&&t.Va.set("Unknown"))}function My(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gf(n).Z_(e)}function nS(n,e){n.da.$e(e),gf(n).X_(e)}function Oy(n){n.da=new P7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),gf(n).start(),n.Va.ua()}function Uy(n){return Fc(n)&&!gf(n).x_()&&n.Ia.size>0}function Fc(n){return En(n).Ea.size===0}function rS(n){n.da=void 0}async function Fk(n){n.Va.set("Online")}async function zk(n){n.Ia.forEach(((e,t)=>{My(n,e)}))}async function qk(n,e){rS(n),Uy(n)?(n.Va.ha(e),Oy(n)):n.Va.set("Unknown")}async function Hk(n,e,t){if(n.Va.set("Online"),e instanceof jA&&e.state===2&&e.cause)try{await(async function(a,o){const u=o.cause;for(const c of o.targetIds)a.Ia.has(c)&&(await a.remoteSyncer.rejectListen(c,u),a.Ia.delete(c),a.da.removeTarget(c))})(n,e)}catch(r){At(Dc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zp(n,r)}else if(e instanceof xp?n.da.Xe(e):e instanceof BA?n.da.st(e):n.da.tt(e),!t.isEqual(yn.min()))try{const r=await JA(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(va.EMPTY_BYTE_STRING,g.snapshotVersion)),nS(o,f);const w=new Uu(g.target,f,d,g.sequenceNumber);My(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){At(Dc,"Failed to raise snapshot:",r),await Zp(n,r)}}async function Zp(n,e,t){if(!pf(e))throw e;n.Ea.add(1),await em(n),n.Va.set("Offline"),t||(t=()=>JA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{At(Dc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ng(n)}))}function iS(n,e){return e().catch((t=>Zp(n,t,e)))}async function xg(n){const e=En(n),t=Qu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_y;for(;Gk(e);)try{const a=await Nk(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,Kk(e,a)}catch(a){await Zp(e,a)}aS(e)&&sS(e)}function Gk(n){return Fc(n)&&n.Ta.length<10}function Kk(n,e){n.Ta.push(e);const t=Qu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function aS(n){return Fc(n)&&!Qu(n).x_()&&n.Ta.length>0}function sS(n){Qu(n).start()}async function Yk(n){Qu(n).ra()}async function Wk(n){const e=Qu(n);for(const t of n.Ta)e.ea(t.mutations)}async function $k(n,e,t){const r=n.Ta.shift(),a=Ty.from(r,e,t);await iS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await xg(n)}async function Qk(n,e){e&&Qu(n).Y_&&await(async function(r,a){if((function(u){return I7(u)&&u!==Je.ABORTED})(a.code)){const o=r.Ta.shift();Qu(r).B_(),await iS(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await xg(r)}})(n,e),aS(n)&&sS(n)}async function dw(n,e){const t=En(n);t.asyncQueue.verifyOperationInProgress(),At(Dc,"RemoteStore received new credentials");const r=Fc(t);t.Ea.add(3),await em(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ng(t)}async function Xk(n,e){const t=En(n);e?(t.Ea.delete(2),await Ng(t)):e||(t.Ea.add(2),await em(t),t.Va.set("Unknown"))}function gf(n){return n.ma||(n.ma=(function(t,r,a){const o=En(t);return o.sa(),new Dk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:Fk.bind(null,n),Yo:zk.bind(null,n),t_:qk.bind(null,n),J_:Hk.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Uy(n)?Oy(n):n.Va.set("Unknown")):(await n.ma.stop(),rS(n))}))),n.ma}function Qu(n){return n.fa||(n.fa=(function(t,r,a){const o=En(t);return o.sa(),new Mk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Yk.bind(null,n),t_:Qk.bind(null,n),ta:Wk.bind(null,n),na:$k.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await xg(n)):(await n.fa.stop(),n.Ta.length>0&&(At(Dc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Vy{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const u=Date.now()+r,c=new Vy(e,t,u,a,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(Gl("AsyncQueue",`${e}: ${n}`),pf(n))return new vt(Je.UNAVAILABLE,`${e}: ${n}`);throw n}class Kh{static emptySet(e){return new Kh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Zt.comparator(t.key,r.key):(t,r)=>Zt.comparator(t.key,r.key),this.keyedMap=md(),this.sortedSet=new ni(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Kh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mw{constructor(){this.ga=new ni(Zt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):un(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class sf{constructor(e,t,r,a,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new sf(e,t,Kh.emptySet(t),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class Jk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Zk{constructor(){this.queries=pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=En(t),o=a.queries;a.queries=pw(),o.forEach(((u,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new vt(Je.ABORTED,"Firestore shutting down"))}}function pw(){return new jc((n=>NA(n)),bg)}async function oS(n,e){const t=En(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new Jk,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const c=By(u,`Initialization of query '${Ph(e.query)}' failed`);return void e.onError(c)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&jy(t)}async function lS(n,e){const t=En(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function eP(n,e){const t=En(n);let r=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(a)&&(r=!0);u.wa=a}}r&&jy(t)}function tP(n,e,t){const r=En(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function jy(n){n.Ca.forEach((e=>{e.next()}))}var M2,gw;(gw=M2||(M2={})).Ma="default",gw.Cache="cache";class uS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new sf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==M2.Cache}}class cS{constructor(e){this.key=e}}class hS{constructor(e){this.key=e}}class nP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jn(),this.mutatedKeys=jn(),this.eu=xA(e),this.tu=new Kh(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new mw,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,c=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,w)=>{const A=a.get(g),b=_g(this.query,w)?w:null,M=!!A&&this.mutatedKeys.has(A.key),U=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let j=!1;A&&b?A.data.isEqual(b.data)?M!==U&&(r.track({type:3,doc:b}),j=!0):this.su(A,b)||(r.track({type:2,doc:b}),j=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!A&&b?(r.track({type:0,doc:b}),j=!0):A&&!b&&(r.track({type:1,doc:A}),j=!0,(f||d)&&(c=!0)),j&&(b?(u=u.add(b),o=U?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(b,M){const U=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un(20277,{Vt:j})}};return U(b)-U(M)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),a=a??!1;const c=t&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new sf(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=jn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new hS(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new cS(r))})),t}cu(e){this.Za=e.ks,this.Ya=jn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fy="SyncEngine";class rP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iP{constructor(e){this.key=e,this.hu=!1}}class aP{constructor(e,t,r,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new jc((c=>NA(c)),bg),this.Iu=new Map,this.Eu=new Set,this.Ru=new ni(Zt.comparator),this.Au=new Map,this.Vu=new Iy,this.du={},this.mu=new Map,this.fu=af.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sP(n,e,t=!0){const r=yS(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await fS(r,e,t,!0),a}async function oP(n,e){const t=yS(n);await fS(t,e,!0,!1)}async function fS(n,e,t,r){const a=await xk(n.localStore,nl(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await lP(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&tS(n.remoteStore,a),c}async function lP(n,e,t,r,a){n.pu=(w,A,b)=>(async function(U,j,B,K){let G=j.view.ru(B);G.Ss&&(G=await lw(U.localStore,j.query,!1).then((({documents:I})=>j.view.ru(I,G))));const X=K&&K.targetChanges.get(j.targetId),me=K&&K.targetMismatches.get(j.targetId)!=null,fe=j.view.applyChanges(G,U.isPrimaryClient,X,me);return vw(U,j.targetId,fe.au),fe.snapshot})(n,w,A,b);const o=await lw(n.localStore,e,!0),u=new nP(e,o.ks),c=u.ru(o.documents),f=Zd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=u.applyChanges(c,n.isPrimaryClient,f);vw(n,t,d.au);const g=new rP(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function uP(n,e,t){const r=En(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((u=>!bg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await P2(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Dy(r.remoteStore,a.targetId),O2(r,a.targetId)})).catch(mf)):(O2(r,a.targetId),await P2(r.localStore,a.targetId,!0))}async function cP(n,e){const t=En(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Dy(t.remoteStore,r.targetId))}async function hP(n,e,t){const r=vP(n);try{const a=await(function(u,c){const f=En(u),d=jr.now(),g=c.reduce(((b,M)=>b.add(M.key)),jn());let w,A;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let M=Yl(),U=jn();return f.xs.getEntries(b,g).next((j=>{M=j,M.forEach(((B,K)=>{K.isValidDocument()||(U=U.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,M))).next((j=>{w=j;const B=[];for(const K of c){const G=N7(K,w.get(K.key).overlayedDocument);G!=null&&B.push(new rc(K.key,G,yA(G.value.mapValue),rl.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,B,c)})).next((j=>{A=j;const B=j.applyToLocalDocumentSet(w,U);return f.documentOverlayCache.saveOverlays(b,j.batchId,B)}))})).then((()=>({batchId:A.batchId,changes:CA(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,c,f){let d=u.du[u.currentUser.toKey()];d||(d=new ni(Bn)),d=d.insert(c,f),u.du[u.currentUser.toKey()]=d})(r,a.batchId,t),await tm(r,a.changes),await xg(r.remoteStore)}catch(a){const o=By(a,"Failed to persist write");t.reject(o)}}async function dS(n,e){const t=En(n);try{const r=await Ak(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const u=t.Au.get(o);u&&(fr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?fr(u.hu,14607):a.removedDocuments.size>0&&(fr(u.hu,42227),u.hu=!1))})),await tm(t,r,e)}catch(r){await mf(r)}}function yw(n,e,t){const r=En(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&a.push(c.snapshot)})),(function(u,c){const f=En(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,w)=>{for(const A of w.ba)A.va(c)&&(d=!0)})),d&&jy(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fP(n,e,t){const r=En(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let u=new ni(Zt.comparator);u=u.insert(o,Ia.newNoDocument(o,yn.min()));const c=jn().add(o),f=new Ag(yn.min(),new Map,new ni(Bn),u,c);await dS(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),zy(r)}else await P2(r.localStore,e,!1).then((()=>O2(r,e,t))).catch(mf)}async function dP(n,e){const t=En(n),r=e.batch.batchId;try{const a=await Ek(t.localStore,e);pS(t,r,null),mS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await tm(t,a)}catch(a){await mf(a)}}async function mP(n,e,t){const r=En(n);try{const a=await(function(u,c){const f=En(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>(fr(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);pS(r,e,t),mS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await tm(r,a)}catch(a){await mf(a)}}function mS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function pS(n,e,t){const r=En(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function O2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||gS(n,r)}))}function gS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Dy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),zy(n))}function vw(n,e,t){for(const r of t)r instanceof cS?(n.Vu.addReference(r.key,e),pP(n,r)):r instanceof hS?(At(Fy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||gS(n,r.key)):un(19791,{wu:r})}function pP(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(At(Fy,"New document in limbo: "+t),n.Eu.add(r),zy(n))}function zy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Zt(Dr.fromString(e)),r=n.fu.next();n.Au.set(r,new iP(t)),n.Ru=n.Ru.insert(t,r),tS(n.remoteStore,new Uu(nl(Ny(t.path)),r,"TargetPurposeLimboResolution",gg.ce))}}async function tm(n,e,t){const r=En(n),a=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){a.push(d);const g=ky.Es(f.targetId,d);o.push(g)}})))})),await Promise.all(u),r.Pu.J_(a),await(async function(f,d){const g=En(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>tt.forEach(d,(A=>tt.forEach(A.Ts,(b=>g.persistence.referenceDelegate.addReference(w,A.targetId,b))).next((()=>tt.forEach(A.Is,(b=>g.persistence.referenceDelegate.removeReference(w,A.targetId,b)))))))))}catch(w){if(!pf(w))throw w;At(Py,"Failed to update sequence numbers: "+w)}for(const w of d){const A=w.targetId;if(!w.fromCache){const b=g.vs.get(A),M=b.snapshotVersion,U=b.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(A,U)}}})(r.localStore,o))}async function gP(n,e){const t=En(n);if(!t.currentUser.isEqual(e)){At(Fy,"User change. New user:",e.toKey());const r=await XA(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new vt(Je.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tm(t,r.Ns)}}function yP(n,e){const t=En(n),r=t.Au.get(e);if(r&&r.hu)return jn().add(r.key);{let a=jn();const o=t.Iu.get(e);if(!o)return a;for(const u of o){const c=t.Tu.get(u);a=a.unionWith(c.view.nu)}return a}}function yS(n){const e=En(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fP.bind(null,e),e.Pu.J_=eP.bind(null,e.eventManager),e.Pu.yu=tP.bind(null,e.eventManager),e}function vP(n){const e=En(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mP.bind(null,e),e}class eg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return wk(this.persistence,new vk,e.initialUser,this.serializer)}Cu(e){return new QA(Ly.Vi,this.serializer)}Du(e){return new Ck}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eg.provider={build:()=>new eg};class bP extends eg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){fr(this.persistence.referenceDelegate instanceof Jp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rk(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new QA((r=>Jp.Vi(r,t)),this.serializer)}}class U2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gP.bind(null,this.syncEngine),await Xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zk})()}createDatastore(e){const t=Sg(e.databaseInfo.databaseId),r=Pk(e.databaseInfo);return Vk(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,u,c){return new jk(r,a,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>yw(this.syncEngine,t,0)),(function(){return hw.v()?new hw:new Rk})())}createSyncEngine(e,t){return(function(a,o,u,c,f,d,g){const w=new aP(a,o,u,c,f,d);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=En(t);At(Dc,"RemoteStore shutting down."),r.Ea.add(5),await em(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}U2.provider={build:()=>new U2};class vS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Xu="FirestoreClient";class _P{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=Ra.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{At(Xu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(At(Xu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=By(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function m0(n,e){n.asyncQueue.verifyOperationInProgress(),At(Xu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await XA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wP(n);At(Xu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>dw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>dw(e.remoteStore,a))),n._onlineComponents=e}async function wP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At(Xu,"Using user provided OfflineComponentProvider");try{await m0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Je.FAILED_PRECONDITION||a.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Pc("Error using user provided cache. Falling back to memory cache: "+t),await m0(n,new eg)}}else At(Xu,"Using default OfflineComponentProvider"),await m0(n,new bP(void 0));return n._offlineComponents}async function bS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At(Xu,"Using user provided OnlineComponentProvider"),await bw(n,n._uninitializedComponentsProvider._online)):(At(Xu,"Using default OnlineComponentProvider"),await bw(n,new U2))),n._onlineComponents}function EP(n){return bS(n).then((e=>e.syncEngine))}async function _S(n){const e=await bS(n),t=e.eventManager;return t.onListen=sP.bind(null,e.syncEngine),t.onUnlisten=uP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=oP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cP.bind(null,e.syncEngine),t}function AP(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new vS({next:A=>{g.Nu(),u.enqueueAndForget((()=>lS(o,w)));const b=A.docs.has(c);!b&&A.fromCache?d.reject(new vt(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&A.fromCache&&f&&f.source==="server"?d.reject(new vt(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new uS(Ny(c.path),g,{includeMetadataChanges:!0,Ka:!0});return oS(o,w)})(await _S(n),n.asyncQueue,e,t,r))),r.promise}function SP(n,e,t={}){const r=new Fl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new vS({next:A=>{g.Nu(),u.enqueueAndForget((()=>lS(o,w))),A.fromCache&&f.source==="server"?d.reject(new vt(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new uS(c,g,{includeMetadataChanges:!0,Ka:!0});return oS(o,w)})(await _S(n),n.asyncQueue,e,t,r))),r.promise}function NP(n,e){const t=new Fl;return n.asyncQueue.enqueueAndForget((async()=>hP(await EP(n),e,t))),t.promise}function wS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const xP="ComponentProvider",_w=new Map;function TP(n,e,t,r,a){return new YL(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,wS(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const ES="firestore.googleapis.com",ww=!0;class Ew{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new vt(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=ww}else this.host=e.host,this.ssl=e.ssl??ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$A;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tk)throw new vt(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new vt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new vt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new vt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new vt(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ew(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xL;switch(r.type){case"firstParty":return new IL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new vt(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=_w.get(t);r&&(At(xP,"Removing Datastore"),_w.delete(t),r.terminate())})(this),Promise.resolve()}}function CP(n,e,t,r={}){n=Kl(n,Tg);const a=cf(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;a&&(c3(`https://${c}`),h3("Firestore",!0)),o.host!==ES&&o.host!==c&&Pc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:a,emulatorOptions:r};if(!Gu(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Ra.MOCK_USER;else{d=UC(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new vt(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ra(w)}n._authCredentials=new TL(new aA(d,g))}}class yf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yf(this.firestore,e,this._query)}}class Ei{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}toJSON(){return{type:Ei._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Qd(t,Ei._jsonSchema))return new Ei(e,r||null,new Zt(Dr.fromString(t.referencePath)))}}Ei._jsonSchemaVersion="firestore/documentReference/1.0",Ei._jsonSchema={type:Li("string",Ei._jsonSchemaVersion),referencePath:Li("string")};class qu extends yf{constructor(e,t,r){super(e,t,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new Zt(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function AS(n,e,...t){if(n=aa(n),sA("collection","path",e),n instanceof Tg){const r=Dr.fromString(e,...t);return M_(r),new qu(n,null,r)}{if(!(n instanceof Ei||n instanceof qu))throw new vt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dr.fromString(e,...t));return M_(r),new qu(n.firestore,null,r)}}function Ud(n,e,...t){if(n=aa(n),arguments.length===1&&(e=by.newId()),sA("doc","path",e),n instanceof Tg){const r=Dr.fromString(e,...t);return D_(r),new Ei(n,null,new Zt(r))}{if(!(n instanceof Ei||n instanceof qu))throw new vt(Je.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dr.fromString(e,...t));return D_(r),new Ei(n.firestore,n instanceof qu?n.converter:null,new Zt(r))}}const Aw="AsyncQueue";class Sw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZA(this,"async_queue_retry"),this._c=()=>{const r=d0();r&&At(Aw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=d0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=d0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Fl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!pf(e))throw e;At(Aw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gl("INTERNAL UNHANDLED ERROR: ",Nw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Vy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&un(47125,{Pc:Nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Nw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class nm extends Tg{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new Sw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,await e}}}function RP(n,e){const t=typeof n=="object"?n:p3(),r=typeof n=="string"?n:Gp,a=uy(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=MC("firestore");o&&CP(a,...o)}return a}function qy(n){if(n._terminated)throw new vt(Je.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IP(n),n._firestoreClient}function IP(n){const e=n._freezeSettings(),t=TP(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _P(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(va.fromBase64String(e))}catch(t){throw new vt(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $s(va.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qd(e,$s._jsonSchema))return $s.fromBase64String(e.bytes)}}$s._jsonSchemaVersion="firestore/bytes/1.0",$s._jsonSchema={type:Li("string",$s._jsonSchemaVersion),bytes:Li("string")};class Hy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new vt(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ya(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cg{constructor(e){this._methodName=e}}class al{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:al._jsonSchemaVersion}}static fromJSON(e){if(Qd(e,al._jsonSchema))return new al(e.latitude,e.longitude)}}al._jsonSchemaVersion="firestore/geoPoint/1.0",al._jsonSchema={type:Li("string",al._jsonSchemaVersion),latitude:Li("number"),longitude:Li("number")};class Eo{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Eo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qd(e,Eo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Eo(e.vectorValues);throw new vt(Je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Eo._jsonSchemaVersion="firestore/vectorValue/1.0",Eo._jsonSchema={type:Li("string",Eo._jsonSchemaVersion),vectorValues:Li("object")};const LP=/^__.*__$/;class kP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jd(e,this.data,t,this.fieldTransforms)}}class SS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un(40011,{dataSource:n})}}class Rg{constructor(e,t,r,a,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return tg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(NS(this.dataSource)&&LP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class PP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sg(e)}createContext(e,t,r,a=!1){return new Rg({dataSource:e,methodName:t,targetDoc:r,path:ya.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gy(n){const e=n._freezeSettings(),t=Sg(n._databaseId);return new PP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DP(n,e,t,r,a,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);Yy("Data must be an object, but it was:",u,r);const c=xS(r,u);let f,d;if(o.merge)f=new xs(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const A=of(e,w,t);if(!u.contains(A))throw new vt(Je.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);RS(g,A)||g.push(A)}f=new xs(g),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new kP(new hs(c),f,d)}class Ig extends Cg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ig}}function MP(n,e,t){return new Rg({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ky extends Cg{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=MP(this,e,!0),r=this.Ac.map((o=>vf(o,t))),a=new rf(r);return new w7(e.path,a)}isEqual(e){return e instanceof Ky&&Gu(this.Ac,e.Ac)}}function OP(n,e,t,r){const a=n.createContext(1,e,t);Yy("Data must be an object, but it was:",a,r);const o=[],u=hs.empty();nc(r,((f,d)=>{const g=CS(e,f,t);d=aa(d);const w=a.childContextForFieldPath(g);if(d instanceof Ig)o.push(g);else{const A=vf(d,w);A!=null&&(o.push(g),u.set(g,A))}}));const c=new xs(o);return new SS(u,c,a.fieldTransforms)}function UP(n,e,t,r,a,o){const u=n.createContext(1,e,t),c=[of(e,r,t)],f=[a];if(o.length%2!=0)throw new vt(Je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)c.push(of(e,o[A])),f.push(o[A+1]);const d=[],g=hs.empty();for(let A=c.length-1;A>=0;--A)if(!RS(d,c[A])){const b=c[A];let M=f[A];M=aa(M);const U=u.childContextForFieldPath(b);if(M instanceof Ig)d.push(b);else{const j=vf(M,U);j!=null&&(d.push(b),g.set(b,j))}}const w=new xs(d);return new SS(g,w,u.fieldTransforms)}function VP(n,e,t,r=!1){return vf(t,n.createContext(r?4:3,e))}function vf(n,e){if(TS(n=aa(n)))return Yy("Unsupported field value:",e,n),xS(n,e);if(n instanceof Cg)return(function(r,a){if(!NS(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let u=0;for(const c of r){let f=vf(c,a.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=aa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v7(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jr.fromDate(r);return{timestampValue:Xp(a.serializer,o)}}if(r instanceof jr){const o=new jr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xp(a.serializer,o)}}if(r instanceof al)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $s)return{bytesValue:FA(a.serializer,r._byteString)};if(r instanceof Ei){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ry(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Eo)return(function(u,c){const f=u instanceof Eo?u.toArray():u;return{mapValue:{fields:{[pA]:{stringValue:gA},[Kp]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return xy(c.serializer,g)}))}}}}}})(r,a);if(WA(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${pg(r)}`)})(n,e)}function xS(n,e){const t={};return uA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nc(n,((r,a)=>{const o=vf(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function TS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof al||n instanceof $s||n instanceof Ei||n instanceof Cg||n instanceof Eo||WA(n))}function Yy(n,e,t){if(!TS(t)||!oA(t)){const r=pg(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function of(n,e,t){if((e=aa(e))instanceof Hy)return e._internalPath;if(typeof e=="string")return CS(n,e);throw tg("Field path arguments must be of type string or ",n,!1,void 0,t)}const BP=new RegExp("[~\\*/\\[\\]]");function CS(n,e,t){if(e.search(BP)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hy(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tg(n,e,t,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${a}`),f+=")"),new vt(Je.INVALID_ARGUMENT,c+n+f)}function RS(n,e){return n.some((t=>t.isEqual(e)))}class jP{convertValue(e,t="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw un(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return nc(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Kp].arrayValue?.values?.map((r=>vi(r.doubleValue)));return new Eo(t)}convertGeoPoint(e){return new al(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const t=Yu(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dr.fromString(e);fr(YA(r),9688,{name:e});const a=new Dd(r.get(1),r.get(3)),o=new Zt(r.popFirst(5));return a.isEqual(t)||Gl(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class IS extends jP{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function FP(...n){return new Ky("arrayUnion",n)}const xw="@firebase/firestore",Tw="4.11.0";class LS{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(of("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zP extends LS{data(){return super.data()}}function qP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class HP extends Wy{}function GP(n,e,...t){let r=[];e instanceof Wy&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof $y)).length,c=o.filter((f=>f instanceof Lg)).length;if(u>1||u>0&&c>0)throw new vt(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Lg extends HP{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lg(e,t,r)}_apply(e){const t=this._parse(e);return kS(e._query,t),new yf(e.firestore,e.converter,T2(e._query,t))}_parse(e){const t=Gy(e.firestore);return(function(o,u,c,f,d,g,w){let A;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new vt(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Rw(w,g);const M=[];for(const U of w)M.push(Cw(f,o,U));A={arrayValue:{values:M}}}else A=Cw(f,o,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Rw(w,g),A=VP(c,u,w,g==="in"||g==="not-in");return Ii.create(d,g,A)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KP(n,e,t){const r=e,a=of("where",n);return Lg._create(a,r,t)}class $y extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $y(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:So.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let u=a;const c=o.getFlattenedFilters();for(const f of c)kS(u,f),u=T2(u,f)})(e._query,t),new yf(e.firestore,e.converter,T2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cw(n,e,t){if(typeof(t=aa(t))=="string"){if(t==="")throw new vt(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SA(e)&&t.indexOf("/")!==-1)throw new vt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Dr.fromString(t));if(!Zt.isDocumentKey(r))throw new vt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q_(n,new Zt(r))}if(t instanceof Ei)return q_(n,t._key);throw new vt(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pg(t)}.`)}function Rw(n,e){if(!Array.isArray(n)||n.length===0)throw new vt(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kS(n,e){const t=(function(a,o){for(const u of a)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new vt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new vt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function YP(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class gd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xc extends LS{constructor(e,t,r,a,o,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(of("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(Je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xc._jsonSchemaVersion="firestore/documentSnapshot/1.0",xc._jsonSchema={type:Li("string",xc._jsonSchemaVersion),bundleSource:Li("string","DocumentSnapshot"),bundleName:Li("string"),bundle:Li("string")};class Tp extends xc{data(e={}){return super.data(e)}}class Yh{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new gd(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Tp(this._firestore,this._userDataWriter,r.key,r,new gd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((c=>{const f=new Tp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gd(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Tp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gd(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:WP(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(Je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=by.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un(61501,{type:n})}}Yh._jsonSchemaVersion="firestore/querySnapshot/1.0",Yh._jsonSchema={type:Li("string",Yh._jsonSchemaVersion),bundleSource:Li("string","QuerySnapshot"),bundleName:Li("string"),bundle:Li("string")};function PS(n){n=Kl(n,Ei);const e=Kl(n.firestore,nm),t=qy(e);return AP(t,n._key).then((r=>XP(e,n,r)))}function $P(n){n=Kl(n,yf);const e=Kl(n.firestore,nm),t=qy(e),r=new IS(e);return qP(n._query),SP(t,n._query).then((a=>new Yh(e,r,n,a)))}function DS(n,e,t){n=Kl(n,Ei);const r=Kl(n.firestore,nm),a=YP(n.converter,e),o=Gy(r);return MS(r,[DP(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,rl.none())])}function QP(n,e,t,...r){n=Kl(n,Ei);const a=Kl(n.firestore,nm),o=Gy(a);let u;return u=typeof(e=aa(e))=="string"||e instanceof Hy?UP(o,"updateDoc",n._key,e,t,r):OP(o,"updateDoc",n._key,e),MS(a,[u.toMutation(n._key,rl.exists(!0))])}function MS(n,e){const t=qy(n);return NP(t,e)}function XP(n,e,t){const r=t.docs.get(e._key),a=new IS(n);return new xc(n,a,e._key,r,new gd(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){NL(hf),Zh(new Rc("firestore",((r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new nm(new CL(r.getProvider("auth-internal")),new LL(u,r.getProvider("app-check-internal")),WL(u,a),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Fu(xw,Tw,e),Fu(xw,Tw,"esm2020")})();var JP="firebase",ZP="12.9.0";Fu(JP,ZP,"app");const eD={apiKey:"AIzaSyCma_WZRMBoFcChBdOcC9CG1zwlxCRwfJA",authDomain:"aptitude-building-platform.firebaseapp.com",projectId:"aptitude-building-platform",storageBucket:"aptitude-building-platform.firebasestorage.app",messagingSenderId:"717420768951",appId:"1:717420768951:web:930f22f6f3b78ca9d9a732",measurementId:"G-ZX4K1S9EHR"},OS=m3(eD),ap=AL(OS),lf=RP(OS),US=ye.createContext(),zc=()=>{const n=ye.useContext(US);if(!n)throw new Error("useAuth must be used within AuthProvider");return n},tD=({children:n})=>{const[e,t]=ye.useState(null),[r,a]=ye.useState(null),[o,u]=ye.useState(!0),c=async(A,b,M,U="Team Member")=>{const j=await oI(ap,A,b),B=j.user;return await DS(Ud(lf,"users",B.uid),{uid:B.uid,email:B.email,name:M,role:U,createdAt:new Date().toISOString(),projects:[]}),j},f=async(A,b)=>lI(ap,A,b),d=()=>fI(ap),g=async A=>{const b=await PS(Ud(lf,"users",A));b.exists()&&a(b.data())};ye.useEffect(()=>hI(ap,async b=>{t(b),b?await g(b.uid):a(null),u(!1)}),[]);const w={currentUser:e,userProfile:r,signup:c,login:f,logout:d,loading:o};return x.createElement(US.Provider,{value:w},!o&&n)};const VS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const nD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const rD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const Iw=n=>{const e=rD(n);return e.charAt(0).toUpperCase()+e.slice(1)};var iD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const sD=ye.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...c},f)=>ye.createElement("svg",{ref:f,...iD,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:VS("lucide",a),...!o&&!aD(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,g])=>ye.createElement(d,g)),...Array.isArray(o)?o:[o]]));const br=(n,e)=>{const t=ye.forwardRef(({className:r,...a},o)=>ye.createElement(sD,{ref:o,iconNode:e,className:VS(`lucide-${nD(Iw(n))}`,`lucide-${n}`,r),...a}));return t.displayName=Iw(n),t};const oD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lD=br("activity",oD);const uD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],p0=br("arrow-right",uD);const cD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],hD=br("bell",cD);const fD=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wh=br("building-2",fD);const dD=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],mD=br("building",dD);const pD=[["path",{d:"M17 19a1 1 0 0 1-1-1v-2a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2a1 1 0 0 1-1 1z",key:"trhst0"}],["path",{d:"M17 21v-2",key:"ds4u3f"}],["path",{d:"M19 14V6.5a1 1 0 0 0-7 0v11a1 1 0 0 1-7 0V10",key:"1mo9zo"}],["path",{d:"M21 21v-2",key:"eo0ou"}],["path",{d:"M3 5V3",key:"1k5hjh"}],["path",{d:"M4 10a2 2 0 0 1-2-2V6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2a2 2 0 0 1-2 2z",key:"1dd30t"}],["path",{d:"M7 5V3",key:"1t1388"}]],gD=br("cable",pD);const yD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Lw=br("chart-column",yD);const vD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bD=br("check",vD);const _D=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],BS=br("chevron-down",_D);const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jS=br("circle-alert",wD);const ED=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kw=br("clock",ED);const AD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Tc=br("external-link",AD);const SD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ND=br("eye",SD);const xD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],TD=br("file-text",xD);const CD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],RD=br("grid-3x3",CD);const ID=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LD=br("layers",ID);const kD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PD=br("lock",kD);const DD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MD=br("log-out",DD);const OD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pw=br("map-pin",OD);const UD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],VD=br("maximize-2",UD);const BD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Hu=br("package",BD);const jD=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1z",key:"1xoxul"}],["path",{d:"M9 8V2",key:"14iosj"}]],FD=br("plug",jD);const zD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dw=br("plus",zD);const qD=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Qy=br("qr-code",qD);const HD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],V2=br("search",HD);const GD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xy=br("settings",GD);const KD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],FS=br("user",KD);const YD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WD=br("users",YD);const $D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],QD=br("x",$D),XD=[{id:"digital-twin",name:"Digital Twin",icon:"Building2",path:"/projects/:projectId/digital-twin",description:"3D facility visualization powered by Autodesk Tandem"},{id:"asset-portal",name:"Asset Portal",icon:"Package",path:"/projects/:projectId/asset-portal",description:"Browse assets and test scan links"},{id:"qr-generator",name:"QR Generator",icon:"QrCode",path:"/projects/:projectId/qr-generator",description:"Create and print QR code sheets"},{id:"admin",name:"Admin",icon:"Settings",path:"/projects/:projectId/admin",description:"User and project settings"}],JD=[{id:"overview",name:"Overview"},{id:"visualization",name:"3D Visualization"},{id:"assets",name:"Assets"},{id:"analytics",name:"Analytics"}],Mw={name:"Aptitude Building Platform",tagline:"BUILDING PLATFORM"},ZD=[{id:"1",name:"Abbott MRI D",type:"Medical Imaging Facility",icon:"",status:"connected",assetCount:342,lastUpdated:"2 hours ago",facilityUrn:"urn:adsk:dtt:66d8Z0HpQGy1Zu7I8XWfFw",platform:"Autodesk Tandem"},{id:"2",name:"Corporate Headquarters",type:"Main Office Building",icon:"",status:"connected",assetCount:567,lastUpdated:"1 day ago",facilityUrn:"urn:adsk:dtt:abc123example",platform:"Autodesk Tandem"},{id:"3",name:"Manufacturing Plant A",type:"Production Facility",icon:"",status:"connected",assetCount:891,lastUpdated:"3 hours ago",facilityUrn:"urn:adsk:dtt:xyz789example",platform:"Autodesk Tandem"}],g0={name:"John Doe",email:"john.doe@aptitude.com",role:"Facility Manager"},eM={Building2:Wh,Package:Hu,QrCode:Qy,Settings:Xy},tM=()=>{const{projectId:n}=Vc(),e=t=>n?t.replace(":projectId",n):"#";return x.createElement("div",{className:"w-60 bg-aptitude-navy flex flex-col h-full"},x.createElement("div",{className:"px-5 py-6 border-b border-white/10"},x.createElement("h2",{className:"text-white text-xl font-bold mb-1"},Mw.name.split(" ")[0]),x.createElement("p",{className:"text-aptitude-cyan text-xs uppercase tracking-wider"},Mw.tagline)),x.createElement("div",{className:"px-5 pt-5 pb-4"},x.createElement("p",{className:"text-gray-400 text-xs uppercase tracking-wider"},"Modules")),x.createElement("nav",{className:"flex-1 px-2.5"},XD.map(t=>{const r=eM[t.icon],a=e(t.path);return x.createElement(t3,{key:t.id,to:a,className:({isActive:o})=>`
                flex items-center gap-3 px-4 py-3 mx-2 mb-1 rounded-lg
                transition-all duration-200
                ${o?"bg-aptitude-cyan text-aptitude-navy":"text-gray-300 hover:bg-aptitude-cyan/20 hover:text-white"}
              `},x.createElement(r,{className:"w-5 h-5 flex-shrink-0"}),x.createElement("span",{className:"font-medium text-sm"},t.name))})))},nM=async(n,e)=>{const t=Ud(AS(lf,"projects")),r=t.id,a={...n,id:r,createdBy:e,teamMembers:[e],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await DS(t,a);const o=Ud(lf,"users",e);return await QP(o,{projects:FP(r)}),{id:r,...a}},kg=async n=>{const e=Ud(lf,"projects",n),t=await PS(e);return t.exists()?{id:t.id,...t.data()}:null},zS=async n=>{const e=AS(lf,"projects"),t=GP(e,KP("teamMembers","array-contains",n)),r=await $P(t),a=[];return r.forEach(o=>{a.push({id:o.id,...o.data()})}),a},rM=()=>{const[n,e]=ye.useState(!1),[t,r]=ye.useState(""),[a,o]=ye.useState([]),u=ye.useRef(null),c=$l(),{projectId:f}=Vc(),{userProfile:d}=zc();ye.useEffect(()=>{(async()=>{if(d?.uid){const M=await zS(d.uid);o(M)}})()},[d]);const g=a.find(b=>b.id===f),w=a.filter(b=>b.name.toLowerCase().includes(t.toLowerCase())||b.type.toLowerCase().includes(t.toLowerCase()));ye.useEffect(()=>{const b=M=>{u.current&&!u.current.contains(M.target)&&e(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const A=b=>{c("/projects/"+b.id),e(!1),r("")};return x.createElement("div",{className:"relative",ref:u},x.createElement("button",{onClick:()=>e(!n),className:"flex items-center gap-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 hover:border-aptitude-cyan rounded-lg px-4 py-2 transition-all"},x.createElement("div",{className:"w-7 h-7 bg-gradient-to-br from-aptitude-cyan to-aptitude-cyan-dark rounded-md flex items-center justify-center text-white text-sm"},g?.icon||""),x.createElement("div",{className:"flex flex-col items-start"},x.createElement("span",{className:"text-[10px] text-gray-500 uppercase tracking-wide"},g?"Current Project":"No Project Selected"),x.createElement("span",{className:"text-sm font-semibold text-gray-900"},g?.name||"Select a project")),x.createElement(BS,{className:"w-4 h-4 text-gray-500 transition-transform "+(n?"rotate-180":"")})),n&&x.createElement("div",{className:"absolute top-full left-0 mt-2 w-96 bg-white border border-gray-200 rounded-xl shadow-xl z-50"},x.createElement("div",{className:"p-4 border-b border-gray-200"},x.createElement("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2.5"},"Switch Project"),x.createElement("div",{className:"relative"},x.createElement(V2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),x.createElement("input",{type:"text",placeholder:"Search projects...",value:t,onChange:b=>r(b.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-aptitude-cyan focus:border-transparent"}))),x.createElement("div",{className:"max-h-96 overflow-y-auto"},w.length===0?x.createElement("div",{className:"p-8 text-center text-gray-500"},"No projects found"):w.map(b=>x.createElement("button",{key:b.id,onClick:()=>A(b),className:"w-full flex items-center gap-3 px-5 py-3 hover:bg-gray-50 transition-colors "+(b.id===f?"bg-aptitude-cyan/10 border-l-4 border-aptitude-cyan":"border-l-4 border-transparent")},x.createElement("div",{className:"w-9 h-9 bg-gradient-to-br from-aptitude-cyan to-aptitude-cyan-dark rounded-lg flex items-center justify-center text-white flex-shrink-0"},b.icon),x.createElement("div",{className:"flex-1 text-left"},x.createElement("div",{className:"text-sm font-semibold text-gray-900"},b.name),x.createElement("div",{className:"text-xs text-gray-500"},b.type)),b.id===f&&x.createElement(bD,{className:"w-5 h-5 text-aptitude-cyan flex-shrink-0"})))),x.createElement("div",{className:"p-4 border-t border-gray-200"},x.createElement("button",{onClick:()=>{c("/"),e(!1)},className:"w-full py-2.5 bg-aptitude-cyan hover:bg-aptitude-cyan-dark text-aptitude-navy font-semibold rounded-lg transition-colors"},"+ Create New Project"))))},iM=()=>{const[n,e]=ye.useState(!1),{currentUser:t,userProfile:r,logout:a}=zc(),o=$l(),u=async()=>{try{await a(),o("/login")}catch(f){console.error("Logout error:",f)}},c=()=>r?.name?r.name.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):t?.email?.[0]?.toUpperCase()||"U";return x.createElement("div",{className:"h-15 bg-white border-b border-gray-200 px-8 flex items-center justify-between"},x.createElement(rM,null),x.createElement("div",{className:"relative"},x.createElement("button",{onClick:()=>e(!n),className:"w-9 h-9 rounded-full bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center text-white font-semibold text-sm hover:shadow-lg transition-shadow"},c()),n&&x.createElement(x.Fragment,null,x.createElement("div",{className:"fixed inset-0 z-40",onClick:()=>e(!1)}),x.createElement("div",{className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-xl shadow-xl z-50"},x.createElement("div",{className:"p-4 border-b border-gray-200"},x.createElement("div",{className:"font-semibold text-gray-900"},r?.name||"User"),x.createElement("div",{className:"text-sm text-gray-500"},t?.email),x.createElement("div",{className:"text-xs text-gray-400 mt-1"},r?.role||"Team Member")),x.createElement("div",{className:"p-2"},x.createElement("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors"},x.createElement(FS,{className:"w-4 h-4"}),"Profile Settings"),x.createElement("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors"},x.createElement(Xy,{className:"w-4 h-4"}),"Preferences")),x.createElement("div",{className:"p-2 border-t border-gray-200"},x.createElement("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors"},x.createElement(MD,{className:"w-4 h-4"}),"Sign Out"))))))},aM=()=>x.createElement("div",{className:"flex h-screen overflow-hidden bg-gray-50"},x.createElement(tM,null),x.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},x.createElement(iM,null),x.createElement("main",{className:"flex-1 overflow-y-auto p-8"},x.createElement(zT,null)))),sM=({children:n})=>{const{currentUser:e,loading:t}=zc();return t?x.createElement("div",{className:"flex items-center justify-center h-screen"},x.createElement("div",{className:"text-center"},x.createElement("div",{className:"text-aptitude-cyan text-2xl mb-4"},"Loading..."))):e?n:x.createElement(X4,{to:"/login"})},zl=({children:n,variant:e="primary",size:t="md",className:r="",disabled:a=!1,onClick:o,type:u="button",...c})=>{const f="inline-flex items-center justify-center rounded-lg font-semibold transition-smooth focus-ring disabled:opacity-50 disabled:cursor-not-allowed",d={primary:"bg-aptitude-cyan text-aptitude-navy hover:bg-aptitude-cyan-dark",secondary:"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200",outline:"bg-transparent text-aptitude-cyan border border-aptitude-cyan hover:bg-aptitude-cyan hover:text-aptitude-navy",ghost:"bg-transparent text-gray-700 hover:bg-gray-100",danger:"bg-red-500 text-white hover:bg-red-600"},g={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-6 py-3 text-lg"};return x.createElement("button",{type:u,className:`${f} ${d[e]} ${g[t]} ${r}`,disabled:a,onClick:o,...c},n)},Br=({children:n,className:e="",hover:t=!1,onClick:r,...a})=>{const o="bg-white rounded-xl border border-gray-200 shadow-sm",u=t?"cursor-pointer transition-smooth hover:border-aptitude-cyan hover:shadow-md hover:-translate-y-1":"";return x.createElement("div",{className:`${o} ${u} ${e}`,onClick:r,...a},n)},qa=({label:n,error:e,className:t="",type:r="text",required:a=!1,...o})=>x.createElement("div",{className:`${t}`},n&&x.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},n,a&&x.createElement("span",{className:"text-red-500 ml-1"},"*")),x.createElement("input",{type:r,className:`
          w-full px-4 py-2.5 rounded-lg border transition-smooth
          focus:outline-none focus:ring-2 focus:ring-aptitude-cyan focus:border-transparent
          ${e?"border-red-500":"border-gray-200"}
          disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
        `,...o}),e&&x.createElement("p",{className:"mt-1.5 text-sm text-red-500"},e)),oM=()=>{const[n,e]=ye.useState(""),[t,r]=ye.useState(""),[a,o]=ye.useState(""),[u,c]=ye.useState(!1),{login:f}=zc(),d=$l(),g=async w=>{w.preventDefault();try{o(""),c(!0),await f(n,t),d("/")}catch(A){console.error("Login error:",A),o("Failed to sign in. Please check your credentials.")}finally{c(!1)}};return x.createElement("div",{className:"flex items-center justify-center h-screen bg-gray-50"},x.createElement("div",{className:"w-full max-w-md"},x.createElement("div",{className:"bg-white rounded-xl shadow-md p-8"},x.createElement("div",{className:"text-center mb-8"},x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Aptitude"),x.createElement("p",{className:"text-aptitude-cyan text-xs uppercase tracking-wider"},"BUILDING PLATFORM")),x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center"},"Sign In"),a&&x.createElement("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4 text-sm"},a),x.createElement("form",{onSubmit:g,className:"space-y-4"},x.createElement(qa,{label:"Email Address",type:"email",value:n,onChange:w=>e(w.target.value),required:!0,placeholder:"you@company.com"}),x.createElement(qa,{label:"Password",type:"password",value:t,onChange:w=>r(w.target.value),required:!0,placeholder:""}),x.createElement(zl,{type:"submit",variant:"primary",className:"w-full",disabled:u},u?"Signing in...":"Sign In")),x.createElement("p",{className:"text-center text-sm text-gray-600 mt-6"},"Don't have an account?"," ",x.createElement(Zo,{to:"/signup",className:"text-aptitude-cyan font-semibold hover:text-aptitude-cyan-dark"},"Sign up")))))},lM=()=>{const[n,e]=ye.useState(""),[t,r]=ye.useState(""),[a,o]=ye.useState(""),[u,c]=ye.useState(""),[f,d]=ye.useState(""),[g,w]=ye.useState(!1),{signup:A}=zc(),b=$l(),M=async U=>{if(U.preventDefault(),a!==u)return d("Passwords do not match");if(a.length<6)return d("Password must be at least 6 characters");try{d(""),w(!0),await A(t,a,n),b("/")}catch(j){console.error("Signup error:",j),j.code==="auth/email-already-in-use"?d("Email already in use"):d("Failed to create account. Please try again.")}finally{w(!1)}};return x.createElement("div",{className:"flex items-center justify-center h-screen bg-gray-50"},x.createElement("div",{className:"w-full max-w-md"},x.createElement("div",{className:"bg-white rounded-xl shadow-md p-8"},x.createElement("div",{className:"text-center mb-8"},x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Aptitude"),x.createElement("p",{className:"text-aptitude-cyan text-xs uppercase tracking-wider"},"BUILDING PLATFORM")),x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center"},"Create Account"),f&&x.createElement("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4 text-sm"},f),x.createElement("form",{onSubmit:M,className:"space-y-4"},x.createElement(qa,{label:"Full Name",type:"text",value:n,onChange:U=>e(U.target.value),required:!0,placeholder:"John Doe"}),x.createElement(qa,{label:"Email Address",type:"email",value:t,onChange:U=>r(U.target.value),required:!0,placeholder:"you@company.com"}),x.createElement(qa,{label:"Password",type:"password",value:a,onChange:U=>o(U.target.value),required:!0,placeholder:""}),x.createElement(qa,{label:"Confirm Password",type:"password",value:u,onChange:U=>c(U.target.value),required:!0,placeholder:""}),x.createElement(zl,{type:"submit",variant:"primary",className:"w-full",disabled:g},g?"Creating account...":"Create Account")),x.createElement("p",{className:"text-center text-sm text-gray-600 mt-6"},"Already have an account?"," ",x.createElement(Zo,{to:"/login",className:"text-aptitude-cyan font-semibold hover:text-aptitude-cyan-dark"},"Sign in")))))},uM=({isOpen:n,onClose:e,onProjectCreated:t})=>{const[r,a]=ye.useState(""),[o,u]=ye.useState(""),[c,f]=ye.useState(""),[d,g]=ye.useState(""),[w,A]=ye.useState(!1),[b,M]=ye.useState(""),{currentUser:U}=zc(),j=["","","","","","","","","",""],B=async K=>{if(K.preventDefault(),!r||!o){M("Name and type are required");return}try{M(""),A(!0);const X=await nM({name:r,type:o,icon:d,facilityUrn:c||null,platform:"Autodesk Tandem",status:"connected",assetCount:0},U.uid);a(""),u(""),f(""),g(""),t(X),e()}catch(G){console.error("Error creating project:",G),M("Failed to create project. Please try again.")}finally{A(!1)}};return n?x.createElement("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50"},x.createElement("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg p-6"},x.createElement("div",{className:"flex items-center justify-between mb-6"},x.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Create New Project"),x.createElement("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors"},x.createElement(QD,{className:"w-6 h-6"}))),b&&x.createElement("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-4 text-sm"},b),x.createElement("form",{onSubmit:B,className:"space-y-4"},x.createElement(qa,{label:"Project Name",type:"text",value:r,onChange:K=>a(K.target.value),required:!0,placeholder:"Abbott MRI D"}),x.createElement(qa,{label:"Facility Type",type:"text",value:o,onChange:K=>u(K.target.value),required:!0,placeholder:"Medical Imaging Facility"}),x.createElement(qa,{label:"Tandem Facility URN (Optional)",type:"text",value:c,onChange:K=>f(K.target.value),placeholder:"urn:adsk:dtt:..."}),x.createElement("div",null,x.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},"Project Icon"),x.createElement("div",{className:"flex gap-2 flex-wrap"},j.map(K=>{const X=d===K?"bg-aptitude-cyan text-white":"bg-gray-100 hover:bg-gray-200";return x.createElement("button",{key:K,type:"button",onClick:()=>g(K),className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl transition-all "+X},K)}))),x.createElement("div",{className:"flex gap-3 pt-4"},x.createElement(zl,{type:"button",variant:"secondary",onClick:e,className:"flex-1"},"Cancel"),x.createElement(zl,{type:"submit",variant:"primary",disabled:w,className:"flex-1"},w?"Creating...":"Create Project"))))):null},cM=()=>{const n=$l(),{userProfile:e}=zc(),[t,r]=ye.useState([]),[a,o]=ye.useState(!0),[u,c]=ye.useState(!1),f=async()=>{try{if(o(!0),e?.uid){const A=await zS(e.uid);r(A)}}catch(A){console.error("Error fetching projects:",A)}finally{o(!1)}};ye.useEffect(()=>{f()},[e]);const d=A=>{n("/projects/"+A)},g=A=>{r([...t,A])},w={activeProjects:t.length,totalAssets:t.reduce((A,b)=>A+(b.assetCount||0),0),recentScans:0};return a?x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"text-aptitude-cyan text-xl"},"Loading projects...")):x.createElement("div",{className:"max-w-7xl mx-auto"},x.createElement("div",{className:"mb-8 flex items-center justify-between"},x.createElement("div",null,x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Welcome back, ",e?.name?.split(" ")[0]||"there","!"),x.createElement("p",{className:"text-gray-600"},"Here's what's happening with your facilities today.")),x.createElement(zl,{variant:"primary",onClick:()=>c(!0),className:"flex items-center gap-2"},x.createElement(Dw,{className:"w-5 h-5"}),"New Project")),x.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"},x.createElement(Br,{className:"p-6"},x.createElement("div",{className:"flex items-center gap-4"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center"},x.createElement(Hu,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("div",null,x.createElement("div",{className:"text-sm text-gray-500 uppercase tracking-wide mb-1"},"Active Projects"),x.createElement("div",{className:"text-3xl font-bold text-gray-900"},w.activeProjects)))),x.createElement(Br,{className:"p-6"},x.createElement("div",{className:"flex items-center gap-4"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center"},x.createElement(lD,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("div",null,x.createElement("div",{className:"text-sm text-gray-500 uppercase tracking-wide mb-1"},"Total Assets"),x.createElement("div",{className:"text-3xl font-bold text-gray-900"},w.totalAssets.toLocaleString())))),x.createElement(Br,{className:"p-6"},x.createElement("div",{className:"flex items-center gap-4"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center"},x.createElement(kw,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("div",null,x.createElement("div",{className:"text-sm text-gray-500 uppercase tracking-wide mb-1"},"Recent Scans"),x.createElement("div",{className:"text-3xl font-bold text-gray-900"},w.recentScans))))),x.createElement("div",null,x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Your Projects"),t.length===0?x.createElement(Br,{className:"p-12 text-center"},x.createElement(Hu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),x.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"No projects yet"),x.createElement("p",{className:"text-gray-600 mb-6"},"Create your first project to get started"),x.createElement(zl,{variant:"primary",onClick:()=>c(!0),className:"inline-flex items-center gap-2"},x.createElement(Dw,{className:"w-5 h-5"}),"Create Project")):x.createElement("div",{className:"space-y-4"},t.map(A=>x.createElement(Br,{key:A.id,hover:!0,onClick:()=>d(A.id),className:"p-6"},x.createElement("div",{className:"flex items-center gap-5"},x.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-aptitude-cyan to-aptitude-cyan-dark rounded-xl flex items-center justify-center text-white text-2xl flex-shrink-0"},A.icon),x.createElement("div",{className:"flex-1 min-w-0"},x.createElement("div",{className:"flex items-center gap-3 mb-1"},x.createElement("h3",{className:"text-lg font-semibold text-gray-900"},A.name),x.createElement("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-aptitude-cyan/10 text-aptitude-cyan rounded-full text-xs font-semibold"},x.createElement("span",{className:"w-2 h-2 bg-aptitude-cyan rounded-full"}),A.status)),x.createElement("p",{className:"text-sm text-gray-600"},A.type)),x.createElement("div",{className:"flex items-center gap-8 text-sm"},x.createElement("div",{className:"flex items-center gap-2"},x.createElement(Hu,{className:"w-4 h-4 text-gray-400"}),x.createElement("span",{className:"text-gray-600"},x.createElement("strong",{className:"text-gray-900"},A.assetCount||0)," assets")),x.createElement("div",{className:"flex items-center gap-2"},x.createElement(kw,{className:"w-4 h-4 text-gray-400"}),x.createElement("span",{className:"text-gray-600"},"Updated ",x.createElement("strong",{className:"text-gray-900"},new Date(A.updatedAt).toLocaleDateString()))))))))),x.createElement(uM,{isOpen:u,onClose:()=>c(!1),onProjectCreated:g}))},hM=()=>{const{projectId:n}=Vc(),e=$l(),[t,r]=ye.useState("overview"),[a,o]=ye.useState(null),[u,c]=ye.useState(!0);if(ye.useEffect(()=>{n&&(async()=>{try{c(!0);const w=await kg(n);o(w)}catch(w){console.error("Error fetching project:",w)}finally{c(!1)}})()},[n]),u)return x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"text-aptitude-cyan text-xl"},"Loading project..."));if(!a)return x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"text-center"},x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Project Not Found"),x.createElement("p",{className:"text-gray-600"},"The project you are looking for does not exist.")));const f=g=>{e("/projects/"+n+"/"+g)},d=a.facilityUrn?"https://tandem.autodesk.com/pages/facilities/"+a.facilityUrn:null;return x.createElement("div",{className:"max-w-7xl mx-auto"},x.createElement("div",{className:"bg-gradient-to-r from-aptitude-navy to-aptitude-navy-light rounded-xl p-8 mb-8 text-white"},x.createElement("h1",{className:"text-3xl font-bold mb-3"},a.name),x.createElement("p",{className:"text-gray-300 mb-6"},"3D facility visualization powered by ",a.platform),x.createElement("div",{className:"flex items-center gap-8 text-sm"},x.createElement("div",{className:"flex items-center gap-2"},x.createElement("span",{className:"text-gray-400 font-medium"},"Platform:"),x.createElement("span",null,a.platform)),x.createElement("div",{className:"flex items-center gap-2"},x.createElement("span",{className:"text-gray-400 font-medium"},"Status:"),x.createElement("span",{className:"inline-flex items-center gap-1.5"},x.createElement("span",{className:"w-2 h-2 bg-aptitude-cyan rounded-full"}),a.status)),x.createElement("div",{className:"flex items-center gap-2"},x.createElement("span",{className:"text-gray-400 font-medium"},"Last Sync:"),x.createElement("span",null,new Date(a.updatedAt).toLocaleDateString())))),x.createElement("div",{className:"border-b border-gray-200 mb-8"},x.createElement("div",{className:"flex gap-1"},JD.map(g=>{const A=t===g.id?"border-aptitude-cyan text-aptitude-cyan":"border-transparent text-gray-600 hover:text-gray-900";return x.createElement("button",{key:g.id,onClick:()=>r(g.id),className:"px-6 py-3 font-semibold text-sm border-b-2 transition-colors "+A},g.name)}))),t==="overview"&&x.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},x.createElement(Br,{hover:!0,onClick:()=>f("digital-twin"),className:"p-6"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center mb-4"},x.createElement(Tc,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Digital Twin"),x.createElement("p",{className:"text-sm text-gray-600"},"View 3D facility model with embedded Tandem viewer")),x.createElement(Br,{hover:!0,onClick:()=>f("asset-portal"),className:"p-6"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center mb-4"},x.createElement(Hu,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Asset Portal"),x.createElement("p",{className:"text-sm text-gray-600"},"Browse assets and test scan links for this facility")),x.createElement(Br,{hover:!0,onClick:()=>f("qr-generator"),className:"p-6"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center mb-4"},x.createElement(Qy,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"QR Generator"),x.createElement("p",{className:"text-sm text-gray-600"},"Create and print QR code sheets for asset tagging")),x.createElement(Br,{hover:!0,onClick:()=>f("admin"),className:"p-6"},x.createElement("div",{className:"w-12 h-12 bg-aptitude-cyan/10 rounded-xl flex items-center justify-center mb-4"},x.createElement(Lw,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"Settings"),x.createElement("p",{className:"text-sm text-gray-600"},"Manage project settings and team members"))),t==="visualization"&&x.createElement(Br,{className:"p-8"},x.createElement("div",{className:"text-center py-12"},x.createElement(Tc,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),x.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"3D Visualization"),x.createElement("p",{className:"text-gray-600 mb-6"},"Click Digital Twin in the sidebar to view the embedded Tandem viewer"),d&&x.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-aptitude-cyan hover:bg-aptitude-cyan-dark text-aptitude-navy font-semibold rounded-lg transition-colors"},x.createElement(Tc,{className:"w-5 h-5"}),"Open in Tandem"))),t==="assets"&&x.createElement(Br,{className:"p-8"},x.createElement("div",{className:"text-center py-12"},x.createElement(Hu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),x.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Assets"),x.createElement("p",{className:"text-gray-600"},"Asset list will be displayed here"))),t==="analytics"&&x.createElement(Br,{className:"p-8"},x.createElement("div",{className:"text-center py-12"},x.createElement(Lw,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),x.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Analytics"),x.createElement("p",{className:"text-gray-600"},"Analytics dashboard will be displayed here"))))},fM=()=>{const{projectId:n}=Vc(),[e]=r3(),[t,r]=ye.useState(null),[a,o]=ye.useState(!0),[u,c]=ye.useState("checking"),f=e.get("asset");if(ye.useEffect(()=>{n&&(async()=>{try{o(!0);const M=await kg(n);r(M)}catch(M){console.error("Error fetching project:",M)}finally{o(!1)}})()},[n]),ye.useEffect(()=>{(async()=>{try{(await fetch("http://localhost:3001/api/auth/token")).ok?c("connected"):c("error")}catch{c("error")}})()},[]),a)return x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"flex flex-col items-center gap-4"},x.createElement("div",{className:"w-12 h-12 border-4 border-aptitude-cyan border-t-transparent rounded-full animate-spin"}),x.createElement("div",{className:"text-aptitude-cyan text-xl font-semibold"},"Loading Digital Twin...")));if(!t)return x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"text-center"},x.createElement(Wh,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Project Not Found"),x.createElement("p",{className:"text-gray-600"},"The project you are looking for does not exist.")));const d=t.facilityUrn,g=d?d.split(":").pop():null,w=d?`https://tandem.autodesk.com/pages/facilities/${g}${f?`?asset=${encodeURIComponent(f)}`:""}`:null,A=()=>u==="checking"?x.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-50 border border-yellow-200 rounded-full text-xs"},x.createElement("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),x.createElement("span",{className:"text-yellow-700 font-medium"},"Checking...")):u==="connected"?x.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-50 border border-green-200 rounded-full text-xs"},x.createElement("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),x.createElement("span",{className:"text-green-700 font-medium"},"Connected")):x.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 border border-gray-300 rounded-full text-xs"},x.createElement("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),x.createElement("span",{className:"text-gray-600 font-medium"},"Offline"));return d?x.createElement("div",{className:"h-full flex flex-col overflow-y-auto"},x.createElement("div",{className:"mb-6"},x.createElement("div",{className:"flex items-start justify-between mb-6"},x.createElement("div",{className:"flex-1"},x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Digital Twin"),x.createElement("p",{className:"text-gray-600"},t.name||"Abbott MRI D"," - 3D Facility Visualization")),x.createElement(A,null)),f&&x.createElement("div",{className:"mb-6 p-4 bg-aptitude-cyan/10 border border-aptitude-cyan/20 rounded-lg"},x.createElement("div",{className:"flex items-start gap-3"},x.createElement(jS,{className:"w-5 h-5 text-aptitude-cyan flex-shrink-0 mt-0.5"}),x.createElement("div",{className:"flex-1"},x.createElement("h4",{className:"font-semibold text-gray-900 mb-1"}," QR Code Detected"),x.createElement("p",{className:"text-sm text-gray-600 mb-3"},"Viewing asset: ",x.createElement("span",{className:"font-mono text-aptitude-cyan font-semibold"},f)),x.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-aptitude-cyan hover:bg-aptitude-cyan-dark text-white text-sm font-semibold rounded-lg transition-colors"},x.createElement(Tc,{className:"w-4 h-4"}),"Open Asset in Tandem"))))),x.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6"},x.createElement(Br,{className:"lg:col-span-2 p-8 bg-gradient-to-br from-aptitude-navy via-aptitude-navy to-aptitude-navy/90 relative overflow-hidden"},x.createElement("div",{className:"absolute inset-0 opacity-5"},x.createElement("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})),x.createElement("div",{className:"relative"},x.createElement("div",{className:"mb-8"},x.createElement("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-aptitude-cyan/20 border border-aptitude-cyan/30 rounded-full mb-4"},x.createElement("div",{className:"w-2 h-2 bg-aptitude-cyan rounded-full animate-pulse"}),x.createElement("span",{className:"text-xs text-aptitude-cyan font-semibold uppercase tracking-wide"},"Ready to Launch")),x.createElement("h2",{className:"text-3xl font-bold text-white mb-2"},"3D Facility Viewer"),x.createElement("p",{className:"text-gray-300 text-lg"},"Access the full digital twin with 3D navigation, asset properties, and real-time data visualization.")),x.createElement("div",{className:"grid grid-cols-3 gap-4 mb-8 p-4 bg-white/5 backdrop-blur-sm rounded-lg border border-white/10"},x.createElement("div",null,x.createElement("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1"},"Facility"),x.createElement("div",{className:"text-white font-semibold"},t.name||"Abbott MRI D")),x.createElement("div",null,x.createElement("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1"},"Platform"),x.createElement("div",{className:"text-white font-semibold"},"Autodesk Tandem")),x.createElement("div",null,x.createElement("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1"},"URN"),x.createElement("div",{className:"text-aptitude-cyan font-mono text-sm truncate"},g))),x.createElement("div",{className:"flex flex-wrap gap-3"},x.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-aptitude-cyan hover:bg-aptitude-cyan-dark text-white font-semibold rounded-lg transition-all hover:shadow-lg hover:-translate-y-0.5"},x.createElement(VD,{className:"w-5 h-5"}),"Launch Full Screen"),x.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 text-white font-semibold rounded-lg transition-all border border-white/20 hover:border-white/30"},x.createElement(Tc,{className:"w-5 h-5"}),"Open in New Tab")))),x.createElement(Br,{className:"p-6"},x.createElement("div",{className:"flex items-start gap-3 mb-4"},x.createElement("div",{className:"w-10 h-10 rounded-lg bg-aptitude-cyan/10 flex items-center justify-center flex-shrink-0"},x.createElement(Wh,{className:"w-5 h-5 text-aptitude-cyan"})),x.createElement("div",null,x.createElement("h3",{className:"font-semibold text-gray-900 mb-1"},"About Digital Twins"),x.createElement("p",{className:"text-sm text-gray-600 leading-relaxed"},"A digital twin is a virtual replica of your physical facility, enabling real-time monitoring and data-driven decisions."))),x.createElement("div",{className:"space-y-3 pt-4 border-t border-gray-200"},x.createElement("div",{className:"flex items-center gap-2 text-sm"},x.createElement("div",{className:"w-1.5 h-1.5 rounded-full bg-aptitude-cyan"}),x.createElement("span",{className:"text-gray-700"},"3D facility navigation")),x.createElement("div",{className:"flex items-center gap-2 text-sm"},x.createElement("div",{className:"w-1.5 h-1.5 rounded-full bg-aptitude-cyan"}),x.createElement("span",{className:"text-gray-700"},"Asset property viewing")),x.createElement("div",{className:"flex items-center gap-2 text-sm"},x.createElement("div",{className:"w-1.5 h-1.5 rounded-full bg-aptitude-cyan"}),x.createElement("span",{className:"text-gray-700"},"Real-time data integration")),x.createElement("div",{className:"flex items-center gap-2 text-sm"},x.createElement("div",{className:"w-1.5 h-1.5 rounded-full bg-aptitude-cyan"}),x.createElement("span",{className:"text-gray-700"},"Model measurement tools"))))),x.createElement("div",null,x.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions"),x.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},x.createElement(Zo,{to:`/projects/${n}/asset-portal`,className:"group"},x.createElement(Br,{className:"p-6 h-full hover:shadow-md transition-all hover:-translate-y-1 border border-transparent hover:border-aptitude-cyan/20"},x.createElement("div",{className:"flex items-start gap-4"},x.createElement("div",{className:"w-12 h-12 rounded-lg bg-aptitude-cyan/10 flex items-center justify-center flex-shrink-0 group-hover:bg-aptitude-cyan/20 transition-colors"},x.createElement(Qy,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("div",{className:"flex-1"},x.createElement("h4",{className:"font-semibold text-gray-900 mb-1 group-hover:text-aptitude-cyan transition-colors"},"Asset Portal"),x.createElement("p",{className:"text-sm text-gray-600"},"Scan QR codes to view asset information"))))),x.createElement(Zo,{to:`/projects/${n}/qr-generator`,className:"group"},x.createElement(Br,{className:"p-6 h-full hover:shadow-md transition-all hover:-translate-y-1 border border-transparent hover:border-aptitude-cyan/20"},x.createElement("div",{className:"flex items-start gap-4"},x.createElement("div",{className:"w-12 h-12 rounded-lg bg-aptitude-cyan/10 flex items-center justify-center flex-shrink-0 group-hover:bg-aptitude-cyan/20 transition-colors"},x.createElement(RD,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("div",{className:"flex-1"},x.createElement("h4",{className:"font-semibold text-gray-900 mb-1 group-hover:text-aptitude-cyan transition-colors"},"QR Generator"),x.createElement("p",{className:"text-sm text-gray-600"},"Create QR codes for facility assets"))))),x.createElement("a",{href:"https://help.autodesk.com/view/TANDEM/ENU/",target:"_blank",rel:"noopener noreferrer",className:"group"},x.createElement(Br,{className:"p-6 h-full hover:shadow-md transition-all hover:-translate-y-1 border border-transparent hover:border-aptitude-cyan/20"},x.createElement("div",{className:"flex items-start gap-4"},x.createElement("div",{className:"w-12 h-12 rounded-lg bg-aptitude-cyan/10 flex items-center justify-center flex-shrink-0 group-hover:bg-aptitude-cyan/20 transition-colors"},x.createElement(Tc,{className:"w-6 h-6 text-aptitude-cyan"})),x.createElement("div",{className:"flex-1"},x.createElement("h4",{className:"font-semibold text-gray-900 mb-1 group-hover:text-aptitude-cyan transition-colors"},"Help Center"),x.createElement("p",{className:"text-sm text-gray-600"},"Tandem documentation and guides")))))))):x.createElement("div",{className:"h-full flex flex-col"},x.createElement("div",{className:"mb-6"},x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Digital Twin"),x.createElement("p",{className:"text-gray-600"},t.name||"Facility")),x.createElement(Br,{className:"flex-1 flex items-center justify-center"},x.createElement("div",{className:"text-center max-w-lg"},x.createElement(Wh,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),x.createElement("h3",{className:"text-2xl font-semibold text-gray-900 mb-3"},"No Tandem URN Configured"),x.createElement("p",{className:"text-gray-600 mb-6"},"This project does not have a Tandem facility URN configured. Add one in the project settings to view the 3D model."),x.createElement(Zo,{to:`/projects/${n}/admin`,className:"inline-flex items-center gap-2 px-6 py-3 bg-aptitude-cyan hover:bg-aptitude-cyan-dark text-white font-semibold rounded-lg transition-colors"},x.createElement(Xy,{className:"w-5 h-5"}),"Go to Settings"))))},dM=()=>{const{projectId:n}=Vc(),[e]=r3(),[t,r]=ye.useState(null),[a,o]=ye.useState([]),[u,c]=ye.useState(!0),[f,d]=ye.useState(""),[g,w]=ye.useState("all"),[A,b]=ye.useState("all"),M=e.get("asset"),U=a.find(G=>G.assetId===M);ye.useEffect(()=>{(async()=>{try{c(!0);const X=await kg(n);r(X);const me=await fetch("/data/assets.json");if(!me.ok)throw new Error("Failed to load assets");const fe=await me.json();o(fe.assets||[])}catch(X){console.error("Error loading data:",X)}finally{c(!1)}})()},[n]);const j=["all",...new Set(a.map(G=>G.category).filter(Boolean))],B=["all",...new Set(a.map(G=>G.level).filter(Boolean))],K=a.filter(G=>{const X=G.assetId?.toLowerCase().includes(f.toLowerCase())||G.category?.toLowerCase().includes(f.toLowerCase())||G.level?.toLowerCase().includes(f.toLowerCase())||G.room?.toLowerCase().includes(f.toLowerCase()),me=g==="all"||G.category===g,fe=A==="all"||G.level===A;return X&&me&&fe});return u?x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"flex flex-col items-center gap-4"},x.createElement("div",{className:"w-12 h-12 border-4 border-aptitude-cyan border-t-transparent rounded-full animate-spin"}),x.createElement("div",{className:"text-aptitude-cyan text-xl font-semibold"},"Loading Assets..."))):M&&U?x.createElement("div",{className:"max-w-4xl mx-auto"},x.createElement(Zo,{to:`/projects/${n}/asset-portal`,className:"inline-flex items-center gap-2 text-gray-600 hover:text-aptitude-cyan mb-6 transition-colors"}," Back to Asset Portal"),x.createElement(Br,{className:"p-8 mb-6"},x.createElement("div",{className:"flex items-start justify-between mb-6"},x.createElement("div",{className:"flex items-start gap-4"},x.createElement("div",{className:"w-14 h-14 rounded-xl bg-aptitude-cyan/10 flex items-center justify-center flex-shrink-0"},x.createElement(Hu,{className:"w-7 h-7 text-aptitude-cyan"})),x.createElement("div",null,x.createElement("div",{className:"text-sm text-gray-500 mb-1"},"Asset ID"),x.createElement("h1",{className:"text-3xl font-bold text-gray-900"},U.assetId))),x.createElement("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-50 border border-green-200 rounded-full"},x.createElement("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),x.createElement("span",{className:"text-xs text-green-700 font-medium"},"Active"))),x.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 p-6 bg-gray-50 rounded-lg"},x.createElement("div",null,x.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2"},x.createElement(LD,{className:"w-4 h-4"}),"Category"),x.createElement("div",{className:"text-lg font-semibold text-gray-900"},U.category||"N/A")),x.createElement("div",null,x.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2"},x.createElement(Wh,{className:"w-4 h-4"}),"Level"),x.createElement("div",{className:"text-lg font-semibold text-gray-900"},U.level||"N/A")),x.createElement("div",null,x.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2"},x.createElement(Pw,{className:"w-4 h-4"}),"Room"),x.createElement("div",{className:"text-lg font-semibold text-gray-900"},U.room||"N/A"))),x.createElement("div",{className:"p-4 bg-aptitude-cyan/5 border border-aptitude-cyan/20 rounded-lg mb-6"},x.createElement("div",{className:"flex items-start gap-3"},x.createElement(jS,{className:"w-5 h-5 text-aptitude-cyan flex-shrink-0 mt-0.5"}),x.createElement("div",null,x.createElement("h4",{className:"font-semibold text-gray-900 mb-1"},"QR Code Scanned"),x.createElement("p",{className:"text-sm text-gray-600"},"This asset was accessed via QR code scan. Use the button below to view it in the 3D Digital Twin.")))),x.createElement("div",{className:"flex gap-3"},x.createElement(Zo,{to:`/projects/${n}/digital-twin?asset=${U.assetId}`,className:"inline-flex items-center gap-2 px-6 py-3 bg-aptitude-cyan hover:bg-aptitude-cyan-dark text-white font-semibold rounded-lg transition-colors"},x.createElement(ND,{className:"w-5 h-5"}),"View in Digital Twin"),U.assetUrl&&x.createElement("a",{href:U.assetUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-lg transition-colors"},x.createElement(Tc,{className:"w-5 h-5"}),"Open in Tandem"))),x.createElement(Br,{className:"p-6 bg-gradient-to-br from-aptitude-navy to-aptitude-navy/90"},x.createElement("h3",{className:"text-white font-semibold mb-4"},"Next Steps"),x.createElement("div",{className:"space-y-3"},x.createElement("div",{className:"flex items-start gap-3 text-sm text-gray-300"},x.createElement(p0,{className:"w-4 h-4 flex-shrink-0 mt-0.5 text-aptitude-cyan"}),x.createElement("span",null,"View the asset in the 3D facility model for spatial context")),x.createElement("div",{className:"flex items-start gap-3 text-sm text-gray-300"},x.createElement(p0,{className:"w-4 h-4 flex-shrink-0 mt-0.5 text-aptitude-cyan"}),x.createElement("span",null,"Access real-time data and properties in Autodesk Tandem")),x.createElement("div",{className:"flex items-start gap-3 text-sm text-gray-300"},x.createElement(p0,{className:"w-4 h-4 flex-shrink-0 mt-0.5 text-aptitude-cyan"}),x.createElement("span",null,"Create maintenance work orders linked to this asset"))))):x.createElement("div",null,x.createElement("div",{className:"mb-6"},x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"Asset Portal"),x.createElement("p",{className:"text-gray-600"},t?.name||"Facility"," - Browse and search facility assets")),x.createElement(Br,{className:"p-6 mb-6"},x.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},x.createElement("div",{className:"md:col-span-2"},x.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Search Assets"),x.createElement("div",{className:"relative"},x.createElement(V2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),x.createElement("input",{type:"text",value:f,onChange:G=>d(G.target.value),placeholder:"Search by ID, category, level, or room...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-aptitude-cyan focus:border-transparent"}))),x.createElement("div",null,x.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Category"),x.createElement("select",{value:g,onChange:G=>w(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-aptitude-cyan focus:border-transparent"},j.map(G=>x.createElement("option",{key:G,value:G},G==="all"?"All Categories":G)))),x.createElement("div",null,x.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Level"),x.createElement("select",{value:A,onChange:G=>b(G.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-aptitude-cyan focus:border-transparent"},B.map(G=>x.createElement("option",{key:G,value:G},G==="all"?"All Levels":G))))),x.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},x.createElement("p",{className:"text-sm text-gray-600"},"Showing ",x.createElement("span",{className:"font-semibold text-gray-900"},K.length)," of"," ",x.createElement("span",{className:"font-semibold text-gray-900"},a.length)," assets"))),K.length>0?x.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},K.map(G=>x.createElement(Zo,{key:G.assetId,to:`/projects/${n}/asset-portal?asset=${G.assetId}`,className:"group"},x.createElement(Br,{className:"p-5 h-full hover:shadow-md transition-all hover:-translate-y-1 border border-transparent hover:border-aptitude-cyan/20"},x.createElement("div",{className:"flex items-start gap-3 mb-4"},x.createElement("div",{className:"w-10 h-10 rounded-lg bg-aptitude-cyan/10 flex items-center justify-center flex-shrink-0 group-hover:bg-aptitude-cyan/20 transition-colors"},x.createElement(Hu,{className:"w-5 h-5 text-aptitude-cyan"})),x.createElement("div",{className:"flex-1 min-w-0"},x.createElement("h3",{className:"font-semibold text-gray-900 group-hover:text-aptitude-cyan transition-colors truncate"},G.assetId),x.createElement("p",{className:"text-sm text-gray-500 truncate"},G.category||"No category"))),x.createElement("div",{className:"space-y-2 text-sm"},x.createElement("div",{className:"flex items-center gap-2 text-gray-600"},x.createElement(Wh,{className:"w-4 h-4 flex-shrink-0"}),x.createElement("span",{className:"truncate"},G.level||"Unknown level")),x.createElement("div",{className:"flex items-center gap-2 text-gray-600"},x.createElement(Pw,{className:"w-4 h-4 flex-shrink-0"}),x.createElement("span",{className:"truncate"},G.room||"No room specified"))),x.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},x.createElement("span",{className:"text-sm text-aptitude-cyan font-medium group-hover:underline"},"View Details ")))))):x.createElement(Br,{className:"p-12"},x.createElement("div",{className:"text-center"},x.createElement(V2,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),x.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"No Assets Found"),x.createElement("p",{className:"text-gray-600 max-w-md mx-auto"},"No assets match your current filters. Try adjusting your search criteria."))))},mM="modulepreload",pM=function(n){return"/app/"+n},Ow={},Cp=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=pM(d),d in Ow)return;Ow[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":mM,g||(A.as="script"),A.crossOrigin="",A.href=d,c&&A.setAttribute("nonce",c),document.head.appendChild(A),g)return new Promise((b,M)=>{A.addEventListener("load",b),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var Th={},y0,Uw;function gM(){return Uw||(Uw=1,y0=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),y0}var v0={},Tu={},Vw;function qc(){if(Vw)return Tu;Vw=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Tu.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Tu.getSymbolTotalCodewords=function(r){return e[r]},Tu.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Tu.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Tu.isKanjiModeEnabled=function(){return typeof n<"u"},Tu.toSJIS=function(r){return n(r)},Tu}var b0={},Bw;function Jy(){return Bw||(Bw=1,(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,a){if(n.isValid(r))return r;try{return e(r)}catch{return a}}})(b0)),b0}var _0,jw;function yM(){if(jw)return _0;jw=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},_0=n,_0}var w0,Fw;function vM(){if(Fw)return w0;Fw=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,a){const o=e*this.size+t;this.data[o]=r,a&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},w0=n,w0}var E0={},zw;function bM(){return zw||(zw=1,(function(n){const e=qc().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,o=e(r),u=o===145?26:Math.ceil((o-13)/(2*a-2))*2,c=[o-7];for(let f=1;f<a-1;f++)c[f]=c[f-1]-u;return c.push(6),c.reverse()},n.getPositions=function(r){const a=[],o=n.getRowColCoords(r),u=o.length;for(let c=0;c<u;c++)for(let f=0;f<u;f++)c===0&&f===0||c===0&&f===u-1||c===u-1&&f===0||a.push([o[c],o[f]]);return a}})(E0)),E0}var A0={},qw;function _M(){if(qw)return A0;qw=1;const n=qc().getSymbolSize,e=7;return A0.getPositions=function(r){const a=n(r);return[[0,0],[a-e,0],[0,a-e]]},A0}var S0={},Hw;function wM(){return Hw||(Hw=1,(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},n.from=function(a){return n.isValid(a)?parseInt(a,10):void 0},n.getPenaltyN1=function(a){const o=a.size;let u=0,c=0,f=0,d=null,g=null;for(let w=0;w<o;w++){c=f=0,d=g=null;for(let A=0;A<o;A++){let b=a.get(w,A);b===d?c++:(c>=5&&(u+=e.N1+(c-5)),d=b,c=1),b=a.get(A,w),b===g?f++:(f>=5&&(u+=e.N1+(f-5)),g=b,f=1)}c>=5&&(u+=e.N1+(c-5)),f>=5&&(u+=e.N1+(f-5))}return u},n.getPenaltyN2=function(a){const o=a.size;let u=0;for(let c=0;c<o-1;c++)for(let f=0;f<o-1;f++){const d=a.get(c,f)+a.get(c,f+1)+a.get(c+1,f)+a.get(c+1,f+1);(d===4||d===0)&&u++}return u*e.N2},n.getPenaltyN3=function(a){const o=a.size;let u=0,c=0,f=0;for(let d=0;d<o;d++){c=f=0;for(let g=0;g<o;g++)c=c<<1&2047|a.get(d,g),g>=10&&(c===1488||c===93)&&u++,f=f<<1&2047|a.get(g,d),g>=10&&(f===1488||f===93)&&u++}return u*e.N3},n.getPenaltyN4=function(a){let o=0;const u=a.data.length;for(let f=0;f<u;f++)o+=a.data[f];return Math.abs(Math.ceil(o*100/u/5)-10)*e.N4};function t(r,a,o){switch(r){case n.Patterns.PATTERN000:return(a+o)%2===0;case n.Patterns.PATTERN001:return a%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(a+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return a*o%2+a*o%3===0;case n.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case n.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(a,o){const u=o.size;for(let c=0;c<u;c++)for(let f=0;f<u;f++)o.isReserved(f,c)||o.xor(f,c,t(a,f,c))},n.getBestMask=function(a,o){const u=Object.keys(n.Patterns).length;let c=0,f=1/0;for(let d=0;d<u;d++){o(d),n.applyMask(d,a);const g=n.getPenaltyN1(a)+n.getPenaltyN2(a)+n.getPenaltyN3(a)+n.getPenaltyN4(a);n.applyMask(d,a),g<f&&(f=g,c=d)}return c}})(S0)),S0}var sp={},Gw;function qS(){if(Gw)return sp;Gw=1;const n=Jy(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return sp.getBlocksCount=function(a,o){switch(o){case n.L:return e[(a-1)*4+0];case n.M:return e[(a-1)*4+1];case n.Q:return e[(a-1)*4+2];case n.H:return e[(a-1)*4+3];default:return}},sp.getTotalCodewordsCount=function(a,o){switch(o){case n.L:return t[(a-1)*4+0];case n.M:return t[(a-1)*4+1];case n.Q:return t[(a-1)*4+2];case n.H:return t[(a-1)*4+3];default:return}},sp}var N0={},sd={},Kw;function EM(){if(Kw)return sd;Kw=1;const n=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let a=0;a<255;a++)n[a]=r,e[r]=a,r<<=1,r&256&&(r^=285);for(let a=255;a<512;a++)n[a]=n[a-255]})(),sd.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},sd.exp=function(r){return n[r]},sd.mul=function(r,a){return r===0||a===0?0:n[e[r]+e[a]]},sd}var Yw;function AM(){return Yw||(Yw=1,(function(n){const e=EM();n.mul=function(r,a){const o=new Uint8Array(r.length+a.length-1);for(let u=0;u<r.length;u++)for(let c=0;c<a.length;c++)o[u+c]^=e.mul(r[u],a[c]);return o},n.mod=function(r,a){let o=new Uint8Array(r);for(;o.length-a.length>=0;){const u=o[0];for(let f=0;f<a.length;f++)o[f]^=e.mul(a[f],u);let c=0;for(;c<o.length&&o[c]===0;)c++;o=o.slice(c)}return o},n.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let o=0;o<r;o++)a=n.mul(a,new Uint8Array([1,e.exp(o)]));return a}})(N0)),N0}var x0,Ww;function SM(){if(Ww)return x0;Ww=1;const n=AM();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(r.length+this.degree);a.set(r);const o=n.mod(a,this.genPoly),u=this.degree-o.length;if(u>0){const c=new Uint8Array(this.degree);return c.set(o,u),c}return o},x0=e,x0}var T0={},C0={},R0={},$w;function HS(){return $w||($w=1,R0.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),R0}var Yo={},Qw;function GS(){if(Qw)return Yo;Qw=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Yo.KANJI=new RegExp(t,"g"),Yo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Yo.BYTE=new RegExp(r,"g"),Yo.NUMERIC=new RegExp(n,"g"),Yo.ALPHANUMERIC=new RegExp(e,"g");const a=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Yo.testKanji=function(f){return a.test(f)},Yo.testNumeric=function(f){return o.test(f)},Yo.testAlphanumeric=function(f){return u.test(f)},Yo}var Xw;function Hc(){return Xw||(Xw=1,(function(n){const e=HS(),t=GS();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+a)}}n.from=function(o,u){if(n.isValid(o))return o;try{return r(o)}catch{return u}}})(C0)),C0}var Jw;function NM(){return Jw||(Jw=1,(function(n){const e=qc(),t=qS(),r=Jy(),a=Hc(),o=HS(),u=7973,c=e.getBCHDigit(u);function f(A,b,M){for(let U=1;U<=40;U++)if(b<=n.getCapacity(U,M,A))return U}function d(A,b){return a.getCharCountIndicator(A,b)+4}function g(A,b){let M=0;return A.forEach(function(U){const j=d(U.mode,b);M+=j+U.getBitsLength()}),M}function w(A,b){for(let M=1;M<=40;M++)if(g(A,M)<=n.getCapacity(M,b,a.MIXED))return M}n.from=function(b,M){return o.isValid(b)?parseInt(b,10):M},n.getCapacity=function(b,M,U){if(!o.isValid(b))throw new Error("Invalid QR Code version");typeof U>"u"&&(U=a.BYTE);const j=e.getSymbolTotalCodewords(b),B=t.getTotalCodewordsCount(b,M),K=(j-B)*8;if(U===a.MIXED)return K;const G=K-d(U,b);switch(U){case a.NUMERIC:return Math.floor(G/10*3);case a.ALPHANUMERIC:return Math.floor(G/11*2);case a.KANJI:return Math.floor(G/13);case a.BYTE:default:return Math.floor(G/8)}},n.getBestVersionForData=function(b,M){let U;const j=r.from(M,r.M);if(Array.isArray(b)){if(b.length>1)return w(b,j);if(b.length===0)return 1;U=b[0]}else U=b;return f(U.mode,U.getLength(),j)},n.getEncodedBits=function(b){if(!o.isValid(b)||b<7)throw new Error("Invalid QR Code version");let M=b<<12;for(;e.getBCHDigit(M)-c>=0;)M^=u<<e.getBCHDigit(M)-c;return b<<12|M}})(T0)),T0}var I0={},Zw;function xM(){if(Zw)return I0;Zw=1;const n=qc(),e=1335,t=21522,r=n.getBCHDigit(e);return I0.getEncodedBits=function(o,u){const c=o.bit<<3|u;let f=c<<10;for(;n.getBCHDigit(f)-r>=0;)f^=e<<n.getBCHDigit(f)-r;return(c<<10|f)^t},I0}var L0={},k0,eE;function TM(){if(eE)return k0;eE=1;const n=Hc();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let a,o,u;for(a=0;a+3<=this.data.length;a+=3)o=this.data.substr(a,3),u=parseInt(o,10),r.put(u,10);const c=this.data.length-a;c>0&&(o=this.data.substr(a),u=parseInt(o,10),r.put(u,c*3+1))},k0=e,k0}var P0,tE;function CM(){if(tE)return P0;tE=1;const n=Hc(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let o;for(o=0;o+2<=this.data.length;o+=2){let u=e.indexOf(this.data[o])*45;u+=e.indexOf(this.data[o+1]),a.put(u,11)}this.data.length%2&&a.put(e.indexOf(this.data[o]),6)},P0=t,P0}var D0,nE;function RM(){if(nE)return D0;nE=1;const n=Hc();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,a=this.data.length;r<a;r++)t.put(this.data[r],8)},D0=e,D0}var M0,rE;function IM(){if(rE)return M0;rE=1;const n=Hc(),e=qc();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(a){return a*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let a;for(a=0;a<this.data.length;a++){let o=e.toSJIS(this.data[a]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},M0=t,M0}var O0={exports:{}},iE;function LM(){return iE||(iE=1,(function(n){var e={single_source_shortest_paths:function(t,r,a){var o={},u={};u[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var f,d,g,w,A,b,M,U,j;!c.empty();){f=c.pop(),d=f.value,w=f.cost,A=t[d]||{};for(g in A)A.hasOwnProperty(g)&&(b=A[g],M=w+b,U=u[g],j=typeof u[g]>"u",(j||U>M)&&(u[g]=M,c.push(g,M),o[g]=d))}if(typeof a<"u"&&typeof u[a]>"u"){var B=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(B)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var a=[],o=r;o;)a.push(o),t[o],o=t[o];return a.reverse(),a},find_path:function(t,r,a){var o=e.single_source_shortest_paths(t,r,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,a={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);return a.queue=[],a.sorter=t.sorter||r.default_sorter,a},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var a={value:t,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(O0)),O0.exports}var aE;function kM(){return aE||(aE=1,(function(n){const e=Hc(),t=TM(),r=CM(),a=RM(),o=IM(),u=GS(),c=qc(),f=LM();function d(B){return unescape(encodeURIComponent(B)).length}function g(B,K,G){const X=[];let me;for(;(me=B.exec(G))!==null;)X.push({data:me[0],index:me.index,mode:K,length:me[0].length});return X}function w(B){const K=g(u.NUMERIC,e.NUMERIC,B),G=g(u.ALPHANUMERIC,e.ALPHANUMERIC,B);let X,me;return c.isKanjiModeEnabled()?(X=g(u.BYTE,e.BYTE,B),me=g(u.KANJI,e.KANJI,B)):(X=g(u.BYTE_KANJI,e.BYTE,B),me=[]),K.concat(G,X,me).sort(function(I,k){return I.index-k.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function A(B,K){switch(K){case e.NUMERIC:return t.getBitsLength(B);case e.ALPHANUMERIC:return r.getBitsLength(B);case e.KANJI:return o.getBitsLength(B);case e.BYTE:return a.getBitsLength(B)}}function b(B){return B.reduce(function(K,G){const X=K.length-1>=0?K[K.length-1]:null;return X&&X.mode===G.mode?(K[K.length-1].data+=G.data,K):(K.push(G),K)},[])}function M(B){const K=[];for(let G=0;G<B.length;G++){const X=B[G];switch(X.mode){case e.NUMERIC:K.push([X,{data:X.data,mode:e.ALPHANUMERIC,length:X.length},{data:X.data,mode:e.BYTE,length:X.length}]);break;case e.ALPHANUMERIC:K.push([X,{data:X.data,mode:e.BYTE,length:X.length}]);break;case e.KANJI:K.push([X,{data:X.data,mode:e.BYTE,length:d(X.data)}]);break;case e.BYTE:K.push([{data:X.data,mode:e.BYTE,length:d(X.data)}])}}return K}function U(B,K){const G={},X={start:{}};let me=["start"];for(let fe=0;fe<B.length;fe++){const I=B[fe],k=[];for(let C=0;C<I.length;C++){const F=I[C],T=""+fe+C;k.push(T),G[T]={node:F,lastCount:0},X[T]={};for(let L=0;L<me.length;L++){const D=me[L];G[D]&&G[D].node.mode===F.mode?(X[D][T]=A(G[D].lastCount+F.length,F.mode)-A(G[D].lastCount,F.mode),G[D].lastCount+=F.length):(G[D]&&(G[D].lastCount=F.length),X[D][T]=A(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,K))}}me=k}for(let fe=0;fe<me.length;fe++)X[me[fe]].end=0;return{map:X,table:G}}function j(B,K){let G;const X=e.getBestModeForData(B);if(G=e.from(K,X),G!==e.BYTE&&G.bit<X.bit)throw new Error('"'+B+'" cannot be encoded with mode '+e.toString(G)+`.
 Suggested mode is: `+e.toString(X));switch(G===e.KANJI&&!c.isKanjiModeEnabled()&&(G=e.BYTE),G){case e.NUMERIC:return new t(B);case e.ALPHANUMERIC:return new r(B);case e.KANJI:return new o(B);case e.BYTE:return new a(B)}}n.fromArray=function(K){return K.reduce(function(G,X){return typeof X=="string"?G.push(j(X,null)):X.data&&G.push(j(X.data,X.mode)),G},[])},n.fromString=function(K,G){const X=w(K,c.isKanjiModeEnabled()),me=M(X),fe=U(me,G),I=f.find_path(fe.map,"start","end"),k=[];for(let C=1;C<I.length-1;C++)k.push(fe.table[I[C]].node);return n.fromArray(b(k))},n.rawSplit=function(K){return n.fromArray(w(K,c.isKanjiModeEnabled()))}})(L0)),L0}var sE;function PM(){if(sE)return v0;sE=1;const n=qc(),e=Jy(),t=yM(),r=vM(),a=bM(),o=_M(),u=wM(),c=qS(),f=SM(),d=NM(),g=xM(),w=Hc(),A=kM();function b(fe,I){const k=fe.size,C=o.getPositions(I);for(let F=0;F<C.length;F++){const T=C[F][0],L=C[F][1];for(let D=-1;D<=7;D++)if(!(T+D<=-1||k<=T+D))for(let ne=-1;ne<=7;ne++)L+ne<=-1||k<=L+ne||(D>=0&&D<=6&&(ne===0||ne===6)||ne>=0&&ne<=6&&(D===0||D===6)||D>=2&&D<=4&&ne>=2&&ne<=4?fe.set(T+D,L+ne,!0,!0):fe.set(T+D,L+ne,!1,!0))}}function M(fe){const I=fe.size;for(let k=8;k<I-8;k++){const C=k%2===0;fe.set(k,6,C,!0),fe.set(6,k,C,!0)}}function U(fe,I){const k=a.getPositions(I);for(let C=0;C<k.length;C++){const F=k[C][0],T=k[C][1];for(let L=-2;L<=2;L++)for(let D=-2;D<=2;D++)L===-2||L===2||D===-2||D===2||L===0&&D===0?fe.set(F+L,T+D,!0,!0):fe.set(F+L,T+D,!1,!0)}}function j(fe,I){const k=fe.size,C=d.getEncodedBits(I);let F,T,L;for(let D=0;D<18;D++)F=Math.floor(D/3),T=D%3+k-8-3,L=(C>>D&1)===1,fe.set(F,T,L,!0),fe.set(T,F,L,!0)}function B(fe,I,k){const C=fe.size,F=g.getEncodedBits(I,k);let T,L;for(T=0;T<15;T++)L=(F>>T&1)===1,T<6?fe.set(T,8,L,!0):T<8?fe.set(T+1,8,L,!0):fe.set(C-15+T,8,L,!0),T<8?fe.set(8,C-T-1,L,!0):T<9?fe.set(8,15-T-1+1,L,!0):fe.set(8,15-T-1,L,!0);fe.set(C-8,8,1,!0)}function K(fe,I){const k=fe.size;let C=-1,F=k-1,T=7,L=0;for(let D=k-1;D>0;D-=2)for(D===6&&D--;;){for(let ne=0;ne<2;ne++)if(!fe.isReserved(F,D-ne)){let Ee=!1;L<I.length&&(Ee=(I[L]>>>T&1)===1),fe.set(F,D-ne,Ee),T--,T===-1&&(L++,T=7)}if(F+=C,F<0||k<=F){F-=C,C=-C;break}}}function G(fe,I,k){const C=new t;k.forEach(function(ne){C.put(ne.mode.bit,4),C.put(ne.getLength(),w.getCharCountIndicator(ne.mode,fe)),ne.write(C)});const F=n.getSymbolTotalCodewords(fe),T=c.getTotalCodewordsCount(fe,I),L=(F-T)*8;for(C.getLengthInBits()+4<=L&&C.put(0,4);C.getLengthInBits()%8!==0;)C.putBit(0);const D=(L-C.getLengthInBits())/8;for(let ne=0;ne<D;ne++)C.put(ne%2?17:236,8);return X(C,fe,I)}function X(fe,I,k){const C=n.getSymbolTotalCodewords(I),F=c.getTotalCodewordsCount(I,k),T=C-F,L=c.getBlocksCount(I,k),D=C%L,ne=L-D,Ee=Math.floor(C/L),ie=Math.floor(T/L),ve=ie+1,ue=Ee-ie,xe=new f(ue);let Fe=0;const Z=new Array(L),V=new Array(L);let W=0;const ee=new Uint8Array(fe.buffer);for(let pe=0;pe<L;pe++){const Pe=pe<ne?ie:ve;Z[pe]=ee.slice(Fe,Fe+Pe),V[pe]=xe.encode(Z[pe]),Fe+=Pe,W=Math.max(W,Pe)}const le=new Uint8Array(C);let he=0,be,Re;for(be=0;be<W;be++)for(Re=0;Re<L;Re++)be<Z[Re].length&&(le[he++]=Z[Re][be]);for(be=0;be<ue;be++)for(Re=0;Re<L;Re++)le[he++]=V[Re][be];return le}function me(fe,I,k,C){let F;if(Array.isArray(fe))F=A.fromArray(fe);else if(typeof fe=="string"){let Ee=I;if(!Ee){const ie=A.rawSplit(fe);Ee=d.getBestVersionForData(ie,k)}F=A.fromString(fe,Ee||40)}else throw new Error("Invalid data");const T=d.getBestVersionForData(F,k);if(!T)throw new Error("The amount of data is too big to be stored in a QR Code");if(!I)I=T;else if(I<T)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+T+`.
`);const L=G(I,k,F),D=n.getSymbolSize(I),ne=new r(D);return b(ne,I),M(ne),U(ne,I),B(ne,k,0),I>=7&&j(ne,I),K(ne,L),isNaN(C)&&(C=u.getBestMask(ne,B.bind(null,ne,k))),u.applyMask(C,ne),B(ne,k,C),{modules:ne,version:I,errorCorrectionLevel:k,maskPattern:C,segments:F}}return v0.create=function(I,k){if(typeof I>"u"||I==="")throw new Error("No input text");let C=e.M,F,T;return typeof k<"u"&&(C=e.from(k.errorCorrectionLevel,e.M),F=d.from(k.version),T=u.from(k.maskPattern),k.toSJISFunc&&n.setToSJISFunction(k.toSJISFunc)),me(I,F,C,T)},v0}var U0={},V0={},oE;function KS(){return oE||(oE=1,(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:o,scale:o?4:u,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},n.getImageWidth=function(r,a){const o=n.getScale(r,a);return Math.floor((r+a.margin*2)*o)},n.qrToImageData=function(r,a,o){const u=a.modules.size,c=a.modules.data,f=n.getScale(u,o),d=Math.floor((u+o.margin*2)*f),g=o.margin*f,w=[o.color.light,o.color.dark];for(let A=0;A<d;A++)for(let b=0;b<d;b++){let M=(A*d+b)*4,U=o.color.light;if(A>=g&&b>=g&&A<d-g&&b<d-g){const j=Math.floor((A-g)/f),B=Math.floor((b-g)/f);U=w[c[j*u+B]?1:0]}r[M++]=U.r,r[M++]=U.g,r[M++]=U.b,r[M]=U.a}}})(V0)),V0}var lE;function DM(){return lE||(lE=1,(function(n){const e=KS();function t(a,o,u){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=u,o.width=u,o.style.height=u+"px",o.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,u,c){let f=c,d=u;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),u||(d=r()),f=e.getOptions(f);const g=e.getImageWidth(o.modules.size,f),w=d.getContext("2d"),A=w.createImageData(g,g);return e.qrToImageData(A.data,o,f),t(w,d,g),w.putImageData(A,0,0),d},n.renderToDataURL=function(o,u,c){let f=c;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),f||(f={});const d=n.render(o,u,f),g=f.type||"image/png",w=f.rendererOpts||{};return d.toDataURL(g,w.quality)}})(U0)),U0}var B0={},uE;function MM(){if(uE)return B0;uE=1;const n=KS();function e(a,o){const u=a.a/255,c=o+'="'+a.hex+'"';return u<1?c+" "+o+'-opacity="'+u.toFixed(2).slice(1)+'"':c}function t(a,o,u){let c=a+o;return typeof u<"u"&&(c+=" "+u),c}function r(a,o,u){let c="",f=0,d=!1,g=0;for(let w=0;w<a.length;w++){const A=Math.floor(w%o),b=Math.floor(w/o);!A&&!d&&(d=!0),a[w]?(g++,w>0&&A>0&&a[w-1]||(c+=d?t("M",A+u,.5+b+u):t("m",f,0),f=0,d=!1),A+1<o&&a[w+1]||(c+=t("h",g),g=0)):f++}return c}return B0.render=function(o,u,c){const f=n.getOptions(u),d=o.modules.size,g=o.modules.data,w=d+f.margin*2,A=f.color.light.a?"<path "+e(f.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",b="<path "+e(f.color.dark,"stroke")+' d="'+r(g,d,f.margin)+'"/>',M='viewBox="0 0 '+w+" "+w+'"',j='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+M+' shape-rendering="crispEdges">'+A+b+`</svg>
`;return typeof c=="function"&&c(null,j),j},B0}var cE;function OM(){if(cE)return Th;cE=1;const n=gM(),e=PM(),t=DM(),r=MM();function a(o,u,c,f,d){const g=[].slice.call(arguments,1),w=g.length,A=typeof g[w-1]=="function";if(!A&&!n())throw new Error("Callback required as last argument");if(A){if(w<2)throw new Error("Too few arguments provided");w===2?(d=c,c=u,u=f=void 0):w===3&&(u.getContext&&typeof d>"u"?(d=f,f=void 0):(d=f,f=c,c=u,u=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(c=u,u=f=void 0):w===2&&!u.getContext&&(f=c,c=u,u=void 0),new Promise(function(b,M){try{const U=e.create(c,f);b(o(U,u,f))}catch(U){M(U)}})}try{const b=e.create(c,f);d(null,o(b,u,f))}catch(b){d(b)}}return Th.create=e.create,Th.toCanvas=a.bind(null,t.render),Th.toDataURL=a.bind(null,t.renderToDataURL),Th.toString=a.bind(null,function(o,u,c){return r.render(o,c)}),Th}var UM=OM();const VM=A4(UM);function vr(n){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(n)}var No=Uint8Array,Ts=Uint16Array,Zy=Int32Array,ev=new No([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tv=new No([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hE=new No([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YS=function(n,e){for(var t=new Ts(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new Zy(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},WS=YS(ev,2),BM=WS.b,B2=WS.r;BM[28]=258,B2[258]=28;var jM=YS(tv,0),fE=jM.r,j2=new Ts(32768);for(var Fr=0;Fr<32768;++Fr){var Cu=(Fr&43690)>>1|(Fr&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,j2[Fr]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var Sd=(function(n,e,t){for(var r=n.length,a=0,o=new Ts(e);a<r;++a)n[a]&&++o[n[a]-1];var u=new Ts(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new Ts(1<<e);var f=15-e;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],g=e-n[a],w=u[n[a]-1]++<<g,A=w|(1<<g)-1;w<=A;++w)c[j2[w]>>f]=d}else for(c=new Ts(r),a=0;a<r;++a)n[a]&&(c[a]=j2[u[n[a]-1]++]>>15-n[a]);return c}),Mc=new No(288);for(var Fr=0;Fr<144;++Fr)Mc[Fr]=8;for(var Fr=144;Fr<256;++Fr)Mc[Fr]=9;for(var Fr=256;Fr<280;++Fr)Mc[Fr]=7;for(var Fr=280;Fr<288;++Fr)Mc[Fr]=8;var ng=new No(32);for(var Fr=0;Fr<32;++Fr)ng[Fr]=5;var FM=Sd(Mc,9,0),zM=Sd(ng,5,0),$S=function(n){return(n+7)/8|0},qM=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new No(n.subarray(e,t))},Dl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},od=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},j0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,o=t.slice();if(!a)return{t:XS,l:0};if(a==1){var u=new No(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(me,fe){return me.f-fe.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,g=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=a-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=g&&t[d].f<t[w].f?d++:w++],t[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var A=o[0].s,r=1;r<a;++r)o[r].s>A&&(A=o[r].s);var b=new Ts(A+1),M=F2(t[g-1],b,0);if(M>e){var r=0,U=0,j=M-e,B=1<<j;for(o.sort(function(fe,I){return b[I.s]-b[fe.s]||fe.f-I.f});r<a;++r){var K=o[r].s;if(b[K]>e)U+=B-(1<<M-b[K]),b[K]=e;else break}for(U>>=j;U>0;){var G=o[r].s;b[G]<e?U-=1<<e-b[G]++-1:++r}for(;r>=0&&U;--r){var X=o[r].s;b[X]==e&&(--b[X],++U)}M=e}return{t:new No(b),l:M}},F2=function(n,e,t){return n.s==-1?Math.max(F2(n.l,e,t+1),F2(n.r,e,t+1)):e[n.s]=t},dE=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ts(++e),r=0,a=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,r),n:e}},ld=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},QS=function(n,e,t){var r=t.length,a=$S(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<r;++o)n[a+o+4]=t[o];return(a+4+r)*8},mE=function(n,e,t,r,a,o,u,c,f,d,g){Dl(e,g++,t),++a[256];for(var w=j0(a,15),A=w.t,b=w.l,M=j0(o,15),U=M.t,j=M.l,B=dE(A),K=B.c,G=B.n,X=dE(U),me=X.c,fe=X.n,I=new Ts(19),k=0;k<K.length;++k)++I[K[k]&31];for(var k=0;k<me.length;++k)++I[me[k]&31];for(var C=j0(I,7),F=C.t,T=C.l,L=19;L>4&&!F[hE[L-1]];--L);var D=d+5<<3,ne=ld(a,Mc)+ld(o,ng)+u,Ee=ld(a,A)+ld(o,U)+u+14+3*L+ld(I,F)+2*I[16]+3*I[17]+7*I[18];if(f>=0&&D<=ne&&D<=Ee)return QS(e,g,n.subarray(f,f+d));var ie,ve,ue,xe;if(Dl(e,g,1+(Ee<ne)),g+=2,Ee<ne){ie=Sd(A,b,0),ve=A,ue=Sd(U,j,0),xe=U;var Fe=Sd(F,T,0);Dl(e,g,G-257),Dl(e,g+5,fe-1),Dl(e,g+10,L-4),g+=14;for(var k=0;k<L;++k)Dl(e,g+3*k,F[hE[k]]);g+=3*L;for(var Z=[K,me],V=0;V<2;++V)for(var W=Z[V],k=0;k<W.length;++k){var ee=W[k]&31;Dl(e,g,Fe[ee]),g+=F[ee],ee>15&&(Dl(e,g,W[k]>>5&127),g+=W[k]>>12)}}else ie=FM,ve=Mc,ue=zM,xe=ng;for(var k=0;k<c;++k){var le=r[k];if(le>255){var ee=le>>18&31;od(e,g,ie[ee+257]),g+=ve[ee+257],ee>7&&(Dl(e,g,le>>23&31),g+=ev[ee]);var he=le&31;od(e,g,ue[he]),g+=xe[he],he>3&&(od(e,g,le>>5&8191),g+=tv[he])}else od(e,g,ie[le]),g+=ve[le]}return od(e,g,ie[256]),g+ve[256]},HM=new Zy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XS=new No(0),GM=function(n,e,t,r,a,o){var u=o.z||n.length,c=new No(r+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var w=HM[e-1],A=w>>13,b=w&8191,M=(1<<t)-1,U=o.p||new Ts(32768),j=o.h||new Ts(M+1),B=Math.ceil(t/3),K=2*B,G=function(dt){return(n[dt]^n[dt+1]<<B^n[dt+2]<<K)&M},X=new Zy(25e3),me=new Ts(288),fe=new Ts(32),I=0,k=0,C=o.i||0,F=0,T=o.w||0,L=0;C+2<u;++C){var D=G(C),ne=C&32767,Ee=j[D];if(U[ne]=Ee,j[D]=ne,T<=C){var ie=u-C;if((I>7e3||F>24576)&&(ie>423||!d)){g=mE(n,f,0,X,me,fe,k,F,L,C-L,g),F=I=k=0,L=C;for(var ve=0;ve<286;++ve)me[ve]=0;for(var ve=0;ve<30;++ve)fe[ve]=0}var ue=2,xe=0,Fe=b,Z=ne-Ee&32767;if(ie>2&&D==G(C-Z))for(var V=Math.min(A,ie)-1,W=Math.min(32767,C),ee=Math.min(258,ie);Z<=W&&--Fe&&ne!=Ee;){if(n[C+ue]==n[C+ue-Z]){for(var le=0;le<ee&&n[C+le]==n[C+le-Z];++le);if(le>ue){if(ue=le,xe=Z,le>V)break;for(var he=Math.min(Z,le-2),be=0,ve=0;ve<he;++ve){var Re=C-Z+ve&32767,pe=U[Re],Pe=Re-pe&32767;Pe>be&&(be=Pe,Ee=Re)}}}ne=Ee,Ee=U[ne],Z+=ne-Ee&32767}if(xe){X[F++]=268435456|B2[ue]<<18|fE[xe];var Ke=B2[ue]&31,$e=fE[xe]&31;k+=ev[Ke]+tv[$e],++me[257+Ke],++fe[$e],T=C+ue,++I}else X[F++]=n[C],++me[n[C]]}}for(C=Math.max(C,T);C<u;++C)X[F++]=n[C],++me[n[C]];g=mE(n,f,d,X,me,fe,k,F,L,C-L,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=j,o.p=U,o.i=C,o.w=T)}else{for(var C=o.w||0;C<u+d;C+=65535){var it=C+65535;it>=u&&(f[g/8|0]=d,it=u),g=QS(f,g+1,n.subarray(C,it))}o.i=u}return qM(c,0,r+$S(g)+a)},JS=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=r+=t[u];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},KM=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new No(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return GM(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},ZS=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},YM=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=JS();a.p(e.dictionary),ZS(n,2,a.d())}};function z2(n,e){e||(e={});var t=JS();t.p(n);var r=KM(n,e,e.dictionary?6:2,4);return YM(r,e),ZS(r,r.length-4,t.d()),r}var WM=typeof TextDecoder<"u"&&new TextDecoder,$M=0;try{WM.decode(XS,{stream:!0}),$M=1}catch{}function QM(n){if(Array.isArray(n))return n}function XM(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(g){d=!0,a=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function pE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function JM(n,e){if(n){if(typeof n=="string")return pE(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pE(n,e):void 0}}function ZM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gE(n,e){return QM(n)||XM(n,e)||JM(n,e)||ZM()}function yE(n,e="utf8"){return new TextDecoder(e).decode(n)}const eO=new TextEncoder;function tO(n){return eO.encode(n)}const nO=1024*8,rO=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),F0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=nO,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof nv)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=F0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===rO&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new F0[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new F0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return yE(this.readBytes(e))}decodeText(e=1,t="utf8"){return yE(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(tO(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bf(n){let e=n.length;for(;--e>=0;)n[e]=0}const iO=3,aO=258,e6=29,sO=256,oO=sO+1+e6,t6=30,lO=512,uO=new Array((oO+2)*2);bf(uO);const cO=new Array(t6*2);bf(cO);const hO=new Array(lO);bf(hO);const fO=new Array(aO-iO+1);bf(fO);const dO=new Array(e6);bf(dO);const mO=new Array(t6);bf(mO);const pO=(n,e,t,r)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[r++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var q2=pO;const gO=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},yO=new Uint32Array(gO()),vO=(n,e,t,r)=>{const a=yO,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var Wo=vO,H2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},n6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bO=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var _O=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)bO(t,r)&&(n[r]=t[r])}}return n},wO=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=n.length;r<o;r++){let u=n[r];t.set(u,a),a+=u.length}return t},r6={assign:_O,flattenChunks:wO};let i6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i6=!1}const Vd=new Uint8Array(256);for(let n=0;n<256;n++)Vd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Vd[254]=Vd[254]=1;var EO=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,o,u=n.length,c=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const AO=(n,e)=>{if(e<65534&&n.subarray&&i6)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var SO=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let u=n[r++];if(u<128){o[a++]=u;continue}let c=Vd[u];if(c>4){o[a++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return AO(o,a)},NO=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Vd[n[t]]>e?t:e},G2={string2buf:EO,buf2string:SO,utf8border:NO};function xO(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var TO=xO;const op=16209,CO=16191;var RO=function(e,t){let r,a,o,u,c,f,d,g,w,A,b,M,U,j,B,K,G,X,me,fe,I,k,C,F;const T=e.state;r=e.next_in,C=e.input,a=r+(e.avail_in-5),o=e.next_out,F=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=T.dmax,d=T.wsize,g=T.whave,w=T.wnext,A=T.window,b=T.hold,M=T.bits,U=T.lencode,j=T.distcode,B=(1<<T.lenbits)-1,K=(1<<T.distbits)-1;e:do{M<15&&(b+=C[r++]<<M,M+=8,b+=C[r++]<<M,M+=8),G=U[b&B];t:for(;;){if(X=G>>>24,b>>>=X,M-=X,X=G>>>16&255,X===0)F[o++]=G&65535;else if(X&16){me=G&65535,X&=15,X&&(M<X&&(b+=C[r++]<<M,M+=8),me+=b&(1<<X)-1,b>>>=X,M-=X),M<15&&(b+=C[r++]<<M,M+=8,b+=C[r++]<<M,M+=8),G=j[b&K];n:for(;;){if(X=G>>>24,b>>>=X,M-=X,X=G>>>16&255,X&16){if(fe=G&65535,X&=15,M<X&&(b+=C[r++]<<M,M+=8,M<X&&(b+=C[r++]<<M,M+=8)),fe+=b&(1<<X)-1,fe>f){e.msg="invalid distance too far back",T.mode=op;break e}if(b>>>=X,M-=X,X=o-u,fe>X){if(X=fe-X,X>g&&T.sane){e.msg="invalid distance too far back",T.mode=op;break e}if(I=0,k=A,w===0){if(I+=d-X,X<me){me-=X;do F[o++]=A[I++];while(--X);I=o-fe,k=F}}else if(w<X){if(I+=d+w-X,X-=w,X<me){me-=X;do F[o++]=A[I++];while(--X);if(I=0,w<me){X=w,me-=X;do F[o++]=A[I++];while(--X);I=o-fe,k=F}}}else if(I+=w-X,X<me){me-=X;do F[o++]=A[I++];while(--X);I=o-fe,k=F}for(;me>2;)F[o++]=k[I++],F[o++]=k[I++],F[o++]=k[I++],me-=3;me&&(F[o++]=k[I++],me>1&&(F[o++]=k[I++]))}else{I=o-fe;do F[o++]=F[I++],F[o++]=F[I++],F[o++]=F[I++],me-=3;while(me>2);me&&(F[o++]=F[I++],me>1&&(F[o++]=F[I++]))}}else if((X&64)===0){G=j[(G&65535)+(b&(1<<X)-1)];continue n}else{e.msg="invalid distance code",T.mode=op;break e}break}}else if((X&64)===0){G=U[(G&65535)+(b&(1<<X)-1)];continue t}else if(X&32){T.mode=CO;break e}else{e.msg="invalid literal/length code",T.mode=op;break e}break}}while(r<a&&o<c);me=M>>3,r-=me,M-=me<<3,b&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),T.hold=b,T.bits=M};const Ch=15,vE=852,bE=592,_E=0,z0=1,wE=2,IO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),LO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),PO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DO=(n,e,t,r,a,o,u,c)=>{const f=c.bits;let d=0,g=0,w=0,A=0,b=0,M=0,U=0,j=0,B=0,K=0,G,X,me,fe,I,k=null,C;const F=new Uint16Array(Ch+1),T=new Uint16Array(Ch+1);let L=null,D,ne,Ee;for(d=0;d<=Ch;d++)F[d]=0;for(g=0;g<r;g++)F[e[t+g]]++;for(b=f,A=Ch;A>=1&&F[A]===0;A--);if(b>A&&(b=A),A===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<A&&F[w]===0;w++);for(b<w&&(b=w),j=1,d=1;d<=Ch;d++)if(j<<=1,j-=F[d],j<0)return-1;if(j>0&&(n===_E||A!==1))return-1;for(T[1]=0,d=1;d<Ch;d++)T[d+1]=T[d]+F[d];for(g=0;g<r;g++)e[t+g]!==0&&(u[T[e[t+g]]++]=g);if(n===_E?(k=L=u,C=20):n===z0?(k=IO,L=LO,C=257):(k=kO,L=PO,C=0),K=0,g=0,d=w,I=o,M=b,U=0,me=-1,B=1<<b,fe=B-1,n===z0&&B>vE||n===wE&&B>bE)return 1;for(;;){D=d-U,u[g]+1<C?(ne=0,Ee=u[g]):u[g]>=C?(ne=L[u[g]-C],Ee=k[u[g]-C]):(ne=96,Ee=0),G=1<<d-U,X=1<<M,w=X;do X-=G,a[I+(K>>U)+X]=D<<24|ne<<16|Ee|0;while(X!==0);for(G=1<<d-1;K&G;)G>>=1;if(G!==0?(K&=G-1,K+=G):K=0,g++,--F[d]===0){if(d===A)break;d=e[t+u[g]]}if(d>b&&(K&fe)!==me){for(U===0&&(U=b),I+=w,M=d-U,j=1<<M;M+U<A&&(j-=F[M+U],!(j<=0));)M++,j<<=1;if(B+=1<<M,n===z0&&B>vE||n===wE&&B>bE)return 1;me=K&fe,a[me]=b<<24|M<<16|I-o|0}}return K!==0&&(a[I+K]=d-U<<24|64<<16|0),c.bits=b,0};var Nd=DO;const MO=0,a6=1,s6=2,{Z_FINISH:EE,Z_BLOCK:OO,Z_TREES:lp,Z_OK:Oc,Z_STREAM_END:UO,Z_NEED_DICT:VO,Z_STREAM_ERROR:Xs,Z_DATA_ERROR:o6,Z_MEM_ERROR:l6,Z_BUF_ERROR:BO,Z_DEFLATED:AE}=n6,Pg=16180,SE=16181,NE=16182,xE=16183,TE=16184,CE=16185,RE=16186,IE=16187,LE=16188,kE=16189,rg=16190,Ml=16191,q0=16192,PE=16193,H0=16194,DE=16195,ME=16196,OE=16197,UE=16198,up=16199,cp=16200,VE=16201,BE=16202,jE=16203,FE=16204,zE=16205,G0=16206,qE=16207,HE=16208,Wr=16209,u6=16210,c6=16211,jO=852,FO=592,zO=15,qO=zO,GE=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function HO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Pg||e.mode>c6?1:0},h6=n=>{if(Gc(n))return Xs;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Pg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jO),e.distcode=e.distdyn=new Int32Array(FO),e.sane=1,e.back=-1,Oc},f6=n=>{if(Gc(n))return Xs;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,h6(n)},d6=(n,e)=>{let t;if(Gc(n))return Xs;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Xs:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,f6(n))},m6=(n,e)=>{if(!n)return Xs;const t=new HO;n.state=t,t.strm=n,t.window=null,t.mode=Pg;const r=d6(n,e);return r!==Oc&&(n.state=null),r},GO=n=>m6(n,qO);let KE=!0,K0,Y0;const KO=n=>{if(KE){K0=new Int32Array(512),Y0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Nd(a6,n.lens,0,288,K0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Nd(s6,n.lens,0,32,Y0,0,n.work,{bits:5}),KE=!1}n.lencode=K0,n.lenbits=9,n.distcode=Y0,n.distbits=5},p6=(n,e,t,r)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},YO=(n,e)=>{let t,r,a,o,u,c,f,d,g,w,A,b,M,U,j=0,B,K,G,X,me,fe,I,k;const C=new Uint8Array(4);let F,T;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gc(n)||!n.output||!n.input&&n.avail_in!==0)return Xs;t=n.state,t.mode===Ml&&(t.mode=q0),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,w=c,A=f,k=Oc;e:for(;;)switch(t.mode){case Pg:if(t.wrap===0){t.mode=q0;break}for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,C[0]=d&255,C[1]=d>>>8&255,t.check=Wo(t.check,C,2,0),d=0,g=0,t.mode=SE;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Wr;break}if((d&15)!==AE){n.msg="unknown compression method",t.mode=Wr;break}if(d>>>=4,g-=4,I=(d&15)+8,t.wbits===0&&(t.wbits=I),I>15||I>t.wbits){n.msg="invalid window size",t.mode=Wr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?kE:Ml,d=0,g=0;break;case SE:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==AE){n.msg="unknown compression method",t.mode=Wr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Wr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=Wo(t.check,C,2,0)),d=0,g=0,t.mode=NE;case NE:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,C[2]=d>>>16&255,C[3]=d>>>24&255,t.check=Wo(t.check,C,4,0)),d=0,g=0,t.mode=xE;case xE:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=Wo(t.check,C,2,0)),d=0,g=0,t.mode=TE;case TE:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(C[0]=d&255,C[1]=d>>>8&255,t.check=Wo(t.check,C,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=CE;case CE:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(I=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),I)),t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=RE;case RE:if(t.flags&2048){if(c===0)break e;b=0;do I=r[o+b++],t.head&&I&&t.length<65536&&(t.head.name+=String.fromCharCode(I));while(I&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,b,o)),c-=b,o+=b,I)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=IE;case IE:if(t.flags&4096){if(c===0)break e;b=0;do I=r[o+b++],t.head&&I&&t.length<65536&&(t.head.comment+=String.fromCharCode(I));while(I&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Wo(t.check,r,b,o)),c-=b,o+=b,I)break e}else t.head&&(t.head.comment=null);t.mode=LE;case LE:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Wr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Ml;break;case kE:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}n.adler=t.check=GE(d),d=0,g=0,t.mode=rg;case rg:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,VO;n.adler=t.check=1,t.mode=Ml;case Ml:if(e===OO||e===lp)break e;case q0:if(t.last){d>>>=g&7,g-=g&7,t.mode=G0;break}for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=PE;break;case 1:if(KO(t),t.mode=up,e===lp){d>>>=2,g-=2;break e}break;case 2:t.mode=ME;break;case 3:n.msg="invalid block type",t.mode=Wr}d>>>=2,g-=2;break;case PE:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Wr;break}if(t.length=d&65535,d=0,g=0,t.mode=H0,e===lp)break e;case H0:t.mode=DE;case DE:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;a.set(r.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Ml;break;case ME:for(;g<14;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Wr;break}t.have=0,t.mode=OE;case OE:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.lens[L[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[L[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F={bits:t.lenbits},k=Nd(MO,t.lens,0,19,t.lencode,0,t.work,F),t.lenbits=F.bits,k){n.msg="invalid code lengths set",t.mode=Wr;break}t.have=0,t.mode=UE;case UE:for(;t.have<t.nlen+t.ndist;){for(;j=t.lencode[d&(1<<t.lenbits)-1],B=j>>>24,K=j>>>16&255,G=j&65535,!(B<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(G<16)d>>>=B,g-=B,t.lens[t.have++]=G;else{if(G===16){for(T=B+2;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(d>>>=B,g-=B,t.have===0){n.msg="invalid bit length repeat",t.mode=Wr;break}I=t.lens[t.have-1],b=3+(d&3),d>>>=2,g-=2}else if(G===17){for(T=B+3;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=B,g-=B,I=0,b=3+(d&7),d>>>=3,g-=3}else{for(T=B+7;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=B,g-=B,I=0,b=11+(d&127),d>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Wr;break}for(;b--;)t.lens[t.have++]=I}}if(t.mode===Wr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Wr;break}if(t.lenbits=9,F={bits:t.lenbits},k=Nd(a6,t.lens,0,t.nlen,t.lencode,0,t.work,F),t.lenbits=F.bits,k){n.msg="invalid literal/lengths set",t.mode=Wr;break}if(t.distbits=6,t.distcode=t.distdyn,F={bits:t.distbits},k=Nd(s6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,F),t.distbits=F.bits,k){n.msg="invalid distances set",t.mode=Wr;break}if(t.mode=up,e===lp)break e;case up:t.mode=cp;case cp:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,RO(n,A),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Ml&&(t.back=-1);break}for(t.back=0;j=t.lencode[d&(1<<t.lenbits)-1],B=j>>>24,K=j>>>16&255,G=j&65535,!(B<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(K&&(K&240)===0){for(X=B,me=K,fe=G;j=t.lencode[fe+((d&(1<<X+me)-1)>>X)],B=j>>>24,K=j>>>16&255,G=j&65535,!(X+B<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=X,g-=X,t.back+=X}if(d>>>=B,g-=B,t.back+=B,t.length=G,K===0){t.mode=zE;break}if(K&32){t.back=-1,t.mode=Ml;break}if(K&64){n.msg="invalid literal/length code",t.mode=Wr;break}t.extra=K&15,t.mode=VE;case VE:if(t.extra){for(T=t.extra;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=BE;case BE:for(;j=t.distcode[d&(1<<t.distbits)-1],B=j>>>24,K=j>>>16&255,G=j&65535,!(B<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((K&240)===0){for(X=B,me=K,fe=G;j=t.distcode[fe+((d&(1<<X+me)-1)>>X)],B=j>>>24,K=j>>>16&255,G=j&65535,!(X+B<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=X,g-=X,t.back+=X}if(d>>>=B,g-=B,t.back+=B,K&64){n.msg="invalid distance code",t.mode=Wr;break}t.offset=G,t.extra=K&15,t.mode=jE;case jE:if(t.extra){for(T=t.extra;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Wr;break}t.mode=FE;case FE:if(f===0)break e;if(b=A-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Wr;break}b>t.wnext?(b-=t.wnext,M=t.wsize-b):M=t.wnext-b,b>t.length&&(b=t.length),U=t.window}else U=a,M=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[u++]=U[M++];while(--b);t.length===0&&(t.mode=cp);break;case zE:if(f===0)break e;a[u++]=t.length,f--,t.mode=cp;break;case G0:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[o++]<<g,g+=8}if(A-=f,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Wo(t.check,a,A,u-A):q2(t.check,a,A,u-A)),A=f,t.wrap&4&&(t.flags?d:GE(d))!==t.check){n.msg="incorrect data check",t.mode=Wr;break}d=0,g=0}t.mode=qE;case qE:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Wr;break}d=0,g=0}t.mode=HE;case HE:k=UO;break e;case Wr:k=o6;break e;case u6:return l6;case c6:default:return Xs}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||A!==n.avail_out&&t.mode<Wr&&(t.mode<G0||e!==EE))&&p6(n,n.output,n.next_out,A-n.avail_out),w-=n.avail_in,A-=n.avail_out,n.total_in+=w,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Wo(t.check,a,A,n.next_out-A):q2(t.check,a,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Ml?128:0)+(t.mode===up||t.mode===H0?256:0),(w===0&&A===0||e===EE)&&k===Oc&&(k=BO),k},WO=n=>{if(Gc(n))return Xs;let e=n.state;return e.window&&(e.window=null),n.state=null,Oc},$O=(n,e)=>{if(Gc(n))return Xs;const t=n.state;return(t.wrap&2)===0?Xs:(t.head=e,e.done=!1,Oc)},QO=(n,e)=>{const t=e.length;let r,a,o;return Gc(n)||(r=n.state,r.wrap!==0&&r.mode!==rg)?Xs:r.mode===rg&&(a=1,a=q2(a,e,t,0),a!==r.check)?o6:(o=p6(n,e,t,t),o?(r.mode=u6,l6):(r.havedict=1,Oc))};var XO=f6,JO=d6,ZO=h6,e9=GO,t9=m6,n9=YO,r9=WO,i9=$O,a9=QO,s9="pako inflate (from Nodeca project)",Ul={inflateReset:XO,inflateReset2:JO,inflateResetKeep:ZO,inflateInit:e9,inflateInit2:t9,inflate:n9,inflateEnd:r9,inflateGetHeader:i9,inflateSetDictionary:a9,inflateInfo:s9};function o9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var l9=o9;const g6=Object.prototype.toString,{Z_NO_FLUSH:u9,Z_FINISH:c9,Z_OK:Bd,Z_STREAM_END:W0,Z_NEED_DICT:$0,Z_STREAM_ERROR:h9,Z_DATA_ERROR:YE,Z_MEM_ERROR:f9}=n6;function rm(n){this.options=r6.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new TO,this.strm.avail_out=0;let t=Ul.inflateInit2(this.strm,e.windowBits);if(t!==Bd)throw new Error(H2[t]);if(this.header=new l9,Ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=G2.string2buf(e.dictionary):g6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ul.inflateSetDictionary(this.strm,e.dictionary),t!==Bd)))throw new Error(H2[t])}rm.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?c9:u9,g6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ul.inflate(t,u),o===$0&&a&&(o=Ul.inflateSetDictionary(t,a),o===Bd?o=Ul.inflate(t,u):o===YE&&(o=$0));t.avail_in>0&&o===W0&&t.state.wrap>0&&n[t.next_in]!==0;)Ul.inflateReset(t),o=Ul.inflate(t,u);switch(o){case h9:case YE:case $0:case f9:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===W0))if(this.options.to==="string"){let f=G2.utf8border(t.output,t.next_out),d=t.next_out-f,g=G2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Bd&&c===0)){if(o===W0)return o=Ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};rm.prototype.onData=function(n){this.chunks.push(n)};rm.prototype.onEnd=function(n){n===Bd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r6.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function d9(n,e){const t=new rm(e);if(t.push(n),t.err)throw t.msg||H2[t.err];return t.result}var m9=rm,p9=d9,g9={Inflate:m9,inflate:p9};const{Inflate:y9,inflate:v9}=g9;var WE=y9,b9=v9;const y6=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;y6[n]=e}const $E=4294967295;function _9(n,e,t){let r=n;for(let a=0;a<t;a++)r=y6[(r^e[a])&255]^r>>>8;return r}function w9(n,e){return(_9($E,n,e)^$E)>>>0}function QE(n,e,t){const r=n.readUint32(),a=w9(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function v6(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function b6(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function _6(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function w6(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function E6(n,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+E9(e[o-a],t[o],t[o-a])&255}}function E9(n,e,t){const r=n+e-t,a=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return a<=o&&a<=u?n:o<=u?e:t}function A9(n,e,t,r,a,o){switch(n){case 0:v6(e,t,a);break;case 1:b6(e,t,a,o);break;case 2:_6(e,t,r,a);break;case 3:w6(e,t,r,a,o);break;case 4:E6(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const S9=new Uint16Array([255]),N9=new Uint8Array(S9.buffer),x9=N9[0]===255;function T9(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const w=u[g],A=Math.ceil((t-w.x)/w.xStep),b=Math.ceil((r-w.y)/w.yStep);if(A<=0||b<=0)continue;const M=A*c,U=new Uint8Array(M);for(let j=0;j<b;j++){const B=e[d++],K=e.subarray(d,d+M);d+=M;const G=new Uint8Array(M);A9(B,K,G,U,M,c),U.set(G);for(let X=0;X<A;X++){const me=w.x+X*w.xStep,fe=w.y+j*w.yStep;if(!(me>=t||fe>=r))for(let I=0;I<c;I++)f[(fe*t+me)*c+I]=G[X*c+I]}}}if(o===16){const g=new Uint16Array(f.buffer);if(x9)for(let w=0;w<g.length;w++)g[w]=C9(g[w]);return g}else return f}function C9(n){return(n&255)<<8|n>>8&255}const R9=new Uint16Array([255]),I9=new Uint8Array(R9.buffer),L9=I9[0]===255,k9=new Uint8Array(0);function XE(n){const{data:e,width:t,height:r,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=k9,g=0,w,A;for(let b=0;b<r;b++){switch(w=e.subarray(g+1,g+1+c),A=f.subarray(b*c,(b+1)*c),e[g]){case 0:v6(w,A,c);break;case 1:b6(w,A,c,u);break;case 2:_6(w,A,d,c);break;case 3:w6(w,A,d,c,u);break;case 4:E6(w,A,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=A,g+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(L9)for(let M=0;M<b.length;M++)b[M]=P9(b[M]);return b}else return f}function P9(n){return(n&255)<<8|n>>8&255}const Rp=Uint8Array.of(137,80,78,71,13,10,26,10);function JE(n){if(!D9(n.readBytes(Rp.length)))throw new Error("wrong PNG signature")}function D9(n){if(n.length<Rp.length)return!1;for(let e=0;e<Rp.length;e++)if(n[e]!==Rp[e])return!1;return!0}const M9="tEXt",O9=0,A6=new TextDecoder("latin1");function U9(n){if(B9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const V9=/^[\u0000-\u00FF]*$/;function B9(n){if(!V9.test(n))throw new Error("invalid latin1 text")}function j9(n,e,t){const r=S6(e);n[r]=F9(e,t-r.length-1)}function S6(n){for(n.mark();n.readByte()!==O9;);const e=n.offset;n.reset();const t=A6.decode(n.readBytes(e-n.offset-1));return n.skip(1),U9(t),t}function F9(n,e){return A6.decode(n.readBytes(e))}const Ss={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Q0={UNKNOWN:-1,DEFLATE:0},ZE={UNKNOWN:-1,ADAPTIVE:0},X0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hp={NONE:0,BACKGROUND:1,PREVIOUS:2},J0={SOURCE:0,OVER:1};class z9 extends nv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new WE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Q0.UNKNOWN,this._filterMethod=ZE.UNKNOWN,this._interlaceMethod=X0.UNKNOWN,this._colorType=Ss.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(JE(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(JE(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case M9:j9(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?QE(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?QE(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=q9(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Ss.GREYSCALE:r=1;break;case Ss.TRUECOLOUR:r=3;break;case Ss.INDEXED_COLOUR:r=1;break;case Ss.GREYSCALE_ALPHA:r=2;break;case Ss.TRUECOLOUR_ALPHA:r=4;break;case Ss.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Q0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ss.GREYSCALE:case Ss.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ss.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ss.UNKNOWN:case Ss.GREYSCALE_ALPHA:case Ss.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=S6(this),r=this.readUint8();if(r!==Q0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:b9(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=XE({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case hp.NONE:break;case hp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[u+c]=0}break;case hp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case J0.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case J0.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const g=t.data[f+this._png.channels-1]/r,w=d%(this._png.channels-1)===0?1:t.data[f+d],A=Math.floor(g*w+(1-g)*e.data[c+d]);e.data[c+d]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==ZE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===X0.NO_INTERLACE)this._png.data=XE({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===X0.ADAM7)this._png.data=T9({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hp.NONE,blendOp:J0.SOURCE,data:e}),this._inflator=new WE,this._writingDataChunks=!1}}function q9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var e4;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(e4||(e4={}));function H9(n,e){return new z9(n,e).decode()}var pn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Z0(){pn.console&&typeof pn.console.log=="function"&&pn.console.log.apply(pn.console,arguments)}var kr={log:Z0,warn:function(n){pn.console&&(typeof pn.console.warn=="function"?pn.console.warn.apply(pn.console,arguments):Z0.call(null,arguments))},error:function(n){pn.console&&(typeof pn.console.error=="function"?pn.console.error.apply(pn.console,arguments):Z0(n))}};function e2(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ec(r.response,e,t)},r.onerror=function(){kr.error("could not download file")},r.send()}function t4(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ec=pn.saveAs||((typeof window>"u"?"undefined":vr(window))!=="object"||window!==pn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=pn.URL||pn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?t4(a.href)?e2(n,e,t):fp(a,a.target="_blank"):fp(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){fp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(t4(n))e2(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){fp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:vr(o)!=="object"&&(kr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return e2(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(pn.HTMLElement)||pn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":vr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var f=pn.URL||pn.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function N6(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Ip=pn.atob.bind(pn),n4=pn.btoa.bind(pn);function t2(n,e){var t=n[0],r=n[1],a=n[2],o=n[3];t=Sa(t,r,a,o,e[0],7,-680876936),o=Sa(o,t,r,a,e[1],12,-389564586),a=Sa(a,o,t,r,e[2],17,606105819),r=Sa(r,a,o,t,e[3],22,-1044525330),t=Sa(t,r,a,o,e[4],7,-176418897),o=Sa(o,t,r,a,e[5],12,1200080426),a=Sa(a,o,t,r,e[6],17,-1473231341),r=Sa(r,a,o,t,e[7],22,-45705983),t=Sa(t,r,a,o,e[8],7,1770035416),o=Sa(o,t,r,a,e[9],12,-1958414417),a=Sa(a,o,t,r,e[10],17,-42063),r=Sa(r,a,o,t,e[11],22,-1990404162),t=Sa(t,r,a,o,e[12],7,1804603682),o=Sa(o,t,r,a,e[13],12,-40341101),a=Sa(a,o,t,r,e[14],17,-1502002290),t=Na(t,r=Sa(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Na(o,t,r,a,e[6],9,-1069501632),a=Na(a,o,t,r,e[11],14,643717713),r=Na(r,a,o,t,e[0],20,-373897302),t=Na(t,r,a,o,e[5],5,-701558691),o=Na(o,t,r,a,e[10],9,38016083),a=Na(a,o,t,r,e[15],14,-660478335),r=Na(r,a,o,t,e[4],20,-405537848),t=Na(t,r,a,o,e[9],5,568446438),o=Na(o,t,r,a,e[14],9,-1019803690),a=Na(a,o,t,r,e[3],14,-187363961),r=Na(r,a,o,t,e[8],20,1163531501),t=Na(t,r,a,o,e[13],5,-1444681467),o=Na(o,t,r,a,e[2],9,-51403784),a=Na(a,o,t,r,e[7],14,1735328473),t=xa(t,r=Na(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=xa(o,t,r,a,e[8],11,-2022574463),a=xa(a,o,t,r,e[11],16,1839030562),r=xa(r,a,o,t,e[14],23,-35309556),t=xa(t,r,a,o,e[1],4,-1530992060),o=xa(o,t,r,a,e[4],11,1272893353),a=xa(a,o,t,r,e[7],16,-155497632),r=xa(r,a,o,t,e[10],23,-1094730640),t=xa(t,r,a,o,e[13],4,681279174),o=xa(o,t,r,a,e[0],11,-358537222),a=xa(a,o,t,r,e[3],16,-722521979),r=xa(r,a,o,t,e[6],23,76029189),t=xa(t,r,a,o,e[9],4,-640364487),o=xa(o,t,r,a,e[12],11,-421815835),a=xa(a,o,t,r,e[15],16,530742520),t=Ta(t,r=xa(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ta(o,t,r,a,e[7],10,1126891415),a=Ta(a,o,t,r,e[14],15,-1416354905),r=Ta(r,a,o,t,e[5],21,-57434055),t=Ta(t,r,a,o,e[12],6,1700485571),o=Ta(o,t,r,a,e[3],10,-1894986606),a=Ta(a,o,t,r,e[10],15,-1051523),r=Ta(r,a,o,t,e[1],21,-2054922799),t=Ta(t,r,a,o,e[8],6,1873313359),o=Ta(o,t,r,a,e[15],10,-30611744),a=Ta(a,o,t,r,e[6],15,-1560198380),r=Ta(r,a,o,t,e[13],21,1309151649),t=Ta(t,r,a,o,e[4],6,-145523070),o=Ta(o,t,r,a,e[11],10,-1120210379),a=Ta(a,o,t,r,e[2],15,718787259),r=Ta(r,a,o,t,e[9],21,-343485551),n[0]=Vu(t,n[0]),n[1]=Vu(r,n[1]),n[2]=Vu(a,n[2]),n[3]=Vu(o,n[3])}function Dg(n,e,t,r,a,o){return e=Vu(Vu(e,n),Vu(r,o)),Vu(e<<a|e>>>32-a,t)}function Sa(n,e,t,r,a,o,u){return Dg(e&t|~e&r,n,e,a,o,u)}function Na(n,e,t,r,a,o,u){return Dg(e&r|t&~r,n,e,a,o,u)}function xa(n,e,t,r,a,o,u){return Dg(e^t^r,n,e,a,o,u)}function Ta(n,e,t,r,a,o,u){return Dg(t^(e|~r),n,e,a,o,u)}function x6(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)t2(r,G9(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(t2(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,t2(r,a),r}function G9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var r4="0123456789abcdef".split("");function K9(n){for(var e="",t=0;t<4;t++)e+=r4[n>>8*t+4&15]+r4[n>>8*t&15];return e}function Y9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function K2(n){return x6(n).map(Y9).join("")}var W9=(function(n){for(var e=0;e<n.length;e++)n[e]=K9(n[e]);return n.join("")})(x6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vu(n,e){if(W9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Y2(n,e){var t,r,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var g=c[f];d=(d+g+u.charCodeAt(f))%256,c[f]=c[d],c[d]=g}t=n,r=c}else c=r;var w=e.length,A=0,b=0,M="";for(f=0;f<w;f++)b=(b+(g=c[A=(A+1)%256]))%256,c[A]=c[b],c[b]=g,u=c[(c[A]+c[b])%256],M+=String.fromCharCode(e.charCodeAt(f)^u);return M}var i4={print:4,modify:8,copy:16,"annot-forms":32};function Oh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(i4.perm!==void 0)throw new Error("Invalid permission: "+c);a+=i4[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=K2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Y2(this.encryptionKey,this.padding)}function Uh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function a4(n){if(vr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){pn.console&&kr.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ig(n){if(!(this instanceof ig))return new ig(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function T6(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ac(n,e,t,r,a){if(!(this instanceof Ac))return new Ac(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,T6.call(this,r,a)}function jh(n,e,t,r,a){if(!(this instanceof jh))return new jh(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,T6.call(this,r,a)}function qt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",g=null;vr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,A={},b={internal:{},__private__:{}};b.__private__.PubSub=a4;var M="1.3",U=b.__private__.getPdfVersion=function(){return M};b.__private__.setPdfVersion=function(E){M=E};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return j};var B=b.__private__.getPageFormat=function(E){return j[E]};a=a||"a4";var K="compat",G="advanced",X=K;function me(){this.saveGraphicsState(),re(new Vt(an,0,0,-an,0,Ua()*an).toString()+" cm"),this.setFontSize(this.getFontSize()/an),d="n",X=G}function fe(){this.restoreGraphicsState(),d="S",X=K}var I=b.__private__.combineFontStyleAndFontWeight=function(E,z){if(E=="bold"&&z=="normal"||E=="bold"&&z==400||E=="normal"&&z=="italic"||E=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(E=z==400||z==="normal"?E==="italic"?"italic":"normal":z!=700&&z!=="bold"||E!=="normal"?(z==700?"bold":z)+""+E:"bold"),E};b.advancedAPI=function(E){var z=X===K;return z&&me.call(this),typeof E!="function"||(E(this),z&&fe.call(this)),this},b.compatAPI=function(E){var z=X===G;return z&&fe.call(this),typeof E!="function"||(E(this),z&&me.call(this)),this},b.isAdvancedAPI=function(){return X===G};var k,C=function(E){if(X!==G)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=b.roundToPrecision=b.__private__.roundToPrecision=function(E,z){var se=e||z;if(isNaN(E)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(se).replace(/0+$/,"")};k=b.hpf=b.__private__.hpf=typeof f=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return F(E,f)}:f==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return F(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return F(E,16)};var T=b.f2=b.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return F(E,2)},L=b.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return F(E,3)},D=b.scale=b.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return X===K?E*an:X===G?E:void 0},ne=function(E){return D((function(z){return X===K?Ua()-z:X===G?z:void 0})(E))};b.__private__.setPrecision=b.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var Ee,ie="00000000000000000000000000000000",ve=b.__private__.getFileId=function(){return ie},ue=b.__private__.setFileId=function(E){return ie=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Cr=new Oh(g.userPermissions,g.userPassword,g.ownerPassword,ie)),ie};b.setFileId=function(E){return ue(E),this},b.getFileId=function(){return ve()};var xe=b.__private__.convertDateToPDFDate=function(E){var z=E.getTimezoneOffset(),se=z<0?"+":"-",ge=Math.floor(Math.abs(z/60)),Ne=Math.abs(z%60),He=[se,ee(ge),"'",ee(Ne),"'"].join("");return["D:",E.getFullYear(),ee(E.getMonth()+1),ee(E.getDate()),ee(E.getHours()),ee(E.getMinutes()),ee(E.getSeconds()),He].join("")},Fe=b.__private__.convertPDFDateToDate=function(E){var z=parseInt(E.substr(2,4),10),se=parseInt(E.substr(6,2),10)-1,ge=parseInt(E.substr(8,2),10),Ne=parseInt(E.substr(10,2),10),He=parseInt(E.substr(12,2),10),et=parseInt(E.substr(14,2),10);return new Date(z,se,ge,Ne,He,et,0)},Z=b.__private__.setCreationDate=function(E){var z;if(E===void 0&&(E=new Date),E instanceof Date)z=xe(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=E}return Ee=z},V=b.__private__.getCreationDate=function(E){var z=Ee;return E==="jsDate"&&(z=Fe(Ee)),z};b.setCreationDate=function(E){return Z(E),this},b.getCreationDate=function(E){return V(E)};var W,ee=b.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},le=b.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},he=0,be=[],Re=[],pe=0,Pe=[],Ke=[],$e=!1,it=Re;b.__private__.setCustomOutputDestination=function(E){$e=!0,it=E};var dt=function(E){$e||(it=E)};b.__private__.resetCustomOutputDestination=function(){$e=!1,it=Re};var re=b.__private__.out=function(E){return E=E.toString(),pe+=E.length+1,it.push(E),it},at=b.__private__.write=function(E){return re(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},en=b.__private__.getArrayBuffer=function(E){for(var z=E.length,se=new ArrayBuffer(z),ge=new Uint8Array(se);z--;)ge[z]=E.charCodeAt(z);return se},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return wt};var Be=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(E){return Be=X===G?E/an:E,this};var ht,ft=b.__private__.getFontSize=b.getFontSize=function(){return X===K?Be:Be*an},Rt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(E){return Rt=E,this},b.__private__.getR2L=b.getR2L=function(){return Rt};var Tt,Ht=b.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))ht=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');ht=E}else ht=parseInt(E,10)};b.__private__.getZoomMode=function(){return ht};var tn,Kt=b.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Tt=E};b.__private__.getPageMode=function(){return Tt};var sn=b.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');tn=E};b.__private__.getLayoutMode=function(){return tn},b.__private__.setDisplayMode=b.setDisplayMode=function(E,z,se){return Ht(E),sn(z),Kt(se),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(E){if(Object.keys(Ft).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[E]},b.__private__.getDocumentProperties=function(){return Ft},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(E){for(var z in Ft)Ft.hasOwnProperty(z)&&E[z]&&(Ft[z]=E[z]);return this},b.__private__.setDocumentProperty=function(E,z){if(Object.keys(Ft).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[E]=z};var gt,an,It,ur,dn,St={},$t={},on=[],Ut={},Fn={},Gt={},jt={},zn=null,Dt=0,Mt=[],vn=new a4(b),fi=n.hotfixes||[],$r={},ki={},Pr=[],Vt=function E(z,se,ge,Ne,He,et){if(!(this instanceof E))return new E(z,se,ge,Ne,He,et);isNaN(z)&&(z=1),isNaN(se)&&(se=0),isNaN(ge)&&(ge=0),isNaN(Ne)&&(Ne=1),isNaN(He)&&(He=0),isNaN(et)&&(et=0),this._matrix=[z,se,ge,Ne,He,et]};Object.defineProperty(Vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(E)},Vt.prototype.multiply=function(E){var z=E.sx*this.sx+E.shy*this.shx,se=E.sx*this.shy+E.shy*this.sy,ge=E.shx*this.sx+E.sy*this.shx,Ne=E.shx*this.shy+E.sy*this.sy,He=E.tx*this.sx+E.ty*this.shx+this.tx,et=E.tx*this.shy+E.ty*this.sy+this.ty;return new Vt(z,se,ge,Ne,He,et)},Vt.prototype.decompose=function(){var E=this.sx,z=this.shy,se=this.shx,ge=this.sy,Ne=this.tx,He=this.ty,et=Math.sqrt(E*E+z*z),Et=(E/=et)*se+(z/=et)*ge;se-=E*Et,ge-=z*Et;var Lt=Math.sqrt(se*se+ge*ge);return Et/=Lt,E*(ge/=Lt)<z*(se/=Lt)&&(E=-E,z=-z,Et=-Et,et=-et),{scale:new Vt(et,0,0,Lt,0,0),translate:new Vt(1,0,0,1,Ne,He),rotate:new Vt(E,z,-z,E,0,0),skew:new Vt(1,0,Et,1,0,0)}},Vt.prototype.toString=function(E){return this.join(" ")},Vt.prototype.inversed=function(){var E=this.sx,z=this.shy,se=this.shx,ge=this.sy,Ne=this.tx,He=this.ty,et=1/(E*ge-z*se),Et=ge*et,Lt=-z*et,Qt=-se*et,zt=E*et;return new Vt(Et,Lt,Qt,zt,-Et*Ne-Qt*He,-Lt*Ne-zt*He)},Vt.prototype.applyToPoint=function(E){var z=E.x*this.sx+E.y*this.shx+this.tx,se=E.x*this.shy+E.y*this.sy+this.ty;return new Si(z,se)},Vt.prototype.applyToRectangle=function(E){var z=this.applyToPoint(E),se=this.applyToPoint(new Si(E.x+E.w,E.y+E.h));return new Ga(z.x,z.y,se.x-z.x,se.y-z.y)},Vt.prototype.clone=function(){var E=this.sx,z=this.shy,se=this.shx,ge=this.sy,Ne=this.tx,He=this.ty;return new Vt(E,z,se,ge,Ne,He)},b.Matrix=Vt;var ka=b.matrixMult=function(E,z){return z.multiply(E)},Pi=new Vt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Pi;var ce=function(E,z){if(!Fn[E]){var se=(z instanceof Ac?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);z.id=se,Fn[E]=se,Ut[se]=z,vn.publish("addPattern",z)}};b.ShadingPattern=Ac,b.TilingPattern=jh,b.addShadingPattern=function(E,z){return C("addShadingPattern()"),ce(E,z),this},b.beginTilingPattern=function(E){C("beginTilingPattern()"),Ka(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},b.endTilingPattern=function(E,z){C("endTilingPattern()"),z.stream=Ke[W].join(`
`),ce(E,z),vn.publish("endTilingPattern",z),Pr.pop().restore()};var Se,Ce=b.__private__.newObject=function(){var E=Ye();return nt(E,!0),E},Ye=b.__private__.newObjectDeferred=function(){return he++,be[he]=function(){return pe},he},nt=function(E,z){return z=typeof z=="boolean"&&z,be[E]=pe,z&&re(E+" 0 obj"),E},mt=b.__private__.newAdditionalObject=function(){var E={objId:Ye(),content:""};return Pe.push(E),E},ut=Ye(),ot=Ye(),lt=b.__private__.decodeColorString=function(E){var z=E.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var se=parseFloat(z[0]);z=[se,se,se,"r"]}for(var ge="#",Ne=0;Ne<3;Ne++)ge+=("0"+Math.floor(255*parseFloat(z[Ne])).toString(16)).slice(-2);return ge},pt=b.__private__.encodeColorString=function(E){var z;typeof E=="string"&&(E={ch1:E});var se=E.ch1,ge=E.ch2,Ne=E.ch3,He=E.ch4,et=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var Et=new N6(se);if(Et.ok)se=Et.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var Lt=parseInt(se.substr(1),16);se=Lt>>16&255,ge=Lt>>8&255,Ne=255&Lt}if(ge===void 0||He===void 0&&se===ge&&ge===Ne)z=typeof se=="string"?se+" "+et[0]:E.precision===2?T(se/255)+" "+et[0]:L(se/255)+" "+et[0];else if(He===void 0||vr(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",et[1]].join(" ");z=typeof se=="string"?[se,ge,Ne,et[1]].join(" "):E.precision===2?[T(se/255),T(ge/255),T(Ne/255),et[1]].join(" "):[L(se/255),L(ge/255),L(Ne/255),et[1]].join(" ")}else z=typeof se=="string"?[se,ge,Ne,He,et[2]].join(" "):E.precision===2?[T(se),T(ge),T(Ne),T(He),et[2]].join(" "):[L(se),L(ge),L(Ne),L(He),et[2]].join(" ");return z},Nt=b.__private__.getFilters=function(){return u},yt=b.__private__.putStream=function(E){var z=(E=E||{}).data||"",se=E.filters||Nt(),ge=E.alreadyAppliedFilters||[],Ne=E.addLength1||!1,He=z.length,et=E.objectId,Et=function(N){return N};if(g!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Et=Cr.encryptor(et,0));var Lt={};se===!0&&(se=["FlateEncode"]);var Qt=E.additionalKeyValues||[],zt=(Lt=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(z,se):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Lt.data.length!==0&&(Qt.push({key:"Length",value:Lt.data.length}),Ne===!0&&Qt.push({key:"Length1",value:He})),zt.length!=0)if(zt.split("/").length-1==1)Qt.push({key:"Filter",value:zt});else{Qt.push({key:"Filter",value:"["+zt+"]"});for(var In=0;In<Qt.length;In+=1)if(Qt[In].key==="DecodeParms"){for(var _r=[],hr=0;hr<Lt.reverseChain.split("/").length-1;hr+=1)_r.push("null");_r.push(Qt[In].value),Qt[In].value="["+_r.join(" ")+"]"}}re("<<");for(var p=0;p<Qt.length;p++)re("/"+Qt[p].key+" "+Qt[p].value);re(">>"),Lt.data.length!==0&&(re("stream"),re(Et(Lt.data)),re("endstream"))},gn=b.__private__.putPage=function(E){var z=E.number,se=E.data,ge=E.objId,Ne=E.contentsObjId;nt(ge,!0),re("<</Type /Page"),re("/Parent "+E.rootDictionaryObjId+" 0 R"),re("/Resources "+E.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(k(E.mediaBox.bottomLeftX))+" "+parseFloat(k(E.mediaBox.bottomLeftY))+" "+k(E.mediaBox.topRightX)+" "+k(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&re("/CropBox ["+k(E.cropBox.bottomLeftX)+" "+k(E.cropBox.bottomLeftY)+" "+k(E.cropBox.topRightX)+" "+k(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&re("/BleedBox ["+k(E.bleedBox.bottomLeftX)+" "+k(E.bleedBox.bottomLeftY)+" "+k(E.bleedBox.topRightX)+" "+k(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&re("/TrimBox ["+k(E.trimBox.bottomLeftX)+" "+k(E.trimBox.bottomLeftY)+" "+k(E.trimBox.topRightX)+" "+k(E.trimBox.topRightY)+"]"),E.artBox!==null&&re("/ArtBox ["+k(E.artBox.bottomLeftX)+" "+k(E.artBox.bottomLeftY)+" "+k(E.artBox.topRightX)+" "+k(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&re("/UserUnit "+E.userUnit),vn.publish("putPage",{objId:ge,pageContext:Mt[z],pageNumber:z,page:se}),re("/Contents "+Ne+" 0 R"),re(">>"),re("endobj");var He=se.join(`
`);return X===G&&(He+=`
Q`),nt(Ne,!0),yt({data:He,filters:Nt(),objectId:Ne}),re("endobj"),ge},cn=b.__private__.putPages=function(){var E,z,se=[];for(E=1;E<=Dt;E++)Mt[E].objId=Ye(),Mt[E].contentsObjId=Ye();for(E=1;E<=Dt;E++)se.push(gn({number:E,data:Ke[E],objId:Mt[E].objId,contentsObjId:Mt[E].contentsObjId,mediaBox:Mt[E].mediaBox,cropBox:Mt[E].cropBox,bleedBox:Mt[E].bleedBox,trimBox:Mt[E].trimBox,artBox:Mt[E].artBox,userUnit:Mt[E].userUnit,rootDictionaryObjId:ut,resourceDictionaryObjId:ot}));nt(ut,!0),re("<</Type /Pages");var ge="/Kids [";for(z=0;z<Dt;z++)ge+=se[z]+" 0 R ";re(ge+"]"),re("/Count "+Dt),re(">>"),re("endobj"),vn.publish("postPutPages")},Mn=function(E){vn.publish("putFont",{font:E,out:re,newObject:Ce,putStream:yt}),E.isAlreadyPutted!==!0&&(E.objectNumber=Ce(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Uh(E.postScriptName)),re("/Subtype /Type1"),typeof E.encoding=="string"&&re("/Encoding /"+E.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Zn=function(E){E.objectNumber=Ce();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[k(E.x),k(E.y),k(E.x+E.width),k(E.y+E.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var se=E.pages[1].join(`
`);yt({data:se,additionalKeyValues:z,objectId:E.objectNumber}),re("endobj")},Qn=function(E,z){z||(z=21);var se=Ce(),ge=(function(et,Et){var Lt,Qt=[],zt=1/(Et-1);for(Lt=0;Lt<1;Lt+=zt)Qt.push(Lt);if(Qt.push(1),et[0].offset!=0){var In={offset:0,color:et[0].color};et.unshift(In)}if(et[et.length-1].offset!=1){var _r={offset:1,color:et[et.length-1].color};et.push(_r)}for(var hr="",p=0,N=0;N<Qt.length;N++){for(Lt=Qt[N];Lt>et[p+1].offset;)p++;var O=et[p].offset,J=(Lt-O)/(et[p+1].offset-O),Ie=et[p].color,Ue=et[p+1].color;hr+=le(Math.round((1-J)*Ie[0]+J*Ue[0]).toString(16))+le(Math.round((1-J)*Ie[1]+J*Ue[1]).toString(16))+le(Math.round((1-J)*Ie[2]+J*Ue[2]).toString(16))}return hr.trim()})(E.colors,z),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+z+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt({data:ge,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),re("endobj"),E.objectNumber=Ce(),re("<< /ShadingType "+E.type),re("/ColorSpace /DeviceRGB");var He="/Coords ["+k(parseFloat(E.coords[0]))+" "+k(parseFloat(E.coords[1]))+" ";E.type===2?He+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3])):He+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3]))+" "+k(parseFloat(E.coords[4]))+" "+k(parseFloat(E.coords[5])),re(He+="]"),E.matrix&&re("/Matrix ["+E.matrix.toString()+"]"),re("/Function "+se+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},hn=function(E,z){var se=Ye(),ge=Ce();z.push({resourcesOid:se,objectOid:ge}),E.objectNumber=ge;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+E.boundingBox.map(k).join(" ")+"]"}),Ne.push({key:"XStep",value:k(E.xStep)}),Ne.push({key:"YStep",value:k(E.yStep)}),Ne.push({key:"Resources",value:se+" 0 R"}),E.matrix&&Ne.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),yt({data:E.stream,additionalKeyValues:Ne,objectId:E.objectNumber}),re("endobj")},cr=function(E){for(var z in E.objectNumber=Ce(),re("<<"),E)switch(z){case"opacity":re("/ca "+T(E[z]));break;case"stroke-opacity":re("/CA "+T(E[z]))}re(">>"),re("endobj")},zr=function(E){nt(E.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var z in re("/Font <<"),St)St.hasOwnProperty(z)&&(w===!1||w===!0&&A.hasOwnProperty(z))&&re("/"+z+" "+St[z].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Ut).length>0){for(var z in re("/Shading <<"),Ut)Ut.hasOwnProperty(z)&&Ut[z]instanceof Ac&&Ut[z].objectNumber>=0&&re("/"+z+" "+Ut[z].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),re(">>")}})(),(function(z){if(Object.keys(Ut).length>0){for(var se in re("/Pattern <<"),Ut)Ut.hasOwnProperty(se)&&Ut[se]instanceof b.TilingPattern&&Ut[se].objectNumber>=0&&Ut[se].objectNumber<z&&re("/"+se+" "+Ut[se].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),re(">>")}})(E.objectOid),(function(){if(Object.keys(Gt).length>0){var z;for(z in re("/ExtGState <<"),Gt)Gt.hasOwnProperty(z)&&Gt[z].objectNumber>=0&&re("/"+z+" "+Gt[z].objectNumber+" 0 R");vn.publish("putGStateDict"),re(">>")}})(),(function(){for(var z in re("/XObject <<"),$r)$r.hasOwnProperty(z)&&$r[z].objectNumber>=0&&re("/"+z+" "+$r[z].objectNumber+" 0 R");vn.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},ar=function(E){$t[E.fontName]=$t[E.fontName]||{},$t[E.fontName][E.fontStyle]=E.id},Di=function(E,z,se,ge,Ne){var He={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:E,fontName:z,fontStyle:se,encoding:ge,isStandardFont:Ne||!1,metadata:{}};return vn.publish("addFont",{font:He,instance:this}),St[He.id]=He,ar(He),He.id},dr=b.__private__.pdfEscape=b.pdfEscape=function(E,z){return(function(se,ge){var Ne,He,et,Et,Lt,Qt,zt,In,_r;if(et=(ge=ge||{}).sourceEncoding||"Unicode",Lt=ge.outputEncoding,(ge.autoencode||Lt)&&St[gt].metadata&&St[gt].metadata[et]&&St[gt].metadata[et].encoding&&(Et=St[gt].metadata[et].encoding,!Lt&&St[gt].encoding&&(Lt=St[gt].encoding),!Lt&&Et.codePages&&(Lt=Et.codePages[0]),typeof Lt=="string"&&(Lt=Et[Lt]),Lt)){for(zt=!1,Qt=[],Ne=0,He=se.length;Ne<He;Ne++)(In=Lt[se.charCodeAt(Ne)])?Qt.push(String.fromCharCode(In)):Qt.push(se[Ne]),Qt[Ne].charCodeAt(0)>>8&&(zt=!0);se=Qt.join("")}for(Ne=se.length;zt===void 0&&Ne!==0;)se.charCodeAt(Ne-1)>>8&&(zt=!0),Ne--;if(!zt)return se;for(Qt=ge.noBOM?[]:[254,255],Ne=0,He=se.length;Ne<He;Ne++){if((_r=(In=se.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qt.push(_r),Qt.push(In-(_r<<8))}return String.fromCharCode.apply(void 0,Qt)})(E,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ai=b.__private__.beginPage=function(E){Ke[++Dt]=[],Mt[Dt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Pa(Dt),dt(Ke[W])},di=function(E,z){var se,ge,Ne;switch(t=z||t,typeof E=="string"&&(se=B(E.toLowerCase()),Array.isArray(se)&&(ge=se[0],Ne=se[1])),Array.isArray(E)&&(ge=E[0]*an,Ne=E[1]*an),isNaN(ge)&&(ge=a[0],Ne=a[1]),(ge>14400||Ne>14400)&&(kr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ne=Math.min(14400,Ne)),a=[ge,Ne],t.substr(0,1)){case"l":Ne>ge&&(a=[Ne,ge]);break;case"p":ge>Ne&&(a=[Ne,ge])}Ai(a),Yt(Qi),re(sa),la!==0&&re(la+" J"),Xr!==0&&re(Xr+" j"),vn.publish("addPage",{pageNumber:Dt})},Mi=function(E){E>0&&E<=Dt&&(Ke.splice(E,1),Mt.splice(E,1),Dt--,W>Dt&&(W=Dt),this.setPage(W))},Pa=function(E){E>0&&E<=Dt&&(W=E)},Da=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ke.length-1},An=function(E,z,se){var ge,Ne=void 0;return se=se||{},E=E!==void 0?E:St[gt].fontName,z=z!==void 0?z:St[gt].fontStyle,ge=E.toLowerCase(),$t[ge]!==void 0&&$t[ge][z]!==void 0?Ne=$t[ge][z]:$t[E]!==void 0&&$t[E][z]!==void 0?Ne=$t[E][z]:se.disableWarning===!1&&kr.warn("Unable to look up font label for font '"+E+"', '"+z+"'. Refer to getFontList() for available fonts."),Ne||se.noFallback||(Ne=$t.times[z])==null&&(Ne=$t.times.normal),Ne},Gn=b.__private__.putInfo=function(){var E=Ce(),z=function(ge){return ge};for(var se in g!==null&&(z=Cr.encryptor(E,0)),re("<<"),re("/Producer ("+dr(z("jsPDF "+qt.version))+")"),Ft)Ft.hasOwnProperty(se)&&Ft[se]&&re("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+dr(z(Ft[se]))+")");re("/CreationDate ("+dr(z(Ee))+")"),re(">>"),re("endobj")},Tr=b.__private__.putCatalog=function(E){var z=(E=E||{}).rootDictionaryObjId||ut;switch(Ce(),re("<<"),re("/Type /Catalog"),re("/Pages "+z+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+ht;se.substr(se.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&re("/OpenAction [3 0 R /XYZ null null "+T(ht)+"]")}switch(tn||(tn="continuous"),tn){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Tt&&re("/PageMode /"+Tt),vn.publish("putCatalog"),re(">>"),re("endobj")},er=b.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(he+1)),re("/Root "+he+" 0 R"),re("/Info "+(he-1)+" 0 R"),g!==null&&re("/Encrypt "+Cr.oid+" 0 R"),re("/ID [ <"+ie+"> <"+ie+"> ]"),re(">>")},Ot=b.__private__.putHeader=function(){re("%PDF-"+M),re("%")},Wi=b.__private__.putXRef=function(){var E="0000000000";re("xref"),re("0 "+(he+1)),re("0000000000 65535 f ");for(var z=1;z<=he;z++)typeof be[z]=="function"?re((E+be[z]()).slice(-10)+" 00000 n "):be[z]!==void 0?re((E+be[z]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Oi=b.__private__.buildDocument=function(){var E;he=0,pe=0,Re=[],be=[],Pe=[],ut=Ye(),ot=Ye(),dt(Re),vn.publish("buildDocument"),Ot(),cn(),(function(){vn.publish("putAdditionalObjects");for(var se=0;se<Pe.length;se++){var ge=Pe[se];nt(ge.objId,!0),re(ge.content),re("endobj")}vn.publish("postPutAdditionalObjects")})(),E=[],(function(){for(var se in St)St.hasOwnProperty(se)&&(w===!1||w===!0&&A.hasOwnProperty(se))&&Mn(St[se])})(),(function(){var se;for(se in Gt)Gt.hasOwnProperty(se)&&cr(Gt[se])})(),(function(){for(var se in $r)$r.hasOwnProperty(se)&&Zn($r[se])})(),(function(se){var ge;for(ge in Ut)Ut.hasOwnProperty(ge)&&(Ut[ge]instanceof Ac?Qn(Ut[ge]):Ut[ge]instanceof jh&&hn(Ut[ge],se))})(E),vn.publish("putResources"),E.forEach(zr),zr({resourcesOid:ot,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources"),g!==null&&(Cr.oid=Ce(),re("<<"),re("/Filter /Standard"),re("/V "+Cr.v),re("/R "+Cr.r),re("/U <"+Cr.toHexString(Cr.U)+">"),re("/O <"+Cr.toHexString(Cr.O)+">"),re("/P "+Cr.P),re(">>"),re("endobj")),Gn(),Tr();var z=pe;return Wi(),er(),re("startxref"),re(""+z),re("%%EOF"),dt(Ke[W]),Re.join(`
`)},Rn=b.__private__.getBlob=function(E){return new Blob([en(E)],{type:"application/pdf"})},Rs=b.output=b.__private__.output=(Se=function(E,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",E){case void 0:return Oi();case"save":b.save(z.filename);break;case"arraybuffer":return en(Oi());case"blob":return Rn(Oi());case"bloburi":case"bloburl":if(pn.URL!==void 0&&typeof pn.URL.createObjectURL=="function")return pn.URL&&pn.URL.createObjectURL(Rn(Oi()))||void 0;kr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ge=Oi();try{se=n4(ge)}catch{se=n4(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+z.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Ne=z.pdfObjectUrl,He="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",Et=pn.open();return Et!==null&&Et.document.write(et),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',Qt=pn.open();if(Qt!==null){Qt.document.write(Lt);var zt=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=z.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var In='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',_r=pn.open();if(_r!==null&&(_r.document.write(In),_r.document.title=z.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return pn.document.location.href=this.output("datauristring",z);default:return null}},Se.foo=function(){try{return Se.apply(this,arguments)}catch(se){var E=se.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var z="Error in function "+E.split(`
`)[0].split("<")[0]+": "+se.message;if(!pn.console)throw new Error(z);pn.console.error(z,se),pn.alert&&alert(z)}},Se.foo.bar=Se,Se.foo),Qr=function(E){return Array.isArray(fi)===!0&&fi.indexOf(E)>-1};switch(r){case"pt":an=1;break;case"mm":an=72/25.4;break;case"cm":an=72/2.54;break;case"in":an=72;break;case"px":an=Qr("px_scaling")==1?.75:96/72;break;case"pc":case"em":an=12;break;case"ex":an=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);an=r}var Cr=null;Z(),ue();var qr=b.__private__.getPageInfo=b.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[E].objId,pageNumber:E,pageContext:Mt[E]}},Zs=b.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Mt)if(Mt[z].objId===E)break;return qr(z)},Xl=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Mt[W].objId,pageNumber:W,pageContext:Mt[W]}};b.addPage=function(){return di.apply(this,arguments),this},b.setPage=function(){return Pa.apply(this,arguments),dt.call(this,Ke[W]),this},b.insertPage=function(E){return this.addPage(),this.movePage(W,E),this},b.movePage=function(E,z){var se,ge;if(E>z){se=Ke[E],ge=Mt[E];for(var Ne=E;Ne>z;Ne--)Ke[Ne]=Ke[Ne-1],Mt[Ne]=Mt[Ne-1];Ke[z]=se,Mt[z]=ge,this.setPage(z)}else if(E<z){se=Ke[E],ge=Mt[E];for(var He=E;He<z;He++)Ke[He]=Ke[He+1],Mt[He]=Mt[He+1];Ke[z]=se,Mt[z]=ge,this.setPage(z)}return this},b.deletePage=function(){return Mi.apply(this,arguments),this},b.__private__.text=b.text=function(E,z,se,ge,Ne){var He,et,Et,Lt,Qt,zt,In,_r,hr,p=(ge=ge||{}).scope||this;if(typeof E=="number"&&typeof z=="number"&&(typeof se=="string"||Array.isArray(se))){var N=se;se=z,z=E,E=N}if(arguments[3]instanceof Vt==0?(Et=arguments[4],Lt=arguments[5],vr(In=arguments[3])==="object"&&In!==null||(typeof Et=="string"&&(Lt=Et,Et=null),typeof In=="string"&&(Lt=In,In=null),typeof In=="number"&&(Et=In,In=null),ge={flags:In,angle:Et,align:Lt})):(C("The transform parameter of text() with a Matrix value"),hr=Ne),isNaN(z)||isNaN(se)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return p;var O,J="",Ie=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:ps,Ue=p.internal.scaleFactor;function st(Xn){return Xn=Xn.split("	").join(Array(ge.TabLen||9).join(" ")),dr(Xn,In)}function fn(Xn){for(var qn,Er=Xn.concat(),Zr=[],Fs=Er.length;Fs--;)typeof(qn=Er.shift())=="string"?Zr.push(qn):Array.isArray(Xn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Zr.push(qn[0]):Zr.push([qn[0],qn[1],qn[2]]);return Zr}function wr(Xn,qn){var Er;if(typeof Xn=="string")Er=qn(Xn)[0];else if(Array.isArray(Xn)){for(var Zr,Fs,bs=Xn.concat(),gl=[],sc=bs.length;sc--;)typeof(Zr=bs.shift())=="string"?gl.push(qn(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Fs=qn(Zr[0],Zr[1],Zr[2]),gl.push([Fs[0],Fs[1],Fs[2]]));Er=gl}return Er}var xn=!1,nr=!0;if(typeof E=="string")xn=!0;else if(Array.isArray(E)){var Ni=E.concat();et=[];for(var Vi,mr=Ni.length;mr--;)(typeof(Vi=Ni.shift())!="string"||Array.isArray(Vi)&&typeof Vi[0]!="string")&&(nr=!1);xn=nr}if(xn===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Bi=Be/p.internal.scaleFactor,Va=Bi*(Ie-1);switch(ge.baseline){case"bottom":se-=Va;break;case"top":se+=Bi-Va;break;case"hanging":se+=Bi-2*Va;break;case"middle":se+=Bi/2-Va}if((zt=ge.maxWidth||0)>0&&(typeof E=="string"?E=p.splitTextToSize(E,zt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Xn,qn){return Xn.concat(p.splitTextToSize(qn,zt))},[]))),He={text:E,x:z,y:se,options:ge,mutex:{pdfEscape:dr,activeFontKey:gt,fonts:St,activeFontSize:Be}},vn.publish("preProcessText",He),E=He.text,Et=(ge=He.options).angle,hr instanceof Vt==0&&Et&&typeof Et=="number"){Et*=Math.PI/180,ge.rotationDirection===0&&(Et=-Et),X===G&&(Et=-Et);var Ds=Math.cos(Et),Ms=Math.sin(Et);hr=new Vt(Ds,Ms,-Ms,Ds,0,0)}else Et&&Et instanceof Vt&&(hr=Et);X!==G||hr||(hr=Pi),(Qt=ge.charSpace||oa)!==void 0&&(J+=k(D(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=ge.horizontalScale)!==void 0&&(J+=k(100*_r)+` Tz
`),ge.lang;var ca=-1,io=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Jl=p.internal.getCurrentPageInfo().pageContext;switch(io){case 0:case!1:case"fill":ca=0;break;case 1:case!0:case"stroke":ca=1;break;case 2:case"fillThenStroke":ca=2;break;case 3:case"invisible":ca=3;break;case 4:case"fillAndAddForClipping":ca=4;break;case 5:case"strokeAndAddPathForClipping":ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ca=6;break;case 7:case"addToPathForClipping":ca=7}var ic=Jl.usedRenderingMode!==void 0?Jl.usedRenderingMode:-1;ca!==-1?J+=ca+` Tr
`:ic!==-1&&(J+=`0 Tr
`),ca!==-1&&(Jl.usedRenderingMode=ca),Lt=ge.align||"left";var Ba,ys=Be*Ie,ao=p.internal.pageSize.getWidth(),ac=St[gt];Qt=ge.charSpace||oa,zt=ge.maxWidth||0,In=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var vs=[],Po=function(Xn){return p.getStringUnitWidth(Xn,{font:ac,charSpace:Qt,fontSize:Be,doKerning:!1})*Be/Ue};if(Object.prototype.toString.call(E)==="[object Array]"){var _a;et=fn(E),Lt!=="left"&&(Ba=et.map(Po));var ha,Os=0;if(Lt==="right"){z-=Ba[0],E=[],mr=et.length;for(var Us=0;Us<mr;Us++)Us===0?(ha=pi(z),_a=ri(se)):(ha=D(Os-Ba[Us]),_a=-ys),E.push([et[Us],ha,_a]),Os=Ba[Us]}else if(Lt==="center"){z-=Ba[0]/2,E=[],mr=et.length;for(var so=0;so<mr;so++)so===0?(ha=pi(z),_a=ri(se)):(ha=D((Os-Ba[so])/2),_a=-ys),E.push([et[so],ha,_a]),Os=Ba[so]}else if(Lt==="left"){E=[],mr=et.length;for(var Zl=0;Zl<mr;Zl++)E.push(et[Zl])}else if(Lt==="justify"&&ac.encoding==="Identity-H"){E=[],mr=et.length,zt=zt!==0?zt:ao;for(var eu=0,Jr=0;Jr<mr;Jr++)if(_a=Jr===0?ri(se):-ys,ha=Jr===0?pi(z):eu,Jr<mr-1){var Yc=D((zt-Ba[Jr])/(et[Jr].split(" ").length-1)),Vs=et[Jr].split(" ");E.push([Vs[0]+" ",ha,_a]),eu=0;for(var Bs=1;Bs<Vs.length;Bs++){var ji=(Po(Vs[Bs-1]+" "+Vs[Bs])-Po(Vs[Bs]))*Ue+Yc;Bs==Vs.length-1?E.push([Vs[Bs],ji,0]):E.push([Vs[Bs]+" ",ji,0]),eu-=ji}}else E.push([et[Jr],ha,_a]);E.push(["",eu,0])}else{if(Lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],mr=et.length,zt=zt!==0?zt:ao,Jr=0;Jr<mr;Jr++){_a=Jr===0?ri(se):-ys,ha=Jr===0?pi(z):0;var oo=et[Jr].split(" ").length-1,tu=oo>0?(zt-Ba[Jr])/oo:0;Jr<mr-1?vs.push(k(D(tu))):vs.push(0),E.push([et[Jr],ha,_a])}}}(typeof ge.R2L=="boolean"?ge.R2L:Rt)===!0&&(E=wr(E,function(Xn,qn,Er){return[Xn.split("").reverse().join(""),qn,Er]})),He={text:E,x:z,y:se,options:ge,mutex:{pdfEscape:dr,activeFontKey:gt,fonts:St,activeFontSize:Be}},vn.publish("postProcessText",He),E=He.text,O=He.mutex.isHex||!1;var nu=St[gt].encoding;nu!=="WinAnsiEncoding"&&nu!=="StandardEncoding"||(E=wr(E,function(Xn,qn,Er){return[st(Xn),qn,Er]})),et=fn(E),E=[];for(var lo,uo,js,pl=Array.isArray(et[0])?1:0,ja="",co=function(Xn,qn,Er){var Zr="";return Er instanceof Vt?(Er=typeof ge.angle=="number"?ka(Er,new Vt(1,0,0,1,Xn,qn)):ka(new Vt(1,0,0,1,Xn,qn),Er),X===G&&(Er=ka(new Vt(1,0,0,-1,0,0),Er)),Zr=Er.join(" ")+` Tm
`):Zr=k(Xn)+" "+k(qn)+` Td
`,Zr},Xi=0;Xi<et.length;Xi++){switch(ja="",pl){case 1:js=(O?"<":"(")+et[Xi][0]+(O?">":")"),lo=parseFloat(et[Xi][1]),uo=parseFloat(et[Xi][2]);break;case 0:js=(O?"<":"(")+et[Xi]+(O?">":")"),lo=pi(z),uo=ri(se)}vs!==void 0&&vs[Xi]!==void 0&&(ja=vs[Xi]+` Tw
`),Xi===0?E.push(ja+co(lo,uo,hr)+js):pl===0?E.push(ja+js):pl===1&&E.push(ja+co(lo,uo,hr)+js)}E=pl===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var $a=`BT
/`;return $a+=gt+" "+Be+` Tf
`,$a+=k(Be*Ie)+` TL
`,$a+=Oa+`
`,$a+=J,$a+=E,re($a+="ET"),A[gt]=!0,p};var ul=b.__private__.clip=b.clip=function(E){return re(E==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return ul("evenodd")},b.__private__.discardPath=b.discardPath=function(){return re("n"),this};var Ui=b.__private__.isValidStyle=function(E){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(z=!0),z};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(E){return Ui(E)&&(d=E),this};var cl=b.__private__.getStyle=b.getStyle=function(E){var z=d;switch(E){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=E}return z},ds=b.close=function(){return re("h"),this};b.stroke=function(){return re("S"),this},b.fill=function(E){return mi("f",E),this},b.fillEvenOdd=function(E){return mi("f*",E),this},b.fillStroke=function(E){return mi("B",E),this},b.fillStrokeEvenOdd=function(E){return mi("B*",E),this};var mi=function(E,z){vr(z)==="object"?fl(z,E):re(E)},Is=function(E){E===null||X===G&&E===void 0||(E=cl(E),re(E))};function hl(E,z,se,ge,Ne){var He=new jh(z||this.boundingBox,se||this.xStep,ge||this.yStep,this.gState,Ne||this.matrix);He.stream=this.stream;var et=E+"$$"+this.cloneIndex+++"$$";return ce(et,He),He}var fl=function(E,z){var se=Fn[E.key],ge=Ut[se];if(ge instanceof Ac)re("q"),re(Co(z)),ge.gState&&b.setGState(ge.gState),re(E.matrix.toString()+" cm"),re("/"+se+" sh"),re("Q");else if(ge instanceof jh){var Ne=new Vt(1,0,0,-1,0,Ua());E.matrix&&(Ne=Ne.multiply(E.matrix||Pi),se=hl.call(ge,E.key,E.boundingBox,E.xStep,E.yStep,Ne).id),re("q"),re("/Pattern cs"),re("/"+se+" scn"),ge.gState&&b.setGState(ge.gState),re(z),re("Q")}},Co=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ro=b.moveTo=function(E,z){return re(k(D(E))+" "+k(ne(z))+" m"),this},ms=b.lineTo=function(E,z){return re(k(D(E))+" "+k(ne(z))+" l"),this},$i=b.curveTo=function(E,z,se,ge,Ne,He){return re([k(D(E)),k(ne(z)),k(D(se)),k(ne(ge)),k(D(Ne)),k(ne(He)),"c"].join(" ")),this};b.__private__.line=b.line=function(E,z,se,ge,Ne){if(isNaN(E)||isNaN(z)||isNaN(se)||isNaN(ge)||!Ui(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return X===K?this.lines([[se-E,ge-z]],E,z,[1,1],Ne||"S"):this.lines([[se-E,ge-z]],E,z,[1,1]).stroke()},b.__private__.lines=b.lines=function(E,z,se,ge,Ne,He){var et,Et,Lt,Qt,zt,In,_r,hr,p,N,O,J;if(typeof E=="number"&&(J=se,se=z,z=E,E=J),ge=ge||[1,1],He=He||!1,isNaN(z)||isNaN(se)||!Array.isArray(E)||!Array.isArray(ge)||!Ui(Ne)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ro(z,se),et=ge[0],Et=ge[1],Qt=E.length,N=z,O=se,Lt=0;Lt<Qt;Lt++)(zt=E[Lt]).length===2?(N=zt[0]*et+N,O=zt[1]*Et+O,ms(N,O)):(In=zt[0]*et+N,_r=zt[1]*Et+O,hr=zt[2]*et+N,p=zt[3]*Et+O,N=zt[4]*et+N,O=zt[5]*Et+O,$i(In,_r,hr,p,N,O));return He&&ds(),Is(Ne),this},b.path=function(E){for(var z=0;z<E.length;z++){var se=E[z],ge=se.c;switch(se.op){case"m":Ro(ge[0],ge[1]);break;case"l":ms(ge[0],ge[1]);break;case"c":$i.apply(this,ge);break;case"h":ds()}}return this},b.__private__.rect=b.rect=function(E,z,se,ge,Ne){if(isNaN(E)||isNaN(z)||isNaN(se)||isNaN(ge)||!Ui(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return X===K&&(ge=-ge),re([k(D(E)),k(ne(z)),k(D(se)),k(D(ge)),"re"].join(" ")),Is(Ne),this},b.__private__.triangle=b.triangle=function(E,z,se,ge,Ne,He,et){if(isNaN(E)||isNaN(z)||isNaN(se)||isNaN(ge)||isNaN(Ne)||isNaN(He)||!Ui(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-E,ge-z],[Ne-se,He-ge],[E-Ne,z-He]],E,z,[1,1],et,!0),this},b.__private__.roundedRect=b.roundedRect=function(E,z,se,ge,Ne,He,et){if(isNaN(E)||isNaN(z)||isNaN(se)||isNaN(ge)||isNaN(Ne)||isNaN(He)||!Ui(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*se),He=Math.min(He,.5*ge),this.lines([[se-2*Ne,0],[Ne*Et,0,Ne,He-He*Et,Ne,He],[0,ge-2*He],[0,He*Et,-Ne*Et,He,-Ne,He],[2*Ne-se,0],[-Ne*Et,0,-Ne,-He*Et,-Ne,-He],[0,2*He-ge],[0,-He*Et,Ne*Et,-He,Ne,-He]],E+Ne,z,[1,1],et,!0),this},b.__private__.ellipse=b.ellipse=function(E,z,se,ge,Ne){if(isNaN(E)||isNaN(z)||isNaN(se)||isNaN(ge)||!Ui(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*se,et=4/3*(Math.SQRT2-1)*ge;return Ro(E+se,z),$i(E+se,z-et,E+He,z-ge,E,z-ge),$i(E-He,z-ge,E-se,z-et,E-se,z),$i(E-se,z+et,E-He,z+ge,E,z+ge),$i(E+He,z+ge,E+se,z+et,E+se,z),Is(Ne),this},b.__private__.circle=b.circle=function(E,z,se,ge){if(isNaN(E)||isNaN(z)||isNaN(se)||!Ui(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,z,se,se,ge)},b.setFont=function(E,z,se){return se&&(z=I(z,se)),gt=An(E,z,{disableWarning:!1}),this};var Ma=b.__private__.getFont=b.getFont=function(){return St[An.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var E,z,se={};for(E in $t)if($t.hasOwnProperty(E))for(z in se[E]=[],$t[E])$t[E].hasOwnProperty(z)&&se[E].push(z);return se},b.addFont=function(E,z,se,ge,Ne){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(se=I(se,ge)),Di.call(this,E,z,se,Ne=Ne||"Identity-H")};var ps,Qi=n.lineWidth||.200025,Ls=b.__private__.getLineWidth=b.getLineWidth=function(){return Qi},Yt=b.__private__.setLineWidth=b.setLineWidth=function(E){return Qi=E,re(k(D(E))+" w"),this};b.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(E,z){if(E=E||[],z=z||0,isNaN(z)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(se){return k(D(se))}).join(" "),z=k(D(z)),re("["+E+"] "+z+" d"),this};var eo=b.__private__.getLineHeight=b.getLineHeight=function(){return Be*ps};b.__private__.getLineHeight=b.getLineHeight=function(){return Be*ps};var Io=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(ps=E),this},ks=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ps};Io(n.lineHeight);var pi=b.__private__.getHorizontalCoordinate=function(E){return D(E)},ri=b.__private__.getVerticalCoordinate=function(E){return X===G?E:Mt[W].mediaBox.topRightY-Mt[W].mediaBox.bottomLeftY-D(E)},to=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(E){return k(pi(E))},tr=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(E){return k(ri(E))},sa=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return lt(sa)},b.__private__.setStrokeColor=b.setDrawColor=function(E,z,se,ge){return sa=pt({ch1:E,ch2:z,ch3:se,ch4:ge,pdfColorType:"draw",precision:2}),re(sa),this};var no=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return lt(no)},b.__private__.setFillColor=b.setFillColor=function(E,z,se,ge){return no=pt({ch1:E,ch2:z,ch3:se,ch4:ge,pdfColorType:"fill",precision:2}),re(no),this};var Oa=n.textColor||"0 g",dl=b.__private__.getTextColor=b.getTextColor=function(){return lt(Oa)};b.__private__.setTextColor=b.setTextColor=function(E,z,se,ge){return Oa=pt({ch1:E,ch2:z,ch3:se,ch4:ge,pdfColorType:"text",precision:3}),this};var oa=n.charSpace,gs=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(oa||0)};b.__private__.setCharSpace=b.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return oa=E,this};var la=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(E){var z=b.CapJoinStyles[E];if(z===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return la=z,re(z+" J"),this};var Xr=0;b.__private__.setLineJoin=b.setLineJoin=function(E){var z=b.CapJoinStyles[E];if(z===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xr=z,re(z+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(k(D(E))+" M"),this},b.GState=ig,b.setGState=function(E){(E=typeof E=="string"?Gt[jt[E]]:Ha(null,E)).equals(zn)||(re("/"+E.id+" gs"),zn=E)};var Ha=function(E,z){if(!E||!jt[E]){var se=!1;for(var ge in Gt)if(Gt.hasOwnProperty(ge)&&Gt[ge].equals(z)){se=!0;break}if(se)z=Gt[ge];else{var Ne="GS"+(Object.keys(Gt).length+1).toString(10);Gt[Ne]=z,z.id=Ne}return E&&(jt[E]=z.id),vn.publish("addGState",z),z}};b.addGState=function(E,z){return Ha(E,z),this},b.saveGraphicsState=function(){return re("q"),on.push({key:gt,size:Be,color:Oa}),this},b.restoreGraphicsState=function(){re("Q");var E=on.pop();return gt=E.key,Be=E.size,Oa=E.color,zn=null,this},b.setCurrentTransformationMatrix=function(E){return re(E.toString()+" cm"),this},b.comment=function(E){return re("#"+E),this};var Si=function(E,z){var se=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(He){isNaN(He)||(se=parseFloat(He))}});var ge=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(He){isNaN(He)||(ge=parseFloat(He))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(He){Ne=He.toString()}}),this},Ga=function(E,z,se,ge){Si.call(this,E,z),this.type="rect";var Ne=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(et){isNaN(et)||(Ne=parseFloat(et))}});var He=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(et){isNaN(et)||(He=parseFloat(et))}}),this},Ps=function(){this.page=Dt,this.currentPage=W,this.pages=Ke.slice(0),this.pagesContext=Mt.slice(0),this.x=It,this.y=ur,this.matrix=dn,this.width=ba(W),this.height=Lo(W),this.outputDestination=it,this.id="",this.objectNumber=-1};Ps.prototype.restore=function(){Dt=this.page,W=this.currentPage,Mt=this.pagesContext,Ke=this.pages,It=this.x,ur=this.y,dn=this.matrix,ro(W,this.width),ua(W,this.height),it=this.outputDestination};var Ka=function(E,z,se,ge,Ne){Pr.push(new Ps),Dt=W=0,Ke=[],It=E,ur=z,dn=Ne,Ai([se,ge])};for(var Ya in b.beginFormObject=function(E,z,se,ge,Ne){return Ka(E,z,se,ge,Ne),this},b.endFormObject=function(E){return(function(z){if(ki[z])Pr.pop().restore();else{var se=new Ps,ge="Xo"+(Object.keys($r).length+1).toString(10);se.id=ge,ki[z]=ge,$r[ge]=se,vn.publish("addFormObject",se),Pr.pop().restore()}})(E),this},b.doFormObject=function(E,z){var se=$r[ki[E]];return re("q"),re(z.toString()+" cm"),re("/"+se.id+" Do"),re("Q"),this},b.getFormObject=function(E){var z=$r[ki[E]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},b.save=function(E,z){return E=E||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(Ec(Rn(Oi()),E),typeof Ec.unload=="function"&&pn.setTimeout&&setTimeout(Ec.unload,911),this):new Promise(function(se,ge){try{var Ne=Ec(Rn(Oi()),E);typeof Ec.unload=="function"&&pn.setTimeout&&setTimeout(Ec.unload,911),se(Ne)}catch(He){ge(He.message)}})},qt.API)qt.API.hasOwnProperty(Ya)&&(Ya==="events"&&qt.API.events.length?(function(E,z){var se,ge,Ne;for(Ne=z.length-1;Ne!==-1;Ne--)se=z[Ne][0],ge=z[Ne][1],E.subscribe.apply(E,[se].concat(typeof ge=="function"?[ge]:ge))})(vn,qt.API.events):b[Ya]=qt.API[Ya]);function ba(E){return Mt[E].mediaBox.topRightX-Mt[E].mediaBox.bottomLeftX}function ro(E,z){Mt[E].mediaBox.topRightX=z+Mt[E].mediaBox.bottomLeftX}function Lo(E){return Mt[E].mediaBox.topRightY-Mt[E].mediaBox.bottomLeftY}function ua(E,z){Mt[E].mediaBox.topRightY=z+Mt[E].mediaBox.bottomLeftY}var Wa=b.getPageWidth=function(E){return ba(E=E||W)/an},ml=b.setPageWidth=function(E,z){ro(E,z*an)},Ua=b.getPageHeight=function(E){return Lo(E=E||W)/an},ko=b.setPageHeight=function(E,z){ua(E,z*an)};return b.internal={pdfEscape:dr,getStyle:cl,getFont:Ma,getFontSize:ft,getCharSpace:gs,getTextColor:dl,getLineHeight:eo,getLineHeightFactor:ks,getLineWidth:Ls,write:at,getHorizontalCoordinate:pi,getVerticalCoordinate:ri,getCoordinateString:to,getVerticalCoordinateString:tr,collections:{},newObject:Ce,newAdditionalObject:mt,newObjectDeferred:Ye,newObjectDeferredBegin:nt,getFilters:Nt,putStream:yt,events:vn,scaleFactor:an,pageSize:{getWidth:function(){return Wa(W)},setWidth:function(E){ml(W,E)},getHeight:function(){return Ua(W)},setHeight:function(E){ko(W,E)}},encryptionOptions:g,encryption:Cr,getEncryptor:function(E){return g!==null?Cr.encryptor(E,0):function(z){return z}},output:Rs,getNumberOfPages:Da,get pages(){return Ke},out:re,f2:T,f3:L,getPageInfo:qr,getPageInfoByObjId:Zs,getCurrentPageInfo:Xl,getPDFVersion:U,Point:Si,Rectangle:Ga,Matrix:Vt,hasHotfix:Qr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Wa(W)},set:function(E){ml(W,E)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ua(W)},set:function(E){ko(W,E)},enumerable:!0,configurable:!0}),(function(E){for(var z=0,se=wt.length;z<se;z++){var ge=Di.call(this,E[z][0],E[z][1],E[z][2],wt[z][3],!0);w===!1&&(A[ge]=!0);var Ne=E[z][0].split("-");ar({id:ge,fontName:Ne[0],fontStyle:Ne[1]||""})}vn.publish("addFonts",{fonts:St,dictionary:$t})}).call(b,wt),gt="F1",di(a,t),vn.publish("initialized"),b}Oh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Oh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Oh.prototype.processOwnerPassword=function(n,e){return Y2(K2(e).substr(0,5),n)},Oh.prototype.encryptor=function(n,e){var t=K2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Y2(t,r)}},ig.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||vr(n)!==vr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},qt.API={events:[]},qt.version="4.1.0";var ci=qt.API,rv=1,Kc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ag=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},wn=function(n){return n.toFixed(2)},Ru=function(n){return n.toFixed(5)};ci.__acroform__={};var fs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},s4=function(n){return n*rv},$o=function(n){var e=new R6,t=Pt.internal.getHeight(n)||0,r=Pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(wn(r)),Number(wn(t))],e},$9=ci.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Q9=ci.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},X9=ci.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},bi=ci.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X9(n,e-1)},_i=ci.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $9(n,e-1)},wi=ci.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Q9(n,e-1)},J9=ci.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=r(o)||0,[Number(wn(f.lowerLeft_X)),Number(wn(f.lowerLeft_Y)),Number(wn(f.upperRight_X)),Number(wn(f.upperRight_Y))]},Z9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=W2(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+wn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=$o(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},W2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var o=t,u=Pt.internal.getHeight(n)||0;u=u<0?-u:u;var c=Pt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(T,L,D){if(T+1<a.length){var ne=L+" "+a[T+1][0];return dp(ne,n,D).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,w=dp("3",n,o).height,A=n.multiline?u-o:(u-w)/2,b=A+=2,M=0,U=0,j=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+dp(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var B="",K=0,G=0;G<a.length;G++)if(a.hasOwnProperty(G)){var X=!1;if(a[G].length!==1&&j!==a[G].length-1){if((w+2)*(K+2)+2>u)continue e;B+=a[G][j],X=!0,U=G,G--}else{B=(B+=a[G][j]+" ").substr(B.length-1)==" "?B.substr(0,B.length-1):B;var me=parseInt(G),fe=f(me,B,o),I=G>=a.length-1;if(fe&&!I){B+=" ",j=0;continue}if(fe||I){if(I)U=me;else if(n.multiline&&(w+2)*(K+2)+2>u)continue e}else{if(!n.multiline||(w+2)*(K+2)+2>u)continue e;U=me}}for(var k="",C=M;C<=U;C++){var F=a[C];if(n.multiline){if(C===U){k+=F[j]+" ",j=(j+1)%F.length;continue}if(C===M){k+=F[F.length-1]+" ";continue}}k+=F[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,g=dp(k,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=wn(d)+" "+wn(b)+` Td
`,e+="("+Kc(k)+`) Tj
`,e+=-wn(d)+` 0 Td
`,b=-(o+2),g=0,M=X?U:U+1,K++,B=""}break}return r.text=e,r.fontSize=o,r},dp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},eU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tU=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},nU=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(xo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(eU)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");rv=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new I6,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&tU(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var u in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=J9(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Pt.createDefaultAppearanceStream(c),vr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=Z9(c);f.push({key:"AP",value:"<</N "+g+">>"}),a.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var w="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var b=c.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var M=b[u];typeof M=="function"&&(M=M.call(a,c)),w+="/"+u+" "+M+" ",a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M)}}else typeof(M=b)=="function"&&(M=M.call(a,c)),w+="/"+u+" "+M,a.internal.acroformPlugin.xForms.indexOf(M)>=0||a.internal.acroformPlugin.xForms.push(M);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(U,j){for(var B in U)if(U.hasOwnProperty(B)){var K=B,G=U[B];j.internal.newObjectDeferredBegin(G.objId,!0),vr(G)==="object"&&typeof G.putStream=="function"&&G.putStream(),delete U[K]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},C6=ci.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),vr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?a+="/"+ag(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Kc(r(n[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},n2=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Kc(r(n))+")"},Xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xo.prototype.toString=function(){return this.objId+" 0 R"},Xo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:C6(a,this.objId,this.scope)}):a instanceof Xo?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var R6=function(){Xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};fs(R6,Xo);var I6=function(){Xo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Kc(t(n))+")"}},set:function(t){n=t}})};fs(I6,Xo);var xo=function n(){Xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute F supplied.');e=B}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bi(e,3)},set:function(B){B?this.F=_i(e,3):this.F=wi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(B){if(isNaN(B))throw new Error('Invalid value "'+B+'" for attribute Ff supplied.');t=B}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(B){r=B!==void 0?B:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(B){r[0]=B}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(B){r[1]=B}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(B){r[2]=B}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(B){r[3]=B}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(B){switch(B){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=B;break;default:throw new Error('Invalid value "'+B+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof sg)return;o="FieldObject"+n.FieldNum++}var B=function(K){return K};return this.scope&&(B=this.scope.internal.getEncryptor(this.objId)),"("+Kc(B(o))+")"},set:function(B){o=B.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(B){o=B}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(B){u=B}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(B){c=B}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(B){f=B}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/rv:d},set:function(B){d=B}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(B){g=B}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof sg||this instanceof Cc))return n2(w,this.objId,this.scope)},set:function(B){B=B.toString(),w=B}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof ia==0?n2(A,this.objId,this.scope):A},set:function(B){B=B.toString(),A=this instanceof ia==0?B.substr(0,1)==="("?Rh(B.substr(1,B.length-2)):Rh(B):B}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Rh(A.substr(1,A.length-1)):A},set:function(B){B=B.toString(),A=this instanceof ia==1?"/"+ag(B):B}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(B){this.V=B}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ia==0?n2(b,this.objId,this.scope):b},set:function(B){B=B.toString(),b=this instanceof ia==0?B.substr(0,1)==="("?Rh(B.substr(1,B.length-2)):Rh(B):B}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?Rh(b.substr(1,b.length-1)):b},set:function(B){B=B.toString(),b=this instanceof ia==1?"/"+ag(B):B}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,U=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return U},set:function(B){B=!!B,U=B}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(B){M=B}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,1)},set:function(B){B?this.Ff=_i(this.Ff,1):this.Ff=wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,2)},set:function(B){B?this.Ff=_i(this.Ff,2):this.Ff=wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,3)},set:function(B){B?this.Ff=_i(this.Ff,3):this.Ff=wi(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(B){if([0,1,2].indexOf(B)===-1)throw new Error('Invalid value "'+B+'" for attribute Q supplied.');j=B}}),Object.defineProperty(this,"textAlign",{get:function(){var B;switch(j){case 0:default:B="left";break;case 1:B="center";break;case 2:B="right"}return B},configurable:!0,enumerable:!0,set:function(B){switch(B){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};fs(xo,Xo);var $h=function(){xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return C6(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,18)},set:function(t){t?this.Ff=_i(this.Ff,18):this.Ff=wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=_i(this.Ff,19):this.Ff=wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,20)},set:function(t){t?(this.Ff=_i(this.Ff,20),e.sort()):this.Ff=wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,22)},set:function(t){t?this.Ff=_i(this.Ff,22):this.Ff=wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(t){t?this.Ff=_i(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,27)},set:function(t){t?this.Ff=_i(this.Ff,27):this.Ff=wi(this.Ff,27)}}),this.hasAppearanceStream=!1};fs($h,xo);var Qh=function(){$h.call(this),this.fontName="helvetica",this.combo=!1};fs(Qh,$h);var Xh=function(){Qh.call(this),this.combo=!0};fs(Xh,Qh);var Lp=function(){Xh.call(this),this.edit=!0};fs(Lp,Xh);var ia=function(){xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,15)},set:function(t){t?this.Ff=_i(this.Ff,15):this.Ff=wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,16)},set:function(t){t?this.Ff=_i(this.Ff,16):this.Ff=wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,17)},set:function(t){t?this.Ff=_i(this.Ff,17):this.Ff=wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(t){t?this.Ff=_i(this.Ff,26):this.Ff=wi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Kc(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){vr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+ag(t)}})};fs(ia,xo);var kp=function(){ia.call(this),this.pushButton=!0};fs(kp,ia);var Jh=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};fs(Jh,ia);var sg=function(){var n,e;xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Kc(a(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){vr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fs(sg,xo),Jh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Jh.prototype.createOption=function(n){var e=new sg;return e.Parent=this,e.optionName=n,this.Kids.push(e),rU.call(this.scope,e),e};var Pp=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};fs(Pp,ia);var Cc=function(){xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,13)},set:function(e){e?this.Ff=_i(this.Ff,13):this.Ff=wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,21)},set:function(e){e?this.Ff=_i(this.Ff,21):this.Ff=wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,23)},set:function(e){e?this.Ff=_i(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,24)},set:function(e){e?this.Ff=_i(this.Ff,24):this.Ff=wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,25)},set:function(e){e?this.Ff=_i(this.Ff,25):this.Ff=wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,26)},set:function(e){e?this.Ff=_i(this.Ff,26):this.Ff=wi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fs(Cc,xo);var Dp=function(){Cc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bi(this.Ff,14)},set:function(n){n?this.Ff=_i(this.Ff,14):this.Ff=wi(this.Ff,14)}}),this.password=!0};fs(Dp,Cc);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=W2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+wn(Pt.internal.getWidth(n))+" "+wn(Pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+wn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=$o(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],o=Pt.internal.getHeight(n),u=Pt.internal.getWidth(n),c=W2(n,n.caption);return a.push("1 g"),a.push("0 0 "+wn(u)+" "+wn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+wn(u-1)+" "+wn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+wn(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wn(Pt.internal.getWidth(n))+" "+wn(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Circle.YesNormal,e.D[n]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Pt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ru(Pt.internal.getWidth(n)/2)+" "+Ru(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*Pt.internal.Bezier_C).toFixed(5)),u=Number((r*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ru(Pt.internal.getWidth(n)/2)+" "+Ru(Pt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ru(Pt.internal.getWidth(n)/2)+" "+Ru(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ru(Pt.internal.getWidth(n)/2)+" "+Ru(Pt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Cross.YesNormal,e.D[n]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=$o(n);e.scope=n.scope;var t=[],r=Pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+wn(Pt.internal.getWidth(n)-2)+" "+wn(Pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(wn(r.x1.x)+" "+wn(r.x1.y)+" m"),t.push(wn(r.x2.x)+" "+wn(r.x2.y)+" l"),t.push(wn(r.x4.x)+" "+wn(r.x4.y)+" m"),t.push(wn(r.x3.x)+" "+wn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=Pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+wn(Pt.internal.getWidth(n))+" "+wn(Pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wn(Pt.internal.getWidth(n)-2)+" "+wn(Pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(wn(t.x1.x)+" "+wn(t.x1.y)+" m"),r.push(wn(t.x2.x)+" "+wn(t.x2.y)+" l"),r.push(wn(t.x4.x)+" "+wn(t.x4.y)+" m"),r.push(wn(t.x3.x)+" "+wn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=$o(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wn(Pt.internal.getWidth(n))+" "+wn(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pt.internal.getWidth(n),t=Pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pt.internal.getWidth=function(n){var e=0;return vr(n)==="object"&&(e=s4(n.Rect[2])),e},Pt.internal.getHeight=function(n){var e=0;return vr(n)==="object"&&(e=s4(n.Rect[3])),e};var rU=ci.addField=function(n){if(nU(this,n),!(n instanceof xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ci.AcroFormChoiceField=$h,ci.AcroFormListBox=Qh,ci.AcroFormComboBox=Xh,ci.AcroFormEditBox=Lp,ci.AcroFormButton=ia,ci.AcroFormPushButton=kp,ci.AcroFormRadioButton=Jh,ci.AcroFormCheckBox=Pp,ci.AcroFormTextField=Cc,ci.AcroFormPasswordField=Dp,ci.AcroFormAppearance=Pt,ci.AcroForm={ChoiceField:$h,ListBox:Qh,ComboBox:Xh,EditBox:Lp,Button:ia,PushButton:kp,RadioButton:Jh,CheckBox:Pp,TextField:Cc,PasswordField:Dp,Appearance:Pt},qt.AcroForm={ChoiceField:$h,ListBox:Qh,ComboBox:Xh,EditBox:Lp,Button:ia,PushButton:kp,RadioButton:Jh,CheckBox:Pp,TextField:Cc,PasswordField:Dp,Appearance:Pt};qt.AcroForm;function L6(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(T,L){var D,ne,Ee,ie,ve,ue=t;if((L=L||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(fe(T))for(ve in r)for(Ee=r[ve],D=0;D<Ee.length;D+=1){for(ie=!0,ne=0;ne<Ee[D].length;ne+=1)if(Ee[D][ne]!==void 0&&Ee[D][ne]!==T[ne]){ie=!1;break}if(ie===!0){ue=ve;break}}else for(ve in r)for(Ee=r[ve],D=0;D<Ee.length;D+=1){for(ie=!0,ne=0;ne<Ee[D].length;ne+=1)if(Ee[D][ne]!==void 0&&Ee[D][ne]!==T.charCodeAt(ne)){ie=!1;break}if(ie===!0){ue=ve;break}}return ue===t&&L!==t&&(ue=L),ue},o=function T(L){for(var D=this.internal.write,ne=this.internal.putStream,Ee=(0,this.internal.getFilters)();Ee.indexOf("FlateEncode")!==-1;)Ee.splice(Ee.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:L.width}),ie.push({key:"Height",value:L.height}),L.colorSpace===B.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===B.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var ve="",ue=0,xe=L.transparency.length;ue<xe;ue++)ve+=L.transparency[ue]+" "+L.transparency[ue]+" ";ie.push({key:"Mask",value:"["+ve+"]"})}L.sMask!==void 0&&ie.push({key:"SMask",value:L.objectId+1+" 0 R"});var Fe=L.filter!==void 0?["/"+L.filter]:void 0;if(ne({data:L.data,additionalKeyValues:ie,alreadyAppliedFilters:Fe,objectId:L.objectId}),D("endobj"),"sMask"in L&&L.sMask!==void 0){var Z,V=(Z=L.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:L.bitsPerComponent,W={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:L.sMask};"filter"in L&&(W.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(L.width),W.filter=L.filter),T.call(this,W)}if(L.colorSpace===B.INDEXED){var ee=this.internal.newObject();ne({data:k(new Uint8Array(L.palette)),objectId:ee}),D("endobj")}},u=function(){var T=this.internal.collections[e+"images"];for(var L in T)o.call(this,T[L])},c=function(){var T,L=this.internal.collections[e+"images"],D=this.internal.write;for(var ne in L)D("/I"+(T=L[ne]).index,T.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var T=this.internal.collections[e+"images"];return f.call(this),T},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(T){return typeof n["process"+T.toUpperCase()]=="function"},A=function(T){return vr(T)==="object"&&T.nodeType===1},b=function(T,L){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return Ip(unescape(D).split("base64,").pop());var ne=n.loadFile(D,!0);if(ne!==void 0)return ne}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Ee;switch(L){case"PNG":Ee="image/png";break;case"WEBP":Ee="image/webp";break;default:Ee="image/jpeg"}return Ip(T.toDataURL(Ee,1).split("base64,").pop())}},M=function(T){var L=this.internal.collections[e+"images"];if(L){for(var D in L)if(T===L[D].alias)return L[D]}},U=function(T,L,D){return T||L||(T=-96,L=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),L<0&&(L=-1*D.height*72/L/this.internal.scaleFactor),T===0&&(T=L*D.width/D.height),L===0&&(L=T*D.height/D.width),[T,L]},j=function(T,L,D,ne,Ee,ie){var ve=U.call(this,D,ne,Ee),ue=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Fe=d.call(this);if(D=ve[0],ne=ve[1],Fe[Ee.index]=Ee,ie){ie*=Math.PI/180;var Z=Math.cos(ie),V=Math.sin(ie),W=function(le){return le.toFixed(4)},ee=[W(Z),W(V),W(-1*V),W(Z),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ue(T),xe(L+ne),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ue(D),"0","0",ue(ne),"0","0","cm"].join(" "))):this.internal.write([ue(D),"0","0",ue(ne),ue(T),xe(L+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ee.index+" Do"),this.internal.write("Q")},B=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var K=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},G=n.__addimage__.sHashCode=function(T){var L,D,ne=0;if(typeof T=="string")for(D=T.length,L=0;L<D;L++)ne=(ne<<5)-ne+T.charCodeAt(L),ne|=0;else if(fe(T))for(D=T.byteLength/2,L=0;L<D;L++)ne=(ne<<5)-ne+T[L],ne|=0;return ne},X=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var L=!0;return T.length===0&&(L=!1),T.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(L=!1),L},me=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var L=T.indexOf(",");return L<0?null:T.substring(0,L).trim().endsWith("base64")?T.substring(L+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var fe=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},I=n.__addimage__.binaryStringToUint8Array=function(T){for(var L=T.length,D=new Uint8Array(L),ne=0;ne<L;ne++)D[ne]=T.charCodeAt(ne);return D},k=n.__addimage__.arrayBufferToBinaryString=function(T){for(var L="",D=fe(T)?T:new Uint8Array(T),ne=0;ne<D.length;ne+=8192)L+=String.fromCharCode.apply(null,D.subarray(ne,ne+8192));return L};n.addImage=function(){var T,L,D,ne,Ee,ie,ve,ue,xe;if(typeof arguments[1]=="number"?(L=t,D=arguments[1],ne=arguments[2],Ee=arguments[3],ie=arguments[4],ve=arguments[5],ue=arguments[6],xe=arguments[7]):(L=arguments[1],D=arguments[2],ne=arguments[3],Ee=arguments[4],ie=arguments[5],ve=arguments[6],ue=arguments[7],xe=arguments[8]),vr(T=arguments[0])==="object"&&!A(T)&&"imageData"in T){var Fe=T;T=Fe.imageData,L=Fe.format||L||t,D=Fe.x||D||0,ne=Fe.y||ne||0,Ee=Fe.w||Fe.width||Ee,ie=Fe.h||Fe.height||ie,ve=Fe.alias||ve,ue=Fe.compression||ue,xe=Fe.rotation||Fe.angle||xe}var Z=this.internal.getFilters();if(ue===void 0&&Z.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(D)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var V=C.call(this,T,L,ve,ue);return j.call(this,D,ne,Ee,ie,V,xe),this};var C=function(T,L,D,ne){var Ee,ie,ve;if(typeof T=="string"&&a(T)===t){T=unescape(T);var ue=F(T,!1);(ue!==""||(ue=n.loadFile(T,!0))!==void 0)&&(T=ue)}if(A(T)&&(T=b(T,L)),L=a(T,L),!w(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ve=D)==null||ve.length===0)&&(D=(function(xe){return typeof xe=="string"||fe(xe)?G(xe):fe(xe.data)?G(xe.data):null})(T)),(Ee=M.call(this,D))||(T instanceof Uint8Array||L==="RGBA"||(ie=T,T=I(T)),Ee=this["process"+L.toUpperCase()](T,g.call(this),D,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in n.image_compression?xe:K.NONE})(ne),ie)),!Ee)throw new Error("An unknown error occurred whilst processing the image.");return Ee},F=n.__addimage__.convertBase64ToBinaryString=function(T,L){L=typeof L!="boolean"||L;var D,ne="";if(typeof T=="string"){var Ee;D=(Ee=me(T))!==null&&Ee!==void 0?Ee:T;try{ne=Ip(D)}catch(ie){if(L)throw X(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(T){var L,D,ne="";if(A(T)&&(T=b(T)),typeof T=="string"&&a(T)===t&&((ne=F(T,!1))===""&&(ne=n.loadFile(T)||""),T=ne),D=a(T),!w(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(T instanceof Uint8Array||(T=I(T)),!(L=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=D,L}})(qt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};qt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,w=0;w<d.length&&!g;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){r=d[A];var b=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var U=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),B=this.internal.getEncryptor(U.objId),K=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(B(r.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(B(K))+") >>",U.content=o;var G=U.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+G,r.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(U.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var X=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+X+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var me=this.annotations._nameMap[r.options.name];r.options.pageNumber=me.page,r.options.top=me.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var fe=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+fe+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=f,u=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(qt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(U){return e[U.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(U){return typeof U=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(U)},c=n.__arabicParser__.isArabicEndLetter=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(U){return u(U)&&a.indexOf(U.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(U){var j=0,B=t,K="",G=0;for(j=0;j<U.length;j+=1)B[U.charCodeAt(j)]!==void 0?(G++,typeof(B=B[U.charCodeAt(j)])=="number"&&(K+=String.fromCharCode(B),B=t,G=0),j===U.length-1&&(B=t,K+=U.charAt(j-(G-1)),j-=G-1,G=0)):(B=t,K+=U.charAt(j-G),j-=G,G=0);return K};n.__arabicParser__.isArabicDiacritic=function(U){return U!==void 0&&r[U.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(U,j,B){return u(U)?o(U)===!1?-1:!d(U)||!u(j)&&!u(B)||!u(B)&&c(j)||c(U)&&!u(j)||c(U)&&f(j)||c(U)&&c(j)?0:g(U)&&u(j)&&!c(j)&&u(B)&&d(B)?3:c(U)||!u(B)?1:2:-1},b=function(U){var j=0,B=0,K=0,G="",X="",me="",fe=(U=U||"").split("\\s+"),I=[];for(j=0;j<fe.length;j+=1){for(I.push(""),B=0;B<fe[j].length;B+=1)G=fe[j][B],X=fe[j][B-1],me=fe[j][B+1],u(G)?(K=A(G,X,me),I[j]+=K!==-1?String.fromCharCode(e[G.charCodeAt(0)][K]):G):I[j]+=G;I[j]=w(I[j])}return I.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var U,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,B=[];if(Array.isArray(j)){var K=0;for(B=[],K=0;K<j.length;K+=1)Array.isArray(j[K])?B.push([b(j[K][0]),j[K][1],j[K][2]]):B.push([b(j[K])]);U=B}else U=b(j);return typeof arguments[0]=="string"?U:(arguments[0].text=U,arguments[0])};n.events.push(["preProcessText",M])})(qt.API),qt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(qt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(U){f=U}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(U){d=U}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(U){g=U}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(U){w=U}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(U){A=U}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(U){b=U}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(U){M=U}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,b=0,M=0,U=0,j=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var B=d.maxWidth;B>0?typeof f=="string"?f=this.splitTextToSize(f,B):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(G,X){return G.concat(j.splitTextToSize(X,B))},[])):f=Array.isArray(f)?f:[f];for(var K=0;K<f.length;K++)b<(U=this.getStringUnitWidth(f[K],{font:w})*g)&&(b=U);return b!==0&&(M=f.length),{w:b/=A,h:Math.max((M*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,w,A){if(r.call(this),!g)throw new Error("No data for PDF table.");var b,M,U,j,B=[],K=[],G=[],X={},me={},fe=[],I=[],k=(A=A||{}).autoSize||!1,C=A.printHeaders!==!1,F=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,T=A.margins||Object.assign({width:this.getPageWidth()},e),L=typeof A.padding=="number"?A.padding:3,D=A.headerBackgroundColor||"#c8c8c8",ne=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=ne,this.setFontSize(F),w==null)K=B=Object.keys(g[0]),G=B.map(function(){return"left"});else if(Array.isArray(w)&&vr(w[0])==="object")for(B=w.map(function(Fe){return Fe.name}),K=w.map(function(Fe){return Fe.prompt||Fe.name||""}),G=w.map(function(Fe){return Fe.align||"left"}),b=0;b<w.length;b+=1)me[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&(K=B=w,G=B.map(function(){return"left"}));if(k||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<B.length;b+=1){for(X[j=B[b]]=g.map(function(Fe){return Fe[j]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(K[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=X[j],this.setFont(void 0,"normal"),U=0;U<M.length;U+=1)fe.push(this.getTextDimensions(M[U],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);me[j]=Math.max.apply(null,fe)+L+L,fe=[]}if(C){var Ee={};for(b=0;b<B.length;b+=1)Ee[B[b]]={},Ee[B[b]].text=K[b],Ee[B[b]].align=G[b];var ie=c.call(this,Ee,me);I=B.map(function(Fe){return new o(f,d,me[Fe],ie,Ee[Fe].text,void 0,Ee[Fe].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ve=w.reduce(function(Fe,Z){return Fe[Z.name]=Z.align,Fe},{});for(b=0;b<g.length;b+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:b,data:g[b]},this);var ue=c.call(this,g[b],me);for(U=0;U<B.length;U+=1){var xe=g[b][B[U]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:b,col:U,data:xe},this),u.call(this,new o(f,d,me[B[U]],ue,xe,b+2,ve[B[U]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(b){var M=f[b];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/A+g+g},this).reduce(function(b,M){return Math.max(b,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(M)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(qt.API);var k6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},P6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$2=L6(P6),D6=[100,200,300,400,500,600,700,800,900],iU=L6(D6);function r2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return k6[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof $2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function o4(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var aU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function u4(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function c4(n){return n.trimLeft()}function sU(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function oU(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ih,mp,h4,f4,d4,i2=["times"];function m4(n,e,t,r,a){var o=4,u=g4;switch(a){case qt.API.image_compression.FAST:o=1,u=p4;break;case qt.API.image_compression.MEDIUM:o=6,u=y4;break;case qt.API.image_compression.SLOW:o=9,u=v4}n=(function(f,d,g,w){for(var A,b=f.length/d,M=new Uint8Array(f.length+b),U=[lU,p4,g4,y4,v4],j=0;j<b;j+=1){var B=j*d,K=f.subarray(B,B+d);if(w)M.set(w(K,g,A),B+j);else{for(var G=U.length,X=[],me=0;me<G;me+=1)X[me]=U[me](K,g,A);var fe=cU(X.concat());M.set(X[fe],B+j)}A=K}return M})(n,e,Math.ceil(t*r/8),u);var c=z2(n,{level:o});return qt.API.__addimage__.arrayBufferToBinaryString(c)}function lU(n){var e=Array.apply([],n);return e.unshift(0),e}function p4(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;r[a+1]=n[a]-o+256&255}return r}function g4(n,e,t){var r=n.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function y4(n,e,t){var r=n.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function v4(n,e,t){var r=n.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var u=uU(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function uU(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=a&&r<=o?n:a<=o?e:t}function cU(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function a2(n,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),u=(1<<t)-1;return M6(n,a)>>o&u}function b4(n,e,t,r){var a=t*r,o=Math.floor(a/8),u=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,g,w){if(g+1<d.byteLength)d.setUint16(g,w,!1);else{var A=w>>8&255;d.setUint8(g,A)}})(n,o,M6(n,o)&~(c<<u)&65535|f)}function M6(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function hU(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,g=[],w=0,A=null,b=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var U=n[e++];w=n[e++]|n[e++]<<8,A=n[e++],1&U||(A=null),b=U>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,G=n[e++]|n[e++]<<8,X=n[e++],me=X>>6&1,fe=1<<1+(7&X),I=c,k=f,C=!1;X>>7&&(C=!0,I=e,k=fe,e+=3*fe);var F=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}g.push({x:j,y:B,width:K,height:G,has_local_palette:C,palette_offset:I,palette_size:k,data_offset:F,data_length:e-F,transparent_index:A,interlaced:!!me,delay:w,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return M},this.frameInfo=function(L){if(L<0||L>=g.length)throw new Error("Frame index out of range.");return g[L]},this.decodeAndBlitFrameBGRA=function(L,D){var ne=this.frameInfo(L),Ee=ne.width*ne.height,ie=new Uint8Array(Ee);_4(n,ne.data_offset,ie,Ee);var ve=ne.palette_offset,ue=ne.transparent_index;ue===null&&(ue=256);var xe=ne.width,Fe=t-xe,Z=xe,V=4*(ne.y*t+ne.x),W=4*((ne.y+ne.height)*t+ne.x),ee=V,le=4*Fe;ne.interlaced===!0&&(le+=4*t*7);for(var he=8,be=0,Re=ie.length;be<Re;++be){var pe=ie[be];if(Z===0&&(Z=xe,(ee+=le)>=W&&(le=4*Fe+4*t*(he-1),ee=V+(xe+Fe)*(he<<1),he>>=1)),pe===ue)ee+=4;else{var Pe=n[ve+3*pe],Ke=n[ve+3*pe+1],$e=n[ve+3*pe+2];D[ee++]=$e,D[ee++]=Ke,D[ee++]=Pe,D[ee++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(L,D){var ne=this.frameInfo(L),Ee=ne.width*ne.height,ie=new Uint8Array(Ee);_4(n,ne.data_offset,ie,Ee);var ve=ne.palette_offset,ue=ne.transparent_index;ue===null&&(ue=256);var xe=ne.width,Fe=t-xe,Z=xe,V=4*(ne.y*t+ne.x),W=4*((ne.y+ne.height)*t+ne.x),ee=V,le=4*Fe;ne.interlaced===!0&&(le+=4*t*7);for(var he=8,be=0,Re=ie.length;be<Re;++be){var pe=ie[be];if(Z===0&&(Z=xe,(ee+=le)>=W&&(le=4*Fe+4*t*(he-1),ee=V+(xe+Fe)*(he<<1),he>>=1)),pe===ue)ee+=4;else{var Pe=n[ve+3*pe],Ke=n[ve+3*pe+1],$e=n[ve+3*pe+2];D[ee++]=Pe,D[ee++]=Ke,D[ee++]=$e,D[ee++]=255}--Z}}}function _4(n,e,t,r){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,g=0,w=0,A=0,b=n[e++],M=new Int32Array(4096),U=null;;){for(;g<16&&b!==0;)w|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<f)break;var j=w&d;if(w>>=f,g-=f,j!==o){if(j===u)break;for(var B=j<c?j:U,K=0,G=B;G>o;)G=M[G]>>8,++K;var X=G;if(A+K+(B!==j?1:0)>r)return void kr.log("Warning, gif stream longer than expected.");t[A++]=X;var me=A+=K;for(B!==j&&(t[A++]=X),G=B;K--;)G=M[G],t[--me]=255&G,G>>=8;U!==null&&c<4096&&(M[c++]=U<<8|X,c>=d+1&&f<12&&(++f,d=d<<1|1)),U=j}else c=u+1,d=(1<<(f=a+1))-1,U=null}return A!==r&&kr.log("Warning, gif stream shorter than expected."),t}function s2(n){var e,t,r,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),w=new Array(65535),A=new Array(65535),b=new Array(64),M=new Array(64),U=[],j=0,B=7,K=new Array(64),G=new Array(64),X=new Array(64),me=new Array(256),fe=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(V,W){for(var ee=0,le=0,he=new Array,be=1;be<=16;be++){for(var Re=1;Re<=V[be];Re++)he[W[le]]=[],he[W[le]][0]=ee,he[W[le]][1]=be,le++,ee++;ee*=2}return he}function ve(V){for(var W=V[0],ee=V[1]-1;ee>=0;)W&1<<ee&&(j|=1<<B),ee--,--B<0&&(j==255?(ue(255),ue(0)):ue(j),B=7,j=0)}function ue(V){U.push(V)}function xe(V){ue(V>>8&255),ue(255&V)}function Fe(V,W,ee,le,he){for(var be,Re=he[0],pe=he[240],Pe=(function(Be,ht){var ft,Rt,Tt,Ht,tn,Kt,sn,Ft,gt,an,It=0;for(gt=0;gt<8;++gt){ft=Be[It],Rt=Be[It+1],Tt=Be[It+2],Ht=Be[It+3],tn=Be[It+4],Kt=Be[It+5],sn=Be[It+6];var ur=ft+(Ft=Be[It+7]),dn=ft-Ft,St=Rt+sn,$t=Rt-sn,on=Tt+Kt,Ut=Tt-Kt,Fn=Ht+tn,Gt=Ht-tn,jt=ur+Fn,zn=ur-Fn,Dt=St+on,Mt=St-on;Be[It]=jt+Dt,Be[It+4]=jt-Dt;var vn=.707106781*(Mt+zn);Be[It+2]=zn+vn,Be[It+6]=zn-vn;var fi=.382683433*((jt=Gt+Ut)-(Mt=$t+dn)),$r=.5411961*jt+fi,ki=1.306562965*Mt+fi,Pr=.707106781*(Dt=Ut+$t),Vt=dn+Pr,ka=dn-Pr;Be[It+5]=ka+$r,Be[It+3]=ka-$r,Be[It+1]=Vt+ki,Be[It+7]=Vt-ki,It+=8}for(It=0,gt=0;gt<8;++gt){ft=Be[It],Rt=Be[It+8],Tt=Be[It+16],Ht=Be[It+24],tn=Be[It+32],Kt=Be[It+40],sn=Be[It+48];var Pi=ft+(Ft=Be[It+56]),ce=ft-Ft,Se=Rt+sn,Ce=Rt-sn,Ye=Tt+Kt,nt=Tt-Kt,mt=Ht+tn,ut=Ht-tn,ot=Pi+mt,lt=Pi-mt,pt=Se+Ye,Nt=Se-Ye;Be[It]=ot+pt,Be[It+32]=ot-pt;var yt=.707106781*(Nt+lt);Be[It+16]=lt+yt,Be[It+48]=lt-yt;var gn=.382683433*((ot=ut+nt)-(Nt=Ce+ce)),cn=.5411961*ot+gn,Mn=1.306562965*Nt+gn,Zn=.707106781*(pt=nt+Ce),Qn=ce+Zn,hn=ce-Zn;Be[It+40]=hn+cn,Be[It+24]=hn-cn,Be[It+8]=Qn+Mn,Be[It+56]=Qn-Mn,It++}for(gt=0;gt<64;++gt)an=Be[gt]*ht[gt],b[gt]=an>0?an+.5|0:an-.5|0;return b})(V,W),Ke=0;Ke<64;++Ke)M[I[Ke]]=Pe[Ke];var $e=M[0]-ee;ee=M[0],$e==0?ve(le[0]):(ve(le[A[be=32767+$e]]),ve(w[be]));for(var it=63;it>0&&M[it]==0;)it--;if(it==0)return ve(Re),ee;for(var dt,re=1;re<=it;){for(var at=re;M[re]==0&&re<=it;)++re;var en=re-at;if(en>=16){dt=en>>4;for(var wt=1;wt<=dt;++wt)ve(pe);en&=15}be=32767+M[re],ve(he[(en<<4)+A[be]]),ve(w[be]),re++}return it!=63&&ve(Re),ee}function Z(V){V=Math.min(Math.max(V,1),100),o!=V&&((function(W){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=u((ee[le]*W+50)/100);he=Math.min(Math.max(he,1),255),c[I[le]]=he}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Re=0;Re<64;Re++){var pe=u((be[Re]*W+50)/100);pe=Math.min(Math.max(pe,1),255),f[I[Re]]=pe}for(var Pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,$e=0;$e<8;$e++)for(var it=0;it<8;it++)d[Ke]=1/(c[I[Ke]]*Pe[$e]*Pe[it]*8),g[Ke]=1/(f[I[Ke]]*Pe[$e]*Pe[it]*8),Ke++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),o=V)}this.encode=function(V,W){W&&Z(W),U=new Array,j=0,B=7,xe(65496),xe(65504),xe(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),xe(1),xe(1),ue(0),ue(0),(function(){xe(65499),xe(132),ue(0);for(var Rt=0;Rt<64;Rt++)ue(c[Rt]);ue(1);for(var Tt=0;Tt<64;Tt++)ue(f[Tt])})(),(function(Rt,Tt){xe(65472),xe(17),ue(8),xe(Tt),xe(Rt),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(V.width,V.height),(function(){xe(65476),xe(418),ue(0);for(var Rt=0;Rt<16;Rt++)ue(k[Rt+1]);for(var Tt=0;Tt<=11;Tt++)ue(C[Tt]);ue(16);for(var Ht=0;Ht<16;Ht++)ue(F[Ht+1]);for(var tn=0;tn<=161;tn++)ue(T[tn]);ue(1);for(var Kt=0;Kt<16;Kt++)ue(L[Kt+1]);for(var sn=0;sn<=11;sn++)ue(D[sn]);ue(17);for(var Ft=0;Ft<16;Ft++)ue(ne[Ft+1]);for(var gt=0;gt<=161;gt++)ue(Ee[gt])})(),xe(65498),xe(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var ee=0,le=0,he=0;j=0,B=7,this.encode.displayName="_encode_";for(var be,Re,pe,Pe,Ke,$e,it,dt,re,at=V.data,en=V.width,wt=V.height,Be=4*en,ht=0;ht<wt;){for(be=0;be<Be;){for(Ke=Be*ht+be,it=-1,dt=0,re=0;re<64;re++)$e=Ke+(dt=re>>3)*Be+(it=4*(7&re)),ht+dt>=wt&&($e-=Be*(ht+1+dt-wt)),be+it>=Be&&($e-=be+it-Be+4),Re=at[$e++],pe=at[$e++],Pe=at[$e++],K[re]=(fe[Re]+fe[pe+256|0]+fe[Pe+512|0]>>16)-128,G[re]=(fe[Re+768|0]+fe[pe+1024|0]+fe[Pe+1280|0]>>16)-128,X[re]=(fe[Re+1280|0]+fe[pe+1536|0]+fe[Pe+1792|0]>>16)-128;ee=Fe(K,d,ee,e,r),le=Fe(G,g,le,t,a),he=Fe(X,g,he,t,a),be+=32}ht+=8}if(B>=0){var ft=[];ft[1]=B+1,ft[0]=(1<<B+1)-1,ve(ft)}return xe(65497),new Uint8Array(U)},n=n||50,(function(){for(var V=String.fromCharCode,W=0;W<256;W++)me[W]=V(W)})(),e=ie(k,C),t=ie(L,D),r=ie(F,T),a=ie(ne,Ee),(function(){for(var V=1,W=2,ee=1;ee<=15;ee++){for(var le=V;le<W;le++)A[32767+le]=ee,w[32767+le]=[],w[32767+le][1]=ee,w[32767+le][0]=le;for(var he=-(W-1);he<=-V;he++)A[32767+he]=ee,w[32767+he]=[],w[32767+he][1]=ee,w[32767+he][0]=W-1+he;V<<=1,W<<=1}})(),(function(){for(var V=0;V<256;V++)fe[V]=19595*V,fe[V+256|0]=38470*V,fe[V+512|0]=7471*V+32768,fe[V+768|0]=-11059*V,fe[V+1024|0]=-21709*V,fe[V+1280|0]=32768*V+8421375,fe[V+1536|0]=-27439*V,fe[V+1792|0]=-5329*V})(),Z(n)}function _o(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function w4(n){function e(C){if(!C)throw Error("assert :P")}function t(C,F,T){for(var L=0;4>L;L++)if(C[F+L]!=T.charCodeAt(L))return!0;return!1}function r(C,F,T,L,D){for(var ne=0;ne<D;ne++)C[F+ne]=T[L+ne]}function a(C,F,T,L){for(var D=0;D<L;D++)C[F+D]=T}function o(C){return new Int32Array(C)}function u(C,F){for(var T=[],L=0;L<C;L++)T.push(new F);return T}function c(C,F){var T=[];return(function L(D,ne,Ee){for(var ie=Ee[ne],ve=0;ve<ie&&(D.push(Ee.length>ne+1?[]:new F),!(Ee.length<ne+1));ve++)L(D[ve],ne+1,Ee)})(T,0,C),T}var f=function(){var C=this;function F(m,v){for(var S=1<<v-1>>>0;m&S;)S>>>=1;return S?(m&S-1)+S:m}function T(m,v,S,R,q){e(!(R%S));do m[v+(R-=S)]=q;while(0<R)}function L(m,v,S,R,q){if(e(2328>=q),512>=q)var H=o(512);else if((H=o(q))==null)return 0;return(function(Y,Q,te,oe,_e,De){var ae,Ae,Le=Q,qe=1<<te,ke=o(16),ze=o(16);for(e(_e!=0),e(oe!=null),e(Y!=null),e(0<te),Ae=0;Ae<_e;++Ae){if(15<oe[Ae])return 0;++ke[oe[Ae]]}if(ke[0]==_e)return 0;for(ze[1]=0,ae=1;15>ae;++ae){if(ke[ae]>1<<ae)return 0;ze[ae+1]=ze[ae]+ke[ae]}for(Ae=0;Ae<_e;++Ae)ae=oe[Ae],0<oe[Ae]&&(De[ze[ae]++]=Ae);if(ze[15]==1)return(oe=new D).g=0,oe.value=De[0],T(Y,Le,1,qe,oe),qe;var We,rt=-1,Ze=qe-1,kt=0,bt=1,mn=1,xt=1<<te;for(Ae=0,ae=1,_e=2;ae<=te;++ae,_e<<=1){if(bt+=mn<<=1,0>(mn-=ke[ae]))return 0;for(;0<ke[ae];--ke[ae])(oe=new D).g=ae,oe.value=De[Ae++],T(Y,Le+kt,_e,xt,oe),kt=F(kt,ae)}for(ae=te+1,_e=2;15>=ae;++ae,_e<<=1){if(bt+=mn<<=1,0>(mn-=ke[ae]))return 0;for(;0<ke[ae];--ke[ae]){if(oe=new D,(kt&Ze)!=rt){for(Le+=xt,We=1<<(rt=ae)-te;15>rt&&!(0>=(We-=ke[rt]));)++rt,We<<=1;qe+=xt=1<<(We=rt-te),Y[Q+(rt=kt&Ze)].g=We+te,Y[Q+rt].value=Le-Q-rt}oe.g=ae-te,oe.value=De[Ae++],T(Y,Le+(kt>>te),_e,xt,oe),kt=F(kt,ae)}}return bt!=2*ze[15]-1?0:qe})(m,v,S,R,q,H)}function D(){this.value=this.g=0}function ne(){this.value=this.g=0}function Ee(){this.G=u(5,D),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Po,ne)}function ie(m,v,S,R){e(m!=null),e(v!=null),e(2147483648>R),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=v,m.pa=S,m.Jd=v,m.Yc=S+R,m.Zc=4<=R?S+R-4+1:S,Re(m)}function ve(m,v){for(var S=0;0<v--;)S|=Pe(m,128)<<v;return S}function ue(m,v){var S=ve(m,v);return pe(m)?-S:S}function xe(m,v,S,R){var q,H=0;for(e(m!=null),e(v!=null),e(4294967288>R),m.Sb=R,m.Ra=0,m.u=0,m.h=0,4<R&&(R=4),q=0;q<R;++q)H+=v[S+q]<<8*q;m.Ra=H,m.bb=R,m.oa=v,m.pa=S}function Fe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Os-8>>>0,++m.bb,m.u-=8;le(m)&&(m.h=1,m.u=0)}function Z(m,v){if(e(0<=v),!m.h&&v<=ha){var S=ee(m)&_a[v];return m.u+=v,Fe(m),S}return m.h=1,m.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(m){return m.Ra>>>(m.u&Os-1)>>>0}function le(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Os}function he(m,v){m.u=v,m.h=le(m)}function be(m){m.u>=Us&&(e(m.u>=Us),Fe(m))}function Re(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function pe(m){return ve(m,1)}function Pe(m,v){var S=m.Ca;0>m.b&&Re(m);var R=m.b,q=S*v>>>8,H=(m.I>>>R>q)+0;for(H?(S-=q,m.I-=q+1<<R>>>0):S=q+1,R=S,q=0;256<=R;)q+=8,R>>=8;return R=7^q+so[R],m.b-=R,m.Ca=(S<<R)-1,H}function Ke(m,v,S){m[v+0]=S>>24&255,m[v+1]=S>>16&255,m[v+2]=S>>8&255,m[v+3]=255&S}function $e(m,v){return m[v+0]|m[v+1]<<8}function it(m,v){return $e(m,v)|m[v+2]<<16}function dt(m,v){return $e(m,v)|$e(m,v+2)<<16}function re(m,v){var S=1<<v;return e(m!=null),e(0<v),m.X=o(S),m.X==null?0:(m.Mb=32-v,m.Xa=v,1)}function at(m,v){e(m!=null),e(v!=null),e(m.Xa==v.Xa),r(v.X,0,m.X,0,1<<v.Xa)}function en(){this.X=[],this.Xa=this.Mb=0}function wt(m,v,S,R){e(S!=null),e(R!=null);var q=S[0],H=R[0];return q==0&&(q=(m*H+v/2)/v),H==0&&(H=(v*q+m/2)/m),0>=q||0>=H?0:(S[0]=q,R[0]=H,1)}function Be(m,v){return m+(1<<v)-1>>>v}function ht(m,v){return((4278255360&m)+(4278255360&v)>>>0&4278255360)+((16711935&m)+(16711935&v)>>>0&16711935)>>>0}function ft(m,v){C[v]=function(S,R,q,H,Y,Q,te){var oe;for(oe=0;oe<Y;++oe){var _e=C[m](Q[te+oe-1],q,H+oe);Q[te+oe]=ht(S[R+oe],_e)}}}function Rt(){this.ud=this.hd=this.jd=0}function Tt(m,v){return((4278124286&(m^v))>>>1)+(m&v)>>>0}function Ht(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function tn(m,v){return Ht(m+(m-v+.5>>1))}function Kt(m,v,S){return Math.abs(v-S)-Math.abs(m-S)}function sn(m,v,S,R,q,H,Y){for(R=H[Y-1],S=0;S<q;++S)H[Y+S]=R=ht(m[v+S],R)}function Ft(m,v,S,R,q){var H;for(H=0;H<S;++H){var Y=m[v+H],Q=Y>>8&255,te=16711935&(te=(te=16711935&Y)+((Q<<16)+Q));R[q+H]=(4278255360&Y)+te>>>0}}function gt(m,v){v.jd=255&m,v.hd=m>>8&255,v.ud=m>>16&255}function an(m,v,S,R,q,H){var Y;for(Y=0;Y<R;++Y){var Q=v[S+Y],te=Q>>>8,oe=Q,_e=255&(_e=(_e=Q>>>16)+((m.jd<<24>>24)*(te<<24>>24)>>>5));oe=255&(oe=(oe+=(m.hd<<24>>24)*(te<<24>>24)>>>5)+((m.ud<<24>>24)*(_e<<24>>24)>>>5)),q[H+Y]=(4278255360&Q)+(_e<<16)+oe}}function It(m,v,S,R,q){C[v]=function(H,Y,Q,te,oe,_e,De,ae,Ae){for(te=De;te<ae;++te)for(De=0;De<Ae;++De)oe[_e++]=q(Q[R(H[Y++])])},C[m]=function(H,Y,Q,te,oe,_e,De){var ae=8>>H.b,Ae=H.Ea,Le=H.K[0],qe=H.w;if(8>ae)for(H=(1<<H.b)-1,qe=(1<<ae)-1;Y<Q;++Y){var ke,ze=0;for(ke=0;ke<Ae;++ke)ke&H||(ze=R(te[oe++])),_e[De++]=q(Le[ze&qe]),ze>>=ae}else C["VP8LMapColor"+S](te,oe,Le,qe,_e,De,Y,Q,Ae)}}function ur(m,v,S,R,q){for(S=v+S;v<S;){var H=m[v++];R[q++]=H>>16&255,R[q++]=H>>8&255,R[q++]=255&H}}function dn(m,v,S,R,q){for(S=v+S;v<S;){var H=m[v++];R[q++]=H>>16&255,R[q++]=H>>8&255,R[q++]=255&H,R[q++]=H>>24&255}}function St(m,v,S,R,q){for(S=v+S;v<S;){var H=(Y=m[v++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;R[q++]=H,R[q++]=Y}}function $t(m,v,S,R,q){for(S=v+S;v<S;){var H=(Y=m[v++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;R[q++]=H,R[q++]=Y}}function on(m,v,S,R,q){for(S=v+S;v<S;){var H=m[v++];R[q++]=255&H,R[q++]=H>>8&255,R[q++]=H>>16&255}}function Ut(m,v,S,R,q,H){if(H==0)for(S=v+S;v<S;)Ke(R,((H=m[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),q+=32;else r(R,q,m,v,S)}function Fn(m,v){C[v][0]=C[m+"0"],C[v][1]=C[m+"1"],C[v][2]=C[m+"2"],C[v][3]=C[m+"3"],C[v][4]=C[m+"4"],C[v][5]=C[m+"5"],C[v][6]=C[m+"6"],C[v][7]=C[m+"7"],C[v][8]=C[m+"8"],C[v][9]=C[m+"9"],C[v][10]=C[m+"10"],C[v][11]=C[m+"11"],C[v][12]=C[m+"12"],C[v][13]=C[m+"13"],C[v][14]=C[m+"0"],C[v][15]=C[m+"0"]}function Gt(m){return m==fc||m==Jc||m==iu||m==Zc}function jt(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jt,this.f.kb=new zn,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fi(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function $r(m,v){var S=m.T,R=v.ba.f.RGBA,q=R.eb,H=R.fb+m.ka*R.A,Y=qi[v.ba.S],Q=m.y,te=m.O,oe=m.f,_e=m.N,De=m.ea,ae=m.W,Ae=v.cc,Le=v.dc,qe=v.Mc,ke=v.Nc,ze=m.ka,We=m.ka+m.T,rt=m.U,Ze=rt+1>>1;for(ze==0?Y(Q,te,null,null,oe,_e,De,ae,oe,_e,De,ae,q,H,null,null,rt):(Y(v.ec,v.fc,Q,te,Ae,Le,qe,ke,oe,_e,De,ae,q,H-R.A,q,H,rt),++S);ze+2<We;ze+=2)Ae=oe,Le=_e,qe=De,ke=ae,_e+=m.Rc,ae+=m.Rc,H+=2*R.A,Y(Q,(te+=2*m.fa)-m.fa,Q,te,Ae,Le,qe,ke,oe,_e,De,ae,q,H-R.A,q,H,rt);return te+=m.fa,m.j+We<m.o?(r(v.ec,v.fc,Q,te,rt),r(v.cc,v.dc,oe,_e,Ze),r(v.Mc,v.Nc,De,ae,Ze),S--):1&We||Y(Q,te,null,null,oe,_e,De,ae,oe,_e,De,ae,q,H+R.A,null,null,rt),S}function ki(m,v,S){var R=m.F,q=[m.J];if(R!=null){var H=m.U,Y=v.ba.S,Q=Y==hc||Y==iu;v=v.ba.f.RGBA;var te=[0],oe=m.ka;te[0]=m.T,m.Kb&&(oe==0?--te[0]:(--oe,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(te[0]=m.o-m.j-oe));var _e=v.eb;oe=v.fb+oe*v.A,m=oc(R,q[0],m.width,H,te,_e,oe+(Q?0:3),v.A),e(S==te),m&&Gt(Y)&&yl(_e,oe,Q,H,te,v.A)}return 0}function Pr(m){var v=m.ma,S=v.ba.S,R=11>S,q=S==Zi||S==Xa||S==hc||S==ru||S==12||Gt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ao(v.Oa,m,q?11:12))return 0;if(q&&Gt(S)&&fn(),m.da)alert("todo:use_scaling");else{if(R){if(v.Ib=fi,m.Kb){if(S=m.U+1>>1,v.memory=o(m.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+m.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=$r,fn()}}else alert("todo:EmitYUV");q&&(v.Jb=ki,R&&Ue())}if(R&&!jo){for(m=0;256>m;++m)Hi[m]=89858*(m-128)+ou>>rs,Mg[m]=-22014*(m-128)+ou,um[m]=-45773*(m-128),ih[m]=113618*(m-128)+ou>>rs;for(m=wl;m<Bo;++m)v=76283*(m-16)+ou>>rs,Og[m-wl]=Gn(v,255),Ug[m-wl]=Gn(v+8>>4,15);jo=1}return 1}function Vt(m){var v=m.ma,S=m.U,R=m.T;return e(!(1&m.ka)),0>=S||0>=R?0:(S=v.Ib(m,v),v.Jb!=null&&v.Jb(m,v,S),v.Dc+=S,1)}function ka(m){m.ma.memory=null}function Pi(m,v,S,R){return Z(m,8)!=47?0:(v[0]=Z(m,14)+1,S[0]=Z(m,14)+1,R[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function ce(m,v){if(4>m)return m+1;var S=m-2>>1;return(2+(1&m)<<S)+Z(v,S)+1}function Se(m,v){return 120<v?v-120:1<=(S=((S=Za[v-1])>>4)*m+(8-(15&S)))?S:1;var S}function Ce(m,v,S){var R=ee(S),q=m[v+=255&R].g-8;return 0<q&&(he(S,S.u+8),R=ee(S),v+=m[v].value,v+=R&(1<<q)-1),he(S,S.u+m[v].g),m[v].value}function Ye(m,v,S){return S.g+=m.g,S.value+=m.value<<v>>>0,e(8>=S.g),m.g}function nt(m,v,S){var R=m.xc;return e((v=R==0?0:m.vc[m.md*(S>>R)+(v>>R)])<m.Wb),m.Ya[v]}function mt(m,v,S,R){var q=m.ab,H=m.c*v,Y=m.C;v=Y+v;var Q=S,te=R;for(R=m.Ta,S=m.Ua;0<q--;){var oe=m.gc[q],_e=Y,De=v,ae=Q,Ae=te,Le=(te=R,Q=S,oe.Ea);switch(e(_e<De),e(De<=oe.nc),oe.hc){case 2:Jr(ae,Ae,(De-_e)*Le,te,Q);break;case 0:var qe=_e,ke=De,ze=te,We=Q,rt=(xt=oe).Ea;qe==0&&(Zl(ae,Ae,null,null,1,ze,We),sn(ae,Ae+1,0,0,rt-1,ze,We+1),Ae+=rt,We+=rt,++qe);for(var Ze=1<<xt.b,kt=Ze-1,bt=Be(rt,xt.b),mn=xt.K,xt=xt.w+(qe>>xt.b)*bt;qe<ke;){var Ln=mn,Ir=xt,bn=1;for(eu(ae,Ae,ze,We-rt,1,ze,We);bn<rt;){var _t=(bn&~kt)+Ze;_t>rt&&(_t=rt),(0,oo[Ln[Ir++]>>8&15])(ae,Ae+ +bn,ze,We+bn-rt,_t-bn,ze,We+bn),bn=_t}Ae+=rt,We+=rt,++qe&kt||(xt+=bt)}De!=oe.nc&&r(te,Q-Le,te,Q+(De-_e-1)*Le,Le);break;case 1:for(Le=ae,ke=Ae,rt=(ae=oe.Ea)-(We=ae&~(ze=(Ae=1<<oe.b)-1)),qe=Be(ae,oe.b),Ze=oe.K,oe=oe.w+(_e>>oe.b)*qe;_e<De;){for(kt=Ze,bt=oe,mn=new Rt,xt=ke+We,Ln=ke+ae;ke<xt;)gt(kt[bt++],mn),tu(mn,Le,ke,Ae,te,Q),ke+=Ae,Q+=Ae;ke<Ln&&(gt(kt[bt++],mn),tu(mn,Le,ke,rt,te,Q),ke+=rt,Q+=rt),++_e&ze||(oe+=qe)}break;case 3:if(ae==te&&Ae==Q&&0<oe.b){for(ke=te,ae=Le=Q+(De-_e)*Le-(We=(De-_e)*Be(oe.Ea,oe.b)),Ae=te,ze=Q,qe=[],We=(rt=We)-1;0<=We;--We)qe[We]=Ae[ze+We];for(We=rt-1;0<=We;--We)ke[ae+We]=qe[We];Yc(oe,_e,De,te,Le,te,Q)}else Yc(oe,_e,De,ae,Ae,te,Q)}Q=R,te=S}te!=S&&r(R,S,Q,te,H)}function ut(m,v){var S=m.V,R=m.Ba+m.c*m.C,q=v-m.C;if(e(v<=m.l.o),e(16>=q),0<q){var H=m.l,Y=m.Ta,Q=m.Ua,te=H.width;if(mt(m,q,S,R),q=Q=[Q],e((S=m.C)<(R=v)),e(H.v<H.va),R>H.o&&(R=H.o),S<H.j){var oe=H.j-S;S=H.j,q[0]+=oe*te}if(S>=R?S=0:(q[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=R-S,S=1),S){if(Q=Q[0],11>(S=m.ca).S){var _e=S.f.RGBA,De=(R=S.S,q=H.U,H=H.T,oe=_e.eb,_e.A),ae=H;for(_e=_e.fb+m.Ma*_e.A;0<ae--;){var Ae=Y,Le=Q,qe=q,ke=oe,ze=_e;switch(R){case Qc:nu(Ae,Le,qe,ke,ze);break;case Zi:lo(Ae,Le,qe,ke,ze);break;case fc:lo(Ae,Le,qe,ke,ze),yl(ke,ze,0,qe,1,0);break;case Xc:pl(Ae,Le,qe,ke,ze);break;case Xa:Ut(Ae,Le,qe,ke,ze,1);break;case Jc:Ut(Ae,Le,qe,ke,ze,1),yl(ke,ze,0,qe,1,0);break;case hc:Ut(Ae,Le,qe,ke,ze,0);break;case iu:Ut(Ae,Le,qe,ke,ze,0),yl(ke,ze,1,qe,1,0);break;case ru:uo(Ae,Le,qe,ke,ze);break;case Zc:uo(Ae,Le,qe,ke,ze),Qa(ke,ze,qe,1,0);break;case Do:js(Ae,Le,qe,ke,ze);break;default:e(0)}Q+=te,_e+=De}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=S.height)}}m.C=v,e(m.C<=m.i)}function ot(m){var v;if(0<m.ua)return 0;for(v=0;v<m.Wb;++v){var S=m.Ya[v].G,R=m.Ya[v].H;if(0<S[1][R[1]+0].g||0<S[2][R[2]+0].g||0<S[3][R[3]+0].g)return 0}return 1}function lt(m,v,S,R,q,H){if(m.Z!=0){var Y=m.qd,Q=m.rd;for(e(fo[m.Z]!=null);v<S;++v)fo[m.Z](Y,Q,R,q,R,q,H),Y=R,Q=q,q+=H;m.qd=Y,m.rd=Q}}function pt(m,v){var S=m.l.ma,R=S.Z==0||S.Z==1?m.l.j:m.C;if(R=m.C<R?R:m.C,e(v<=m.l.o),v>R){var q=m.l.width,H=S.ca,Y=S.tb+q*R,Q=m.V,te=m.Ba+m.c*R,oe=m.gc;e(m.ab==1),e(oe[0].hc==3),Bs(oe[0],R,v,Q,te,H,Y),lt(S,R,v,H,Y,q)}m.C=m.Ma=v}function Nt(m,v,S,R,q,H,Y){var Q=m.$/R,te=m.$%R,oe=m.m,_e=m.s,De=S+m.$,ae=De;q=S+R*q;var Ae=S+R*H,Le=280+_e.ua,qe=m.Pb?Q:16777216,ke=0<_e.ua?_e.Wa:null,ze=_e.wc,We=De<Ae?nt(_e,te,Q):null;e(m.C<H),e(Ae<=q);var rt=!1;e:for(;;){for(;rt||De<Ae;){var Ze=0;if(Q>=qe){var kt=De-S;e((qe=m).Pb),qe.wd=qe.m,qe.xd=kt,0<qe.s.ua&&at(qe.s.Wa,qe.s.vb),qe=Q+Mo}if(te&ze||(We=nt(_e,te,Q)),e(We!=null),We.Qb&&(v[De]=We.qb,rt=!0),!rt)if(be(oe),We.jc){Ze=oe,kt=v;var bt=De,mn=We.pd[ee(Ze)&Po-1];e(We.jc),256>mn.g?(he(Ze,Ze.u+mn.g),kt[bt]=mn.value,Ze=0):(he(Ze,Ze.u+mn.g-256),e(256<=mn.value),Ze=mn.value),Ze==0&&(rt=!0)}else Ze=Ce(We.G[0],We.H[0],oe);if(oe.h)break;if(rt||256>Ze){if(!rt)if(We.nd)v[De]=(We.qb|Ze<<8)>>>0;else{if(be(oe),rt=Ce(We.G[1],We.H[1],oe),be(oe),kt=Ce(We.G[2],We.H[2],oe),bt=Ce(We.G[3],We.H[3],oe),oe.h)break;v[De]=(bt<<24|rt<<16|Ze<<8|kt)>>>0}if(rt=!1,++De,++te>=R&&(te=0,++Q,Y!=null&&Q<=H&&!(Q%16)&&Y(m,Q),ke!=null))for(;ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else if(280>Ze){if(Ze=ce(Ze-256,oe),kt=Ce(We.G[4],We.H[4],oe),be(oe),kt=Se(R,kt=ce(kt,oe)),oe.h)break;if(De-S<kt||q-De<Ze)break e;for(bt=0;bt<Ze;++bt)v[De+bt]=v[De+bt-kt];for(De+=Ze,te+=Ze;te>=R;)te-=R,++Q,Y!=null&&Q<=H&&!(Q%16)&&Y(m,Q);if(e(De<=q),te&ze&&(We=nt(_e,te,Q)),ke!=null)for(;ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else{if(!(Ze<Le))break e;for(rt=Ze-280,e(ke!=null);ae<De;)Ze=v[ae++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze;Ze=De,e(!(rt>>>(kt=ke).Xa)),v[Ze]=kt.X[rt],rt=!0}rt||e(oe.h==le(oe))}if(m.Pb&&oe.h&&De<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&at(m.s.vb,m.s.Wa);else{if(oe.h)break e;Y?.(m,Q>H?H:Q),m.a=0,m.$=De-S}return 1}return m.a=3,0}function yt(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var v=m.Wa;v!=null&&(v.X=null),m.vb=null,e(m!=null)}function gn(){var m=new Qt;return m==null?null:(m.a=0,m.xb=Sf,Fn("Predictor","VP8LPredictors"),Fn("Predictor","VP8LPredictors_C"),Fn("PredictorAdd","VP8LPredictorsAdd"),Fn("PredictorAdd","VP8LPredictorsAdd_C"),Jr=Ft,tu=an,nu=ur,lo=dn,uo=St,js=$t,pl=on,C.VP8LMapColor32b=Vs,C.VP8LMapColor8b=ji,m)}function cn(m,v,S,R,q){var H=1,Y=[m],Q=[v],te=R.m,oe=R.s,_e=null,De=0;e:for(;;){if(S)for(;H&&Z(te,1);){var ae=Y,Ae=Q,Le=R,qe=1,ke=Le.m,ze=Le.gc[Le.ab],We=Z(ke,2);if(Le.Oc&1<<We)H=0;else{switch(Le.Oc|=1<<We,ze.hc=We,ze.Ea=ae[0],ze.nc=Ae[0],ze.K=[null],++Le.ab,e(4>=Le.ab),We){case 0:case 1:ze.b=Z(ke,3)+2,qe=cn(Be(ze.Ea,ze.b),Be(ze.nc,ze.b),0,Le,ze.K),ze.K=ze.K[0];break;case 3:var rt,Ze=Z(ke,8)+1,kt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ae[0]=Be(ze.Ea,kt),ze.b=kt,rt=qe=cn(Ze,1,0,Le,ze.K)){var bt,mn=Ze,xt=ze,Ln=1<<(8>>xt.b),Ir=o(Ln);if(Ir==null)rt=0;else{var bn=xt.K[0],_t=xt.w;for(Ir[0]=xt.K[0][0],bt=1;bt<1*mn;++bt)Ir[bt]=ht(bn[_t+bt],Ir[bt-1]);for(;bt<4*Ln;++bt)Ir[bt]=0;xt.K[0]=null,xt.K[0]=Ir,rt=1}}qe=rt;break;case 2:break;default:e(0)}H=qe}}if(Y=Y[0],Q=Q[0],H&&Z(te,1)&&!(H=1<=(De=Z(te,4))&&11>=De)){R.a=3;break e}var ct;if(ct=H)t:{var Mr,nn,Sn,sr=R,gi=Y,Gi=Q,Ar=De,ii=S,ea=sr.m,ai=sr.s,Tn=[null],Kn=1,Or=0,Jn=es[Ar];n:for(;;){if(ii&&Z(ea,1)){var yi=Z(ea,3)+2,Ur=Be(gi,yi),Yn=Be(Gi,yi),ti=Ur*Yn;if(!cn(Ur,Yn,0,sr,Tn))break n;for(Tn=Tn[0],ai.xc=yi,Mr=0;Mr<ti;++Mr){var or=Tn[Mr]>>8&65535;Tn[Mr]=or,or>=Kn&&(Kn=or+1)}}if(ea.h)break n;for(nn=0;5>nn;++nn){var si=bl[nn];!nn&&0<Ar&&(si+=1<<Ar),Or<si&&(Or=si)}var oi=u(Kn*Jn,D),pr=Kn,Hn=u(pr,Ee);if(Hn==null)var ta=null;else e(65536>=pr),ta=Hn;var Gr=o(Or);if(ta==null||Gr==null||oi==null){sr.a=1;break n}var Wt=oi;for(Mr=Sn=0;Mr<Kn;++Mr){var Xt=ta[Mr],Wn=Xt.G,wa=Xt.H,is=0,da=1,li=0;for(nn=0;5>nn;++nn){si=bl[nn],Wn[nn]=Wt,wa[nn]=Sn,!nn&&0<Ar&&(si+=1<<Ar);i:{var Fo,zo=si,sh=sr,Sr=Gr,xf=Wt,Tf=Sn,oh=0,mo=sh.m,Vg=Z(mo,1);if(a(Sr,0,0,zo),Vg){var Cf=Z(mo,1)+1,Rf=Z(mo,1),lh=Z(mo,Rf==0?1:8);Sr[lh]=1,Cf==2&&(Sr[lh=Z(mo,8)]=1);var xi=1}else{var Kr=o(19),gc=Z(mo,4)+4;if(19<gc){sh.a=3;var qo=0;break i}for(Fo=0;Fo<gc;++Fo)Kr[dc[Fo]]=Z(mo,3);var uu=void 0,El=void 0,qs=sh,uh=Kr,cu=zo,ch=Sr,hh=0,po=qs.m,If=8,Lf=u(128,D);r:for(;L(Lf,0,7,uh,19);){if(Z(po,1)){var cm=2+2*Z(po,3);if((uu=2+Z(po,cm))>cu)break r}else uu=cu;for(El=0;El<cu&&uu--;){be(po);var kf=Lf[0+(127&ee(po))];he(po,po.u+kf.g);var Ho=kf.value;if(16>Ho)ch[El++]=Ho,Ho!=0&&(If=Ho);else{var hm=Ho==16,fm=Ho-16,dm=au[fm],Pf=Z(po,Ja[fm])+dm;if(El+Pf>cu)break r;for(var mm=hm?If:0;0<Pf--;)ch[El++]=mm}}hh=1;break r}hh||(qs.a=3),xi=hh}(xi=xi&&!mo.h)&&(oh=L(xf,Tf,8,Sr,zo)),xi&&oh!=0?qo=oh:(sh.a=3,qo=0)}if(qo==0)break n;if(da&&eh[nn]==1&&(da=Wt[Sn].g==0),is+=Wt[Sn].g,Sn+=qo,3>=nn){var Al,fh=Gr[0];for(Al=1;Al<si;++Al)Gr[Al]>fh&&(fh=Gr[Al]);li+=fh}}if(Xt.nd=da,Xt.Qb=0,da&&(Xt.qb=(Wn[3][wa[3]+0].value<<24|Wn[1][wa[1]+0].value<<16|Wn[2][wa[2]+0].value)>>>0,is==0&&256>Wn[0][wa[0]+0].value&&(Xt.Qb=1,Xt.qb+=Wn[0][wa[0]+0].value<<8)),Xt.jc=!Xt.Qb&&6>li,Xt.jc){var yc,Hs=Xt;for(yc=0;yc<Po;++yc){var go=yc,yo=Hs.pd[go],dh=Hs.G[0][Hs.H[0]+go];256<=dh.value?(yo.g=dh.g+256,yo.value=dh.value):(yo.g=0,yo.value=0,go>>=Ye(dh,8,yo),go>>=Ye(Hs.G[1][Hs.H[1]+go],16,yo),go>>=Ye(Hs.G[2][Hs.H[2]+go],0,yo),Ye(Hs.G[3][Hs.H[3]+go],24,yo))}}}ai.vc=Tn,ai.Wb=Kn,ai.Ya=ta,ai.yc=oi,ct=1;break t}ct=0}if(!(H=ct)){R.a=3;break e}if(0<De){if(oe.ua=1<<De,!re(oe.Wa,De)){R.a=1,H=0;break e}}else oe.ua=0;var mh=R,Sl=Y,pm=Q,hu=mh.s,fu=hu.xc;if(mh.c=Sl,mh.i=pm,hu.md=Be(Sl,fu),hu.wc=fu==0?-1:(1<<fu)-1,S){R.xb=Oo;break e}if((_e=o(Y*Q))==null){R.a=1,H=0;break e}H=(H=Nt(R,_e,0,Y,Q,Q,null))&&!te.h;break e}return H?(q!=null?q[0]=_e:(e(_e==null),e(S)),R.$=0,S||yt(oe)):yt(oe),H}function Mn(m,v){var S=m.c*m.i,R=S+v+16*v;return e(m.c<=v),m.V=o(R),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+S+v,1)}function Zn(m,v){var S=m.C,R=v-S,q=m.V,H=m.Ba+m.c*S;for(e(v<=m.l.o);0<R;){var Y=16<R?16:R,Q=m.l.ma,te=m.l.width,oe=te*Y,_e=Q.ca,De=Q.tb+te*S,ae=m.Ta,Ae=m.Ua;mt(m,Y,q,H),Fa(ae,Ae,_e,De,oe),lt(Q,S,S+Y,_e,De,te),R-=Y,q+=Y*m.c,S+=Y}e(S==v),m.C=m.Ma=v}function Qn(){this.ub=this.yd=this.td=this.Rb=0}function hn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function zr(){this.Yb=(function(){var m=[];return(function v(S,R,q){for(var H=q[R],Y=0;Y<H&&(S.push(q.length>R+1?[]:0),!(q.length<R+1));Y++)v(S[Y],R+1,q)})(m,0,[3,11]),m})()}function ar(){this.jb=o(3),this.Wc=c([4,8],zr),this.Xc=c([4,17],zr)}function Di(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function dr(){this.ld=this.La=this.dd=this.tc=0}function Ai(){this.Na=this.la=0}function di(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pa(){this.uc=this.M=this.Nb=0,this.wa=Array(new dr),this.Y=0,this.ya=Array(new Mi),this.aa=0,this.l=new Tr}function Da(){this.y=o(16),this.f=o(8),this.ea=o(8)}function An(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new Qn,this.Kc=new hn,this.ed=new Di,this.Qa=new cr,this.Ic=this.$c=this.Aa=0,this.D=new Pa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,V),this.ia=0,this.pb=u(4,di),this.Pa=new ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new Ai),this.sb=0,this.wa=Array(new dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mi),this.L=this.aa=0,this.gd=c([4,2],dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gn(m,v){return 0>m?0:m>v?v:m}function Tr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function er(){var m=new An;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,za||(za=Rn)),m}function Ot(m,v,S){return m.a==0&&(m.a=v,m.sc=S,m.cb=0),0}function Wi(m,v,S){return 3<=S&&m[v+0]==157&&m[v+1]==1&&m[v+2]==42}function Oi(m,v){if(m==null)return 0;if(m.a=0,m.sc="OK",v==null)return Ot(m,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,R=v.w,q=v.ha;if(4>q)return Ot(m,7,"Truncated header.");var H=S[R+0]|S[R+1]<<8|S[R+2]<<16,Y=m.Od;if(Y.Rb=!(1&H),Y.td=H>>1&7,Y.yd=H>>4&1,Y.ub=H>>5,3<Y.td)return Ot(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return Ot(m,4,"Frame not displayable.");R+=3,q-=3;var Q=m.Kc;if(Y.Rb){if(7>q)return Ot(m,7,"cannot parse picture header");if(!Wi(S,R,q))return Ot(m,3,"Bad code word");Q.c=16383&(S[R+4]<<8|S[R+3]),Q.Td=S[R+4]>>6,Q.i=16383&(S[R+6]<<8|S[R+5]),Q.Ud=S[R+6]>>6,R+=7,q-=7,m.za=Q.c+15>>4,m.Ub=Q.i+15>>4,v.width=Q.c,v.height=Q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((H=m.Pa).jb,0,255,H.jb.length),e((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(Y.ub>q)return Ot(m,7,"bad partition length");ie(H=m.m,S,R,Y.ub),R+=Y.ub,q-=Y.ub,Y.Rb&&(Q.Ld=pe(H),Q.Kd=pe(H)),Q=m.Qa;var te,oe=m.Pa;if(e(H!=null),e(Q!=null),Q.Cb=pe(H),Q.Cb){if(Q.Bb=pe(H),pe(H)){for(Q.Fb=pe(H),te=0;4>te;++te)Q.Zb[te]=pe(H)?ue(H,7):0;for(te=0;4>te;++te)Q.Lb[te]=pe(H)?ue(H,6):0}if(Q.Bb)for(te=0;3>te;++te)oe.jb[te]=pe(H)?ve(H,8):255}else Q.Bb=0;if(H.Ka)return Ot(m,3,"cannot parse segment header");if((Q=m.ed).zd=pe(H),Q.Tb=ve(H,6),Q.wb=ve(H,3),Q.Pc=pe(H),Q.Pc&&pe(H)){for(oe=0;4>oe;++oe)pe(H)&&(Q.vd[oe]=ue(H,6));for(oe=0;4>oe;++oe)pe(H)&&(Q.od[oe]=ue(H,6))}if(m.L=Q.Tb==0?0:Q.zd?1:2,H.Ka)return Ot(m,3,"cannot parse filter header");var _e=q;if(q=te=R,R=te+_e,Q=_e,m.Xb=(1<<ve(m.m,2))-1,_e<3*(oe=m.Xb))S=7;else{for(te+=3*oe,Q-=3*oe,_e=0;_e<oe;++_e){var De=S[q+0]|S[q+1]<<8|S[q+2]<<16;De>Q&&(De=Q),ie(m.Jc[+_e],S,te,De),te+=De,Q-=De,q+=3}ie(m.Jc[+oe],S,te,Q),S=te<R?0:5}if(S!=0)return Ot(m,S,"cannot parse partitions");for(S=ve(te=m.m,7),q=pe(te)?ue(te,4):0,R=pe(te)?ue(te,4):0,Q=pe(te)?ue(te,4):0,oe=pe(te)?ue(te,4):0,te=pe(te)?ue(te,4):0,_e=m.Qa,De=0;4>De;++De){if(_e.Cb){var ae=_e.Zb[De];_e.Fb||(ae+=S)}else{if(0<De){m.pb[De]=m.pb[0];continue}ae=S}var Ae=m.pb[De];Ae.Sc[0]=ts[Gn(ae+q,127)],Ae.Sc[1]=ns[Gn(ae+0,127)],Ae.Eb[0]=2*ts[Gn(ae+R,127)],Ae.Eb[1]=101581*ns[Gn(ae+Q,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=ts[Gn(ae+oe,117)],Ae.Qc[1]=ns[Gn(ae+te,127)],Ae.lc=ae+te}if(!Y.Rb)return Ot(m,4,"Not a key frame.");for(pe(H),Y=m.Pa,S=0;4>S;++S){for(q=0;8>q;++q)for(R=0;3>R;++R)for(Q=0;11>Q;++Q)oe=Pe(H,Rr[S][q][R][Q])?ve(H,8):lm[S][q][R][Q],Y.Wc[S][q].Yb[R][Q]=oe;for(q=0;17>q;++q)Y.Xc[S][q]=Y.Wc[S][kn[q]]}return m.kc=pe(H),m.kc&&(m.Bd=ve(H,8)),m.cb=1}function Rn(m,v,S,R,q,H,Y){var Q=v[q].Yb[S];for(S=0;16>q;++q){if(!Pe(m,Q[S+0]))return q;for(;!Pe(m,Q[S+1]);)if(Q=v[++q].Yb[0],S=0,q==16)return 16;var te=v[q+1].Yb;if(Pe(m,Q[S+2])){var oe=m,_e=0;if(Pe(oe,(ae=Q)[(De=S)+3]))if(Pe(oe,ae[De+6])){for(Q=0,De=2*(_e=Pe(oe,ae[De+8]))+(ae=Pe(oe,ae[De+9+_e])),_e=0,ae=om[De];ae[Q];++Q)_e+=_e+Pe(oe,ae[Q]);_e+=3+(8<<De)}else Pe(oe,ae[De+7])?(_e=7+2*Pe(oe,165),_e+=Pe(oe,145)):_e=5+Pe(oe,159);else _e=Pe(oe,ae[De+4])?3+Pe(oe,ae[De+5]):2;Q=te[2]}else _e=1,Q=te[1];te=Y+Af[q],0>(oe=m).b&&Re(oe);var De,ae=oe.b,Ae=(De=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=Ae,oe.Ca|=1,oe.I-=(De+1&Ae)<<ae,H[te]=((_e^Ae)-Ae)*R[(0<q)+0]}return 16}function Rs(m){var v=m.rb[m.sb-1];v.la=0,v.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function Qr(m,v,S,R,q){q=m[v+S+32*R]+(q>>3),m[v+S+32*R]=-256&q?0>q?0:255:q}function Cr(m,v,S,R,q,H){Qr(m,v,0,S,R+q),Qr(m,v,1,S,R+H),Qr(m,v,2,S,R-H),Qr(m,v,3,S,R-q)}function qr(m){return(20091*m>>16)+m}function Zs(m,v,S,R){var q,H=0,Y=o(16);for(q=0;4>q;++q){var Q=m[v+0]+m[v+8],te=m[v+0]-m[v+8],oe=(35468*m[v+4]>>16)-qr(m[v+12]),_e=qr(m[v+4])+(35468*m[v+12]>>16);Y[H+0]=Q+_e,Y[H+1]=te+oe,Y[H+2]=te-oe,Y[H+3]=Q-_e,H+=4,v++}for(q=H=0;4>q;++q)Q=(m=Y[H+0]+4)+Y[H+8],te=m-Y[H+8],oe=(35468*Y[H+4]>>16)-qr(Y[H+12]),Qr(S,R,0,0,Q+(_e=qr(Y[H+4])+(35468*Y[H+12]>>16))),Qr(S,R,1,0,te+oe),Qr(S,R,2,0,te-oe),Qr(S,R,3,0,Q-_e),H++,R+=32}function Xl(m,v,S,R){var q=m[v+0]+4,H=35468*m[v+4]>>16,Y=qr(m[v+4]),Q=35468*m[v+1]>>16;Cr(S,R,0,q+Y,m=qr(m[v+1]),Q),Cr(S,R,1,q+H,m,Q),Cr(S,R,2,q-H,m,Q),Cr(S,R,3,q-Y,m,Q)}function ul(m,v,S,R,q){Zs(m,v,S,R),q&&Zs(m,v+16,S,R+4)}function Ui(m,v,S,R){co(m,v+0,S,R,1),co(m,v+32,S,R+128,1)}function cl(m,v,S,R){var q;for(m=m[v+0]+4,q=0;4>q;++q)for(v=0;4>v;++v)Qr(S,R,v,q,m)}function ds(m,v,S,R){m[v+0]&&Xn(m,v+0,S,R),m[v+16]&&Xn(m,v+16,S,R+4),m[v+32]&&Xn(m,v+32,S,R+128),m[v+48]&&Xn(m,v+48,S,R+128+4)}function mi(m,v,S,R){var q,H=o(16);for(q=0;4>q;++q){var Y=m[v+0+q]+m[v+12+q],Q=m[v+4+q]+m[v+8+q],te=m[v+4+q]-m[v+8+q],oe=m[v+0+q]-m[v+12+q];H[0+q]=Y+Q,H[8+q]=Y-Q,H[4+q]=oe+te,H[12+q]=oe-te}for(q=0;4>q;++q)Y=(m=H[0+4*q]+3)+H[3+4*q],Q=H[1+4*q]+H[2+4*q],te=H[1+4*q]-H[2+4*q],oe=m-H[3+4*q],S[R+0]=Y+Q>>3,S[R+16]=oe+te>>3,S[R+32]=Y-Q>>3,S[R+48]=oe-te>>3,R+=64}function Is(m,v,S){var R,q=v-32,H=Ji,Y=255-m[q-1];for(R=0;R<S;++R){var Q,te=H,oe=Y+m[v-1];for(Q=0;Q<S;++Q)m[v+Q]=te[oe+m[q+Q]];v+=32}}function hl(m,v){Is(m,v,4)}function fl(m,v){Is(m,v,8)}function Co(m,v){Is(m,v,16)}function Ro(m,v){var S;for(S=0;16>S;++S)r(m,v+32*S,m,v-32,16)}function ms(m,v){var S;for(S=16;0<S;--S)a(m,v,m[v-1],16),v+=32}function $i(m,v,S){var R;for(R=0;16>R;++R)a(v,S+32*R,m,16)}function Ma(m,v){var S,R=16;for(S=0;16>S;++S)R+=m[v-1+32*S]+m[v+S-32];$i(R>>5,m,v)}function ps(m,v){var S,R=8;for(S=0;16>S;++S)R+=m[v-1+32*S];$i(R>>4,m,v)}function Qi(m,v){var S,R=8;for(S=0;16>S;++S)R+=m[v+S-32];$i(R>>4,m,v)}function Ls(m,v){$i(128,m,v)}function Yt(m,v,S){return m+2*v+S+2>>2}function eo(m,v){var S,R=v-32;for(R=new Uint8Array([Yt(m[R-1],m[R+0],m[R+1]),Yt(m[R+0],m[R+1],m[R+2]),Yt(m[R+1],m[R+2],m[R+3]),Yt(m[R+2],m[R+3],m[R+4])]),S=0;4>S;++S)r(m,v+32*S,R,0,R.length)}function Io(m,v){var S=m[v-1],R=m[v-1+32],q=m[v-1+64],H=m[v-1+96];Ke(m,v+0,16843009*Yt(m[v-1-32],S,R)),Ke(m,v+32,16843009*Yt(S,R,q)),Ke(m,v+64,16843009*Yt(R,q,H)),Ke(m,v+96,16843009*Yt(q,H,H))}function ks(m,v){var S,R=4;for(S=0;4>S;++S)R+=m[v+S-32]+m[v-1+32*S];for(R>>=3,S=0;4>S;++S)a(m,v+32*S,R,4)}function pi(m,v){var S=m[v-1+0],R=m[v-1+32],q=m[v-1+64],H=m[v-1-32],Y=m[v+0-32],Q=m[v+1-32],te=m[v+2-32],oe=m[v+3-32];m[v+0+96]=Yt(R,q,m[v-1+96]),m[v+1+96]=m[v+0+64]=Yt(S,R,q),m[v+2+96]=m[v+1+64]=m[v+0+32]=Yt(H,S,R),m[v+3+96]=m[v+2+64]=m[v+1+32]=m[v+0+0]=Yt(Y,H,S),m[v+3+64]=m[v+2+32]=m[v+1+0]=Yt(Q,Y,H),m[v+3+32]=m[v+2+0]=Yt(te,Q,Y),m[v+3+0]=Yt(oe,te,Q)}function ri(m,v){var S=m[v+1-32],R=m[v+2-32],q=m[v+3-32],H=m[v+4-32],Y=m[v+5-32],Q=m[v+6-32],te=m[v+7-32];m[v+0+0]=Yt(m[v+0-32],S,R),m[v+1+0]=m[v+0+32]=Yt(S,R,q),m[v+2+0]=m[v+1+32]=m[v+0+64]=Yt(R,q,H),m[v+3+0]=m[v+2+32]=m[v+1+64]=m[v+0+96]=Yt(q,H,Y),m[v+3+32]=m[v+2+64]=m[v+1+96]=Yt(H,Y,Q),m[v+3+64]=m[v+2+96]=Yt(Y,Q,te),m[v+3+96]=Yt(Q,te,te)}function to(m,v){var S=m[v-1+0],R=m[v-1+32],q=m[v-1+64],H=m[v-1-32],Y=m[v+0-32],Q=m[v+1-32],te=m[v+2-32],oe=m[v+3-32];m[v+0+0]=m[v+1+64]=H+Y+1>>1,m[v+1+0]=m[v+2+64]=Y+Q+1>>1,m[v+2+0]=m[v+3+64]=Q+te+1>>1,m[v+3+0]=te+oe+1>>1,m[v+0+96]=Yt(q,R,S),m[v+0+64]=Yt(R,S,H),m[v+0+32]=m[v+1+96]=Yt(S,H,Y),m[v+1+32]=m[v+2+96]=Yt(H,Y,Q),m[v+2+32]=m[v+3+96]=Yt(Y,Q,te),m[v+3+32]=Yt(Q,te,oe)}function tr(m,v){var S=m[v+0-32],R=m[v+1-32],q=m[v+2-32],H=m[v+3-32],Y=m[v+4-32],Q=m[v+5-32],te=m[v+6-32],oe=m[v+7-32];m[v+0+0]=S+R+1>>1,m[v+1+0]=m[v+0+64]=R+q+1>>1,m[v+2+0]=m[v+1+64]=q+H+1>>1,m[v+3+0]=m[v+2+64]=H+Y+1>>1,m[v+0+32]=Yt(S,R,q),m[v+1+32]=m[v+0+96]=Yt(R,q,H),m[v+2+32]=m[v+1+96]=Yt(q,H,Y),m[v+3+32]=m[v+2+96]=Yt(H,Y,Q),m[v+3+64]=Yt(Y,Q,te),m[v+3+96]=Yt(Q,te,oe)}function sa(m,v){var S=m[v-1+0],R=m[v-1+32],q=m[v-1+64],H=m[v-1+96];m[v+0+0]=S+R+1>>1,m[v+2+0]=m[v+0+32]=R+q+1>>1,m[v+2+32]=m[v+0+64]=q+H+1>>1,m[v+1+0]=Yt(S,R,q),m[v+3+0]=m[v+1+32]=Yt(R,q,H),m[v+3+32]=m[v+1+64]=Yt(q,H,H),m[v+3+64]=m[v+2+64]=m[v+0+96]=m[v+1+96]=m[v+2+96]=m[v+3+96]=H}function no(m,v){var S=m[v-1+0],R=m[v-1+32],q=m[v-1+64],H=m[v-1+96],Y=m[v-1-32],Q=m[v+0-32],te=m[v+1-32],oe=m[v+2-32];m[v+0+0]=m[v+2+32]=S+Y+1>>1,m[v+0+32]=m[v+2+64]=R+S+1>>1,m[v+0+64]=m[v+2+96]=q+R+1>>1,m[v+0+96]=H+q+1>>1,m[v+3+0]=Yt(Q,te,oe),m[v+2+0]=Yt(Y,Q,te),m[v+1+0]=m[v+3+32]=Yt(S,Y,Q),m[v+1+32]=m[v+3+64]=Yt(R,S,Y),m[v+1+64]=m[v+3+96]=Yt(q,R,S),m[v+1+96]=Yt(H,q,R)}function Oa(m,v){var S;for(S=0;8>S;++S)r(m,v+32*S,m,v-32,8)}function dl(m,v){var S;for(S=0;8>S;++S)a(m,v,m[v-1],8),v+=32}function oa(m,v,S){var R;for(R=0;8>R;++R)a(v,S+32*R,m,8)}function gs(m,v){var S,R=8;for(S=0;8>S;++S)R+=m[v+S-32]+m[v-1+32*S];oa(R>>4,m,v)}function la(m,v){var S,R=4;for(S=0;8>S;++S)R+=m[v+S-32];oa(R>>3,m,v)}function Xr(m,v){var S,R=4;for(S=0;8>S;++S)R+=m[v-1+32*S];oa(R>>3,m,v)}function Ha(m,v){oa(128,m,v)}function Si(m,v,S){var R=m[v-S],q=m[v+0],H=3*(q-R)+ho[1020+m[v-2*S]-m[v+S]],Y=cc[112+(H+4>>3)];m[v-S]=Ji[255+R+cc[112+(H+3>>3)]],m[v+0]=Ji[255+q-Y]}function Ga(m,v,S,R){var q=m[v+0],H=m[v+S];return Fi[255+m[v-2*S]-m[v-S]]>R||Fi[255+H-q]>R}function Ps(m,v,S,R){return 4*Fi[255+m[v-S]-m[v+0]]+Fi[255+m[v-2*S]-m[v+S]]<=R}function Ka(m,v,S,R,q){var H=m[v-3*S],Y=m[v-2*S],Q=m[v-S],te=m[v+0],oe=m[v+S],_e=m[v+2*S],De=m[v+3*S];return 4*Fi[255+Q-te]+Fi[255+Y-oe]>R?0:Fi[255+m[v-4*S]-H]<=q&&Fi[255+H-Y]<=q&&Fi[255+Y-Q]<=q&&Fi[255+De-_e]<=q&&Fi[255+_e-oe]<=q&&Fi[255+oe-te]<=q}function Ya(m,v,S,R){var q=2*R+1;for(R=0;16>R;++R)Ps(m,v+R,S,q)&&Si(m,v+R,S)}function ba(m,v,S,R){var q=2*R+1;for(R=0;16>R;++R)Ps(m,v+R*S,1,q)&&Si(m,v+R*S,1)}function ro(m,v,S,R){var q;for(q=3;0<q;--q)Ya(m,v+=4*S,S,R)}function Lo(m,v,S,R){var q;for(q=3;0<q;--q)ba(m,v+=4,S,R)}function ua(m,v,S,R,q,H,Y,Q){for(H=2*H+1;0<q--;){if(Ka(m,v,S,H,Y))if(Ga(m,v,S,Q))Si(m,v,S);else{var te=m,oe=v,_e=S,De=te[oe-2*_e],ae=te[oe-_e],Ae=te[oe+0],Le=te[oe+_e],qe=te[oe+2*_e],ke=27*(We=ho[1020+3*(Ae-ae)+ho[1020+De-Le]])+63>>7,ze=18*We+63>>7,We=9*We+63>>7;te[oe-3*_e]=Ji[255+te[oe-3*_e]+We],te[oe-2*_e]=Ji[255+De+ze],te[oe-_e]=Ji[255+ae+ke],te[oe+0]=Ji[255+Ae-ke],te[oe+_e]=Ji[255+Le-ze],te[oe+2*_e]=Ji[255+qe-We]}v+=R}}function Wa(m,v,S,R,q,H,Y,Q){for(H=2*H+1;0<q--;){if(Ka(m,v,S,H,Y))if(Ga(m,v,S,Q))Si(m,v,S);else{var te=m,oe=v,_e=S,De=te[oe-_e],ae=te[oe+0],Ae=te[oe+_e],Le=cc[112+(4+(qe=3*(ae-De))>>3)],qe=cc[112+(qe+3>>3)],ke=Le+1>>1;te[oe-2*_e]=Ji[255+te[oe-2*_e]+ke],te[oe-_e]=Ji[255+De+qe],te[oe+0]=Ji[255+ae-Le],te[oe+_e]=Ji[255+Ae-ke]}v+=R}}function ml(m,v,S,R,q,H){ua(m,v,S,1,16,R,q,H)}function Ua(m,v,S,R,q,H){ua(m,v,1,S,16,R,q,H)}function ko(m,v,S,R,q,H){var Y;for(Y=3;0<Y;--Y)Wa(m,v+=4*S,S,1,16,R,q,H)}function E(m,v,S,R,q,H){var Y;for(Y=3;0<Y;--Y)Wa(m,v+=4,1,S,16,R,q,H)}function z(m,v,S,R,q,H,Y,Q){ua(m,v,q,1,8,H,Y,Q),ua(S,R,q,1,8,H,Y,Q)}function se(m,v,S,R,q,H,Y,Q){ua(m,v,1,q,8,H,Y,Q),ua(S,R,1,q,8,H,Y,Q)}function ge(m,v,S,R,q,H,Y,Q){Wa(m,v+4*q,q,1,8,H,Y,Q),Wa(S,R+4*q,q,1,8,H,Y,Q)}function Ne(m,v,S,R,q,H,Y,Q){Wa(m,v+4,1,q,8,H,Y,Q),Wa(S,R+4,1,q,8,H,Y,Q)}function He(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Lt(){this.ua=0,this.Wa=new en,this.vb=new en,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ee,this.yc=new D}function Qt(){this.xb=this.a=0,this.l=new Tr,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Lt,this.ab=0,this.gc=u(4,Et),this.Oc=0}function zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Tr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function In(m,v,S,R,q,H,Y){for(m=m==null?0:m[v+0],v=0;v<Y;++v)q[H+v]=m+S[R+v]&255,m=q[H+v]}function _r(m,v,S,R,q,H,Y){var Q;if(m==null)In(null,null,S,R,q,H,Y);else for(Q=0;Q<Y;++Q)q[H+Q]=m[v+Q]+S[R+Q]&255}function hr(m,v,S,R,q,H,Y){if(m==null)In(null,null,S,R,q,H,Y);else{var Q,te=m[v+0],oe=te,_e=te;for(Q=0;Q<Y;++Q)oe=_e+(te=m[v+Q])-oe,_e=S[R+Q]+(-256&oe?0>oe?0:255:oe)&255,oe=te,q[H+Q]=_e}}function p(m,v,S,R){var q=v.width,H=v.o;if(e(m!=null&&v!=null),0>S||0>=R||S+R>H)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new zt,(Y=m.ga==null)||(Y=v.width*v.o,e(m.Gb.length==0),m.Gb=o(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var Q=m.Fa,te=m.P,oe=m.qc,_e=m.mb,De=m.nb,ae=te+1,Ae=oe-1,Le=Y.l;if(e(Q!=null&&_e!=null&&v!=null),fo[0]=null,fo[1]=In,fo[2]=_r,fo[3]=hr,Y.ca=_e,Y.tb=De,Y.c=v.width,Y.i=v.height,e(0<Y.c&&0<Y.i),1>=oe)v=0;else if(Y.$a=3&Q[te+0],Y.Z=Q[te+0]>>2&3,Y.Lc=Q[te+0]>>4&3,te=Q[te+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||te)v=0;else if(Le.put=Vt,Le.ac=Pr,Le.bc=ka,Le.ma=Y,Le.width=v.width,Le.height=v.height,Le.Da=v.Da,Le.v=v.v,Le.va=v.va,Le.j=v.j,Le.o=v.o,Y.$a)e:{e(Y.$a==1),v=gn();t:for(;;){if(v==null){v=0;break e}if(e(Y!=null),Y.mc=v,v.c=Y.c,v.i=Y.i,v.l=Y.l,v.l.ma=Y,v.l.width=Y.c,v.l.height=Y.i,v.a=0,xe(v.m,Q,ae,Ae),!cn(Y.c,Y.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&ot(v.s)?(Y.ic=1,Q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(Q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Y.ic=0,v=Mn(v,Y.c)),!v))break t;v=1;break e}Y.mc=null,v=0}else v=Ae>=Y.c*Y.i;Y=!v}if(Y)return null;m.ga.Lc!=1?m.Ga=0:R=H-S}e(m.ga!=null),e(S+R<=H);e:{if(v=(Q=m.ga).c,H=Q.l.o,Q.$a==0){if(ae=m.rc,Ae=m.Vc,Le=m.Fa,te=m.P+1+S*v,oe=m.mb,_e=m.nb+S*v,e(te<=m.P+m.qc),Q.Z!=0)for(e(fo[Q.Z]!=null),Y=0;Y<R;++Y)fo[Q.Z](ae,Ae,Le,te,oe,_e,v),ae=oe,Ae=_e,_e+=v,te+=v;else for(Y=0;Y<R;++Y)r(oe,_e,Le,te,v),ae=oe,Ae=_e,_e+=v,te+=v;m.rc=ae,m.Vc=Ae}else{if(e(Q.mc!=null),v=S+R,e((Y=Q.mc)!=null),e(v<=Y.i),Y.C>=v)v=1;else if(Q.ic||Ue(),Q.ic){Q=Y.V,ae=Y.Ba,Ae=Y.c;var qe=Y.i,ke=(Le=1,te=Y.$/Ae,oe=Y.$%Ae,_e=Y.m,De=Y.s,Y.$),ze=Ae*qe,We=Ae*v,rt=De.wc,Ze=ke<We?nt(De,oe,te):null;e(ke<=ze),e(v<=qe),e(ot(De));t:for(;;){for(;!_e.h&&ke<We;){if(oe&rt||(Ze=nt(De,oe,te)),e(Ze!=null),be(_e),256>(qe=Ce(Ze.G[0],Ze.H[0],_e)))Q[ae+ke]=qe,++ke,++oe>=Ae&&(oe=0,++te<=v&&!(te%16)&&pt(Y,te));else{if(!(280>qe)){Le=0;break t}qe=ce(qe-256,_e);var kt,bt=Ce(Ze.G[4],Ze.H[4],_e);if(be(_e),!(ke>=(bt=Se(Ae,bt=ce(bt,_e)))&&ze-ke>=qe)){Le=0;break t}for(kt=0;kt<qe;++kt)Q[ae+ke+kt]=Q[ae+ke+kt-bt];for(ke+=qe,oe+=qe;oe>=Ae;)oe-=Ae,++te<=v&&!(te%16)&&pt(Y,te);ke<We&&oe&rt&&(Ze=nt(De,oe,te))}e(_e.h==le(_e))}pt(Y,te>v?v:te);break t}!Le||_e.h&&ke<ze?(Le=0,Y.a=_e.h?5:3):Y.$=ke,v=Le}else v=Nt(Y,Y.V,Y.Ba,Y.c,Y.i,v,Zn);if(!v){R=0;break e}}S+R>=H&&(m.Cc=1),R=1}if(!R)return null;if(m.Cc&&((R=m.ga)!=null&&(R.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+S*q}function N(m,v,S,R,q,H){for(;0<q--;){var Y,Q=m,te=v+(S?1:0),oe=m,_e=v+(S?0:3);for(Y=0;Y<R;++Y){var De=oe[_e+4*Y];De!=255&&(De*=32897,Q[te+4*Y+0]=Q[te+4*Y+0]*De>>23,Q[te+4*Y+1]=Q[te+4*Y+1]*De>>23,Q[te+4*Y+2]=Q[te+4*Y+2]*De>>23)}v+=H}}function O(m,v,S,R,q){for(;0<R--;){var H;for(H=0;H<S;++H){var Y=m[v+2*H+0],Q=15&(oe=m[v+2*H+1]),te=4369*Q,oe=(240&oe|oe>>4)*te>>16;m[v+2*H+0]=(240&Y|Y>>4)*te>>16&240|(15&Y|Y<<4)*te>>16>>4&15,m[v+2*H+1]=240&oe|Q}v+=q}}function J(m,v,S,R,q,H,Y,Q){var te,oe,_e=255;for(oe=0;oe<q;++oe){for(te=0;te<R;++te){var De=m[v+te];H[Y+4*te]=De,_e&=De}v+=S,Y+=Q}return _e!=255}function Ie(m,v,S,R,q){var H;for(H=0;H<q;++H)S[R+H]=m[v+H]>>8}function Ue(){yl=N,Qa=O,oc=J,Fa=Ie}function st(m,v,S){C[m]=function(R,q,H,Y,Q,te,oe,_e,De,ae,Ae,Le,qe,ke,ze,We,rt){var Ze,kt=rt-1>>1,bt=Q[te+0]|oe[_e+0]<<16,mn=De[ae+0]|Ae[Le+0]<<16;e(R!=null);var xt=3*bt+mn+131074>>2;for(v(R[q+0],255&xt,xt>>16,qe,ke),H!=null&&(xt=3*mn+bt+131074>>2,v(H[Y+0],255&xt,xt>>16,ze,We)),Ze=1;Ze<=kt;++Ze){var Ln=Q[te+Ze]|oe[_e+Ze]<<16,Ir=De[ae+Ze]|Ae[Le+Ze]<<16,bn=bt+Ln+mn+Ir+524296,_t=bn+2*(Ln+mn)>>3;xt=_t+bt>>1,bt=(bn=bn+2*(bt+Ir)>>3)+Ln>>1,v(R[q+2*Ze-1],255&xt,xt>>16,qe,ke+(2*Ze-1)*S),v(R[q+2*Ze-0],255&bt,bt>>16,qe,ke+(2*Ze-0)*S),H!=null&&(xt=bn+mn>>1,bt=_t+Ir>>1,v(H[Y+2*Ze-1],255&xt,xt>>16,ze,We+(2*Ze-1)*S),v(H[Y+2*Ze+0],255&bt,bt>>16,ze,We+(2*Ze+0)*S)),bt=Ln,mn=Ir}1&rt||(xt=3*bt+mn+131074>>2,v(R[q+rt-1],255&xt,xt>>16,qe,ke+(rt-1)*S),H!=null&&(xt=3*mn+bt+131074>>2,v(H[Y+rt-1],255&xt,xt>>16,ze,We+(rt-1)*S)))}}function fn(){qi[Qc]=_l,qi[Zi]=su,qi[Xc]=Nf,qi[Xa]=nh,qi[hc]=Uo,qi[ru]=zs,qi[Do]=Vo,qi[fc]=su,qi[Jc]=nh,qi[iu]=Uo,qi[Zc]=zs}function wr(m){return m&-16384?0>m?0:255:m>>rh}function xn(m,v){return wr((19077*m>>8)+(26149*v>>8)-14234)}function nr(m,v,S){return wr((19077*m>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Ni(m,v){return wr((19077*m>>8)+(33050*v>>8)-17685)}function Vi(m,v,S,R,q){R[q+0]=xn(m,S),R[q+1]=nr(m,v,S),R[q+2]=Ni(m,v)}function mr(m,v,S,R,q){R[q+0]=Ni(m,v),R[q+1]=nr(m,v,S),R[q+2]=xn(m,S)}function Bi(m,v,S,R,q){var H=nr(m,v,S);v=H<<3&224|Ni(m,v)>>3,R[q+0]=248&xn(m,S)|H>>5,R[q+1]=v}function Va(m,v,S,R,q){var H=240&Ni(m,v)|15;R[q+0]=240&xn(m,S)|nr(m,v,S)>>4,R[q+1]=H}function Ds(m,v,S,R,q){R[q+0]=255,Vi(m,v,S,R,q+1)}function Ms(m,v,S,R,q){mr(m,v,S,R,q),R[q+3]=255}function ca(m,v,S,R,q){Vi(m,v,S,R,q),R[q+3]=255}function io(m,v,S){C[m]=function(R,q,H,Y,Q,te,oe,_e,De){for(var ae=_e+(-2&De)*S;_e!=ae;)v(R[q+0],H[Y+0],Q[te+0],oe,_e),v(R[q+1],H[Y+0],Q[te+0],oe,_e+S),q+=2,++Y,++te,_e+=2*S;1&De&&v(R[q+0],H[Y+0],Q[te+0],oe,_e)}}function Jl(m,v,S){return S==0?m==0?v==0?6:5:v==0?4:0:S}function ic(m,v,S,R,q){switch(m>>>30){case 3:co(v,S,R,q,0);break;case 2:Xi(v,S,R,q);break;case 1:Xn(v,S,R,q)}}function Ba(m,v){var S,R,q=v.M,H=v.Nb,Y=m.oc,Q=m.pc+40,te=m.oc,oe=m.pc+584,_e=m.oc,De=m.pc+600;for(S=0;16>S;++S)Y[Q+32*S-1]=129;for(S=0;8>S;++S)te[oe+32*S-1]=129,_e[De+32*S-1]=129;for(0<q?Y[Q-1-32]=te[oe-1-32]=_e[De-1-32]=129:(a(Y,Q-32-1,127,21),a(te,oe-32-1,127,9),a(_e,De-32-1,127,9)),R=0;R<m.za;++R){var ae=v.ya[v.aa+R];if(0<R){for(S=-1;16>S;++S)r(Y,Q+32*S-4,Y,Q+32*S+12,4);for(S=-1;8>S;++S)r(te,oe+32*S-4,te,oe+32*S+4,4),r(_e,De+32*S-4,_e,De+32*S+4,4)}var Ae=m.Gd,Le=m.Hd+R,qe=ae.ad,ke=ae.Hc;if(0<q&&(r(Y,Q-32,Ae[Le].y,0,16),r(te,oe-32,Ae[Le].f,0,8),r(_e,De-32,Ae[Le].ea,0,8)),ae.Za){var ze=Y,We=Q-32+16;for(0<q&&(R>=m.za-1?a(ze,We,Ae[Le].y[15],4):r(ze,We,Ae[Le+1].y,0,4)),S=0;4>S;S++)ze[We+128+S]=ze[We+256+S]=ze[We+384+S]=ze[We+0+S];for(S=0;16>S;++S,ke<<=2)ze=Y,We=Q+ei[S],Hr[ae.Ob[S]](ze,We),ic(ke,qe,16*+S,ze,We)}else if(ze=Jl(R,q,ae.Ob[0]),fa[ze](Y,Q),ke!=0)for(S=0;16>S;++S,ke<<=2)ic(ke,qe,16*+S,Y,Q+ei[S]);for(S=ae.Gc,ze=Jl(R,q,ae.Dd),_s[ze](te,oe),_s[ze](_e,De),ke=qe,ze=te,We=oe,255&(ae=0|S)&&(170&ae?$a(ke,256,ze,We):qn(ke,256,ze,We)),ae=_e,ke=De,255&(S>>=8)&&(170&S?$a(qe,320,ae,ke):qn(qe,320,ae,ke)),q<m.Ub-1&&(r(Ae[Le].y,0,Y,Q+480,16),r(Ae[Le].f,0,te,oe+224,8),r(Ae[Le].ea,0,_e,De+224,8)),S=8*H*m.B,Ae=m.sa,Le=m.ta+16*R+16*H*m.R,qe=m.qa,ae=m.ra+8*R+S,ke=m.Ha,ze=m.Ia+8*R+S,S=0;16>S;++S)r(Ae,Le+S*m.R,Y,Q+32*S,16);for(S=0;8>S;++S)r(qe,ae+S*m.B,te,oe+32*S,8),r(ke,ze+S*m.B,_e,De+32*S,8)}}function ys(m,v,S,R,q,H,Y,Q,te){var oe=[0],_e=[0],De=0,ae=te!=null?te.kd:0,Ae=te??new et;if(m==null||12>S)return 7;Ae.data=m,Ae.w=v,Ae.ha=S,v=[v],S=[S],Ae.gb=[Ae.gb];e:{var Le=v,qe=S,ke=Ae.gb;if(e(m!=null),e(qe!=null),e(ke!=null),ke[0]=0,12<=qe[0]&&!t(m,Le[0],"RIFF")){if(t(m,Le[0]+8,"WEBP")){ke=3;break e}var ze=dt(m,Le[0]+4);if(12>ze||4294967286<ze){ke=3;break e}if(ae&&ze>qe[0]-8){ke=7;break e}ke[0]=ze,Le[0]+=12,qe[0]-=12}ke=0}if(ke!=0)return ke;for(ze=0<Ae.gb[0],S=S[0];;){e:{var We=m;qe=v,ke=S;var rt=oe,Ze=_e,kt=Le=[0];if((xt=De=[De])[0]=0,8>ke[0])ke=7;else{if(!t(We,qe[0],"VP8X")){if(dt(We,qe[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var bt=dt(We,qe[0]+8),mn=1+it(We,qe[0]+12);if(2147483648<=mn*(We=1+it(We,qe[0]+15))){ke=3;break e}kt!=null&&(kt[0]=bt),rt!=null&&(rt[0]=mn),Ze!=null&&(Ze[0]=We),qe[0]+=18,ke[0]-=18,xt[0]=1}ke=0}}if(De=De[0],Le=Le[0],ke!=0)return ke;if(qe=!!(2&Le),!ze&&De)return 3;if(H!=null&&(H[0]=!!(16&Le)),Y!=null&&(Y[0]=qe),Q!=null&&(Q[0]=0),Y=oe[0],Le=_e[0],De&&qe&&te==null){ke=0;break}if(4>S){ke=7;break}if(ze&&De||!ze&&!De&&!t(m,v[0],"ALPH")){S=[S],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{bt=m,ke=v,ze=S;var xt=Ae.gb;rt=Ae.na,Ze=Ae.P,kt=Ae.Sa,mn=22,e(bt!=null),e(ze!=null),We=ke[0];var Ln=ze[0];for(e(rt!=null),e(kt!=null),rt[0]=null,Ze[0]=null,kt[0]=0;;){if(ke[0]=We,ze[0]=Ln,8>Ln){ke=7;break e}var Ir=dt(bt,We+4);if(4294967286<Ir){ke=3;break e}var bn=8+Ir+1&-2;if(mn+=bn,0<xt&&mn>xt){ke=3;break e}if(!t(bt,We,"VP8 ")||!t(bt,We,"VP8L")){ke=0;break e}if(Ln[0]<bn){ke=7;break e}t(bt,We,"ALPH")||(rt[0]=bt,Ze[0]=We+8,kt[0]=Ir),We+=bn,Ln-=bn}}if(S=S[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],ke!=0)break}S=[S],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(xt=m,ke=v,ze=S,rt=Ae.gb[0],Ze=Ae.Ja,kt=Ae.xa,bt=ke[0],We=!t(xt,bt,"VP8 "),mn=!t(xt,bt,"VP8L"),e(xt!=null),e(ze!=null),e(Ze!=null),e(kt!=null),8>ze[0])ke=7;else{if(We||mn){if(xt=dt(xt,bt+4),12<=rt&&xt>rt-12){ke=3;break e}if(ae&&xt>ze[0]-8){ke=7;break e}Ze[0]=xt,ke[0]+=8,ze[0]-=8,kt[0]=mn}else kt[0]=5<=ze[0]&&xt[bt+0]==47&&!(xt[bt+4]>>5),Ze[0]=ze[0];ke=0}if(S=S[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],v=v[0],ke!=0)break;if(4294967286<Ae.Ja)return 3;if(Q==null||qe||(Q[0]=Ae.xa?2:1),Y=[Y],Le=[Le],Ae.xa){if(5>S){ke=7;break}Q=Y,ae=Le,qe=H,m==null||5>S?m=0:5<=S&&m[v+0]==47&&!(m[v+4]>>5)?(ze=[0],xt=[0],rt=[0],xe(Ze=new W,m,v,S),Pi(Ze,ze,xt,rt)?(Q!=null&&(Q[0]=ze[0]),ae!=null&&(ae[0]=xt[0]),qe!=null&&(qe[0]=rt[0]),m=1):m=0):m=0}else{if(10>S){ke=7;break}Q=Le,m==null||10>S||!Wi(m,v+3,S-3)?m=0:(ae=m[v+0]|m[v+1]<<8|m[v+2]<<16,qe=16383&(m[v+7]<<8|m[v+6]),m=16383&(m[v+9]<<8|m[v+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=Ae.Ja||!qe||!m?m=0:(Y&&(Y[0]=qe),Q&&(Q[0]=m),m=1))}if(!m||(Y=Y[0],Le=Le[0],De&&(oe[0]!=Y||_e[0]!=Le)))return 3;te!=null&&(te[0]=Ae,te.offset=v-te.w,e(4294967286>v-te.w),e(te.offset==te.ha-S));break}return ke==0||ke==7&&De&&te==null?(H!=null&&(H[0]|=Ae.na!=null&&0<Ae.na.length),R!=null&&(R[0]=Y),q!=null&&(q[0]=Le),0):ke}function ao(m,v,S){var R=v.width,q=v.height,H=0,Y=0,Q=R,te=q;if(v.Da=m!=null&&0<m.Da,v.Da&&(Q=m.cd,te=m.bd,H=m.v,Y=m.j,11>S||(H&=-2,Y&=-2),0>H||0>Y||0>=Q||0>=te||H+Q>R||Y+te>q))return 0;if(v.v=H,v.j=Y,v.va=H+Q,v.o=Y+te,v.U=Q,v.T=te,v.da=m!=null&&0<m.da,v.da){if(!wt(Q,te,S=[m.ib],H=[m.hb]))return 0;v.ib=S[0],v.hb=H[0]}return v.ob=m!=null&&m.ob,v.Kb=m==null||!m.Sd,v.da&&(v.ob=v.ib<3*R/4&&v.hb<3*q/4,v.Kb=0),1}function ac(m){if(m==null)return 2;if(11>m.S){var v=m.f.RGBA;v.fb+=(m.height-1)*v.A,v.A=-v.A}else v=m.f.kb,m=m.height,v.O+=(m-1)*v.fa,v.fa=-v.fa,v.N+=(m-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(m-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(m-1)*v.lb,v.lb=-v.lb);return 0}function vs(m,v,S,R){if(R==null||0>=m||0>=v)return 2;if(S!=null){if(S.Da){var q=S.cd,H=S.bd,Y=-2&S.v,Q=-2&S.j;if(0>Y||0>Q||0>=q||0>=H||Y+q>m||Q+H>v)return 2;m=q,v=H}if(S.da){if(!wt(m,v,q=[S.ib],H=[S.hb]))return 2;m=q[0],v=H[0]}}R.width=m,R.height=v;e:{var te=R.width,oe=R.height;if(m=R.S,0>=te||0>=oe||!(m>=Qc&&13>m))m=2;else{if(0>=R.Rd&&R.sd==null){Y=H=q=v=0;var _e=(Q=te*ah[m])*oe;if(11>m||(H=(oe+1)/2*(v=(te+1)/2),m==12&&(Y=(q=te)*oe)),(oe=o(_e+2*H+Y))==null){m=1;break e}R.sd=oe,11>m?((te=R.f.RGBA).eb=oe,te.fb=0,te.A=Q,te.size=_e):((te=R.f.kb).y=oe,te.O=0,te.fa=Q,te.Fd=_e,te.f=oe,te.N=0+_e,te.Ab=v,te.Cd=H,te.ea=oe,te.W=0+_e+H,te.Db=v,te.Ed=H,m==12&&(te.F=oe,te.J=0+_e+2*H),te.Tc=Y,te.lb=q)}if(v=1,q=R.S,H=R.width,Y=R.height,q>=Qc&&13>q)if(11>q)m=R.f.RGBA,v&=(Q=Math.abs(m.A))*(Y-1)+H<=m.size,v&=Q>=H*ah[q],v&=m.eb!=null;else{m=R.f.kb,Q=(H+1)/2,_e=(Y+1)/2,te=Math.abs(m.fa),oe=Math.abs(m.Ab);var De=Math.abs(m.Db),ae=Math.abs(m.lb),Ae=ae*(Y-1)+H;v&=te*(Y-1)+H<=m.Fd,v&=oe*(_e-1)+Q<=m.Cd,v=(v&=De*(_e-1)+Q<=m.Ed)&te>=H&oe>=Q&De>=Q,v&=m.y!=null,v&=m.f!=null,v&=m.ea!=null,q==12&&(v&=ae>=H,v&=Ae<=m.Tc,v&=m.F!=null)}else v=0;m=v?0:2}}return m!=0||S!=null&&S.fd&&(m=ac(R)),m}var Po=64,_a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ha=24,Os=32,Us=8,so=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(m){return m},C.Predictor2=function(m,v,S){return v[S+0]},C.Predictor3=function(m,v,S){return v[S+1]},C.Predictor4=function(m,v,S){return v[S-1]},C.Predictor5=function(m,v,S){return Tt(Tt(m,v[S+1]),v[S+0])},C.Predictor6=function(m,v,S){return Tt(m,v[S-1])},C.Predictor7=function(m,v,S){return Tt(m,v[S+0])},C.Predictor8=function(m,v,S){return Tt(v[S-1],v[S+0])},C.Predictor9=function(m,v,S){return Tt(v[S+0],v[S+1])},C.Predictor10=function(m,v,S){return Tt(Tt(m,v[S-1]),Tt(v[S+0],v[S+1]))},C.Predictor11=function(m,v,S){var R=v[S+0];return 0>=Kt(R>>24&255,m>>24&255,(v=v[S-1])>>24&255)+Kt(R>>16&255,m>>16&255,v>>16&255)+Kt(R>>8&255,m>>8&255,v>>8&255)+Kt(255&R,255&m,255&v)?R:m},C.Predictor12=function(m,v,S){var R=v[S+0];return(Ht((m>>24&255)+(R>>24&255)-((v=v[S-1])>>24&255))<<24|Ht((m>>16&255)+(R>>16&255)-(v>>16&255))<<16|Ht((m>>8&255)+(R>>8&255)-(v>>8&255))<<8|Ht((255&m)+(255&R)-(255&v)))>>>0},C.Predictor13=function(m,v,S){var R=v[S-1];return(tn((m=Tt(m,v[S+0]))>>24&255,R>>24&255)<<24|tn(m>>16&255,R>>16&255)<<16|tn(m>>8&255,R>>8&255)<<8|tn(255&m,255&R))>>>0};var Zl=C.PredictorAdd0;C.PredictorAdd1=sn,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var eu=C.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Jr,Yc=C.ColorIndexInverseTransform,Vs=C.MapARGB,Bs=C.VP8LColorIndexInverseTransformAlpha,ji=C.MapAlpha,oo=C.VP8LPredictorsAdd=[];oo.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var tu,nu,lo,uo,js,pl,ja,co,Xi,$a,Xn,qn,Er,Zr,Fs,bs,gl,sc,_f,im,am,sm,wf,Ef,yl,Qa,oc,Fa,vl=o(511),Wc=o(2041),lc=o(225),uc=o(767),$c=0,ho=Wc,cc=lc,Ji=uc,Fi=vl,Qc=0,Zi=1,Xc=2,Xa=3,hc=4,ru=5,Do=6,fc=7,Jc=8,iu=9,Zc=10,Ja=[2,3,7],au=[3,3,11],bl=[280,256,256,256,40],eh=[0,1,1,1,0],dc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Za=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],es=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mo=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ns=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],za=null,om=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Af=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],th=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fa=[],Hr=[],_s=[],Oo=1,Sf=2,fo=[],qi=[];st("UpsampleRgbLinePair",Vi,3),st("UpsampleBgrLinePair",mr,3),st("UpsampleRgbaLinePair",ca,4),st("UpsampleBgraLinePair",Ms,4),st("UpsampleArgbLinePair",Ds,4),st("UpsampleRgba4444LinePair",Va,2),st("UpsampleRgb565LinePair",Bi,2);var _l=C.UpsampleRgbLinePair,Nf=C.UpsampleBgrLinePair,su=C.UpsampleRgbaLinePair,nh=C.UpsampleBgraLinePair,Uo=C.UpsampleArgbLinePair,zs=C.UpsampleRgba4444LinePair,Vo=C.UpsampleRgb565LinePair,rs=16,ou=1<<rs-1,wl=-227,Bo=482,rh=6,jo=0,Hi=o(256),ih=o(256),um=o(256),Mg=o(256),Og=o(Bo-wl),Ug=o(Bo-wl);io("YuvToRgbRow",Vi,3),io("YuvToBgrRow",mr,3),io("YuvToRgbaRow",ca,4),io("YuvToBgraRow",Ms,4),io("YuvToArgbRow",Ds,4),io("YuvToRgba4444Row",Va,2),io("YuvToRgb565Row",Bi,2);var ei=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lu=[0,2,8],mc=[8,7,6,4,4,2,2,2,1,1,1,1],pc=1;this.WebPDecodeRGBA=function(m,v,S,R,q){var H=Zi,Y=new He,Q=new Dt;Y.ba=Q,Q.S=H,Q.width=[Q.width],Q.height=[Q.height];var te=Q.width,oe=Q.height,_e=new Mt;if(_e==null||m==null)var De=2;else e(_e!=null),De=ys(m,v,S,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(De!=0?te=0:(te!=null&&(te[0]=_e.width[0]),oe!=null&&(oe[0]=_e.height[0]),te=1),te){Q.width=Q.width[0],Q.height=Q.height[0],R!=null&&(R[0]=Q.width),q!=null&&(q[0]=Q.height);e:{if(R=new Tr,(q=new et).data=m,q.w=v,q.ha=S,q.kd=1,v=[0],e(q!=null),((m=ys(q.data,q.w,q.ha,null,null,null,v,null,q))==0||m==7)&&v[0]&&(m=4),(v=m)==0){if(e(Y!=null),R.data=q.data,R.w=q.w+q.offset,R.ha=q.ha-q.offset,R.put=Vt,R.ac=Pr,R.bc=ka,R.ma=Y,q.xa){if((m=gn())==null){Y=1;break e}if((function(ae,Ae){var Le=[0],qe=[0],ke=[0];t:for(;;){if(ae==null)return 0;if(Ae==null)return ae.a=2,0;if(ae.l=Ae,ae.a=0,xe(ae.m,Ae.data,Ae.w,Ae.ha),!Pi(ae.m,Le,qe,ke)){ae.a=3;break t}if(ae.xb=Sf,Ae.width=Le[0],Ae.height=qe[0],!cn(Le[0],qe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(m,R)){if(R=(v=vs(R.width,R.height,Y.Oa,Y.ba))==0){t:{R=m;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((S=R.l)!=null),e((q=S.ma)!=null),R.xb!=0){if(R.ca=q.ba,R.tb=q.tb,e(R.ca!=null),!ao(q.Oa,S,Xa)){R.a=2;break n}if(!Mn(R,S.width)||S.da)break n;if((S.da||Gt(R.ca.S))&&Ue(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Ue()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!re(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!Nt(R,R.V,R.Ba,R.c,R.i,S.o,ut))break n;q.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(v=m.a)}else v=m.a}else{if((m=new er)==null){Y=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,Oi(m,R)){if((v=vs(R.width,R.height,Y.Oa,Y.ba))==0){if(m.Aa=0,S=Y.Oa,e((q=m)!=null),S!=null){if(0<(te=0>(te=S.Md)?0:100<te?255:255*te/100)){for(oe=_e=0;4>oe;++oe)12>(De=q.pb[oe]).lc&&(De.ia=te*mc[0>De.lc?0:De.lc]>>3),_e|=De.ia;_e&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=S.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ae,Ae){if(ae==null)return 0;if(Ae==null)return Ot(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Oi(ae,Ae))return 0;if(e(ae.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(ae.L=0);var Le=lu[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=Ae.v-Le>>4,ae.zb=Ae.j-Le>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=Ae.o+15+Le>>4,ae.Hb=Ae.va+15+Le>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var qe=ae.ed;for(Le=0;4>Le;++Le){var ke;if(ae.Qa.Cb){var ze=ae.Qa.Lb[Le];ae.Qa.Fb||(ze+=qe.Tb)}else ze=qe.Tb;for(ke=0;1>=ke;++ke){var We=ae.gd[Le][ke],rt=ze;if(qe.Pc&&(rt+=qe.vd[0],ke&&(rt+=qe.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Ze=rt;0<qe.wb&&(Ze=4<qe.wb?Ze>>2:Ze>>1)>9-qe.wb&&(Ze=9-qe.wb),1>Ze&&(Ze=1),We.dd=Ze,We.tc=2*rt+Ze,We.ld=40<=rt?2:15<=rt?1:0}else We.tc=0;We.La=ke}}}Le=0}else Ot(ae,6,"Frame setup failed"),Le=ae.a;if(Le=Le==0){if(Le){ae.$c=0,0<ae.Aa||(ae.Ic=pc);t:{Le=ae.Ic,qe=4*(Ze=ae.za);var kt=32*Ze,bt=Ze+1,mn=0<ae.L?Ze*(0<ae.Aa?2:1):0,xt=(ae.Aa==2?2:1)*Ze;if((We=qe+832+(ke=3*(16*Le+lu[ae.L])/2*kt)+(ze=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=We)Le=0;else{if(We>ae.Vb){if(ae.Vb=0,ae.Ec=o(We),ae.Fc=0,ae.Ec==null){Le=Ot(ae,1,"no memory during frame initialization.");break t}ae.Vb=We}We=ae.Ec,rt=ae.Fc,ae.Ac=We,ae.Bc=rt,rt+=qe,ae.Gd=u(kt,Da),ae.Hd=0,ae.rb=u(bt+1,Ai),ae.sb=1,ae.wa=mn?u(mn,dr):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ze),e(!0),ae.oc=We,ae.pc=rt,rt+=832,ae.ya=u(xt,Mi),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ze),ae.R=16*Ze,ae.B=8*Ze,Ze=(kt=lu[ae.L])*ae.R,kt=kt/2*ae.B,ae.sa=We,ae.ta=rt+Ze,ae.qa=ae.sa,ae.ra=ae.ta+16*Le*ae.R+kt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Le*ae.B+kt,ae.$c=0,rt+=ke,ae.mb=ze?We:null,ae.nb=ze?rt:null,e(rt+ze<=ae.Fc+ae.Vb),Rs(ae),a(ae.Ac,ae.Bc,0,qe),Le=1}}if(Le){if(Ae.ka=0,Ae.y=ae.sa,Ae.O=ae.ta,Ae.f=ae.qa,Ae.N=ae.ra,Ae.ea=ae.Ha,Ae.Vd=ae.Ia,Ae.fa=ae.R,Ae.Rc=ae.B,Ae.F=null,Ae.J=0,!$c){for(Le=-255;255>=Le;++Le)vl[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Wc[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)lc[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)uc[255+Le]=0>Le?0:255<Le?255:Le;$c=1}ja=mi,co=ul,$a=Ui,Xn=cl,qn=ds,Xi=Xl,Er=ml,Zr=Ua,Fs=z,bs=se,gl=ko,sc=E,_f=ge,im=Ne,am=Ya,sm=ba,wf=ro,Ef=Lo,Hr[0]=ks,Hr[1]=hl,Hr[2]=eo,Hr[3]=Io,Hr[4]=pi,Hr[5]=to,Hr[6]=ri,Hr[7]=tr,Hr[8]=no,Hr[9]=sa,fa[0]=Ma,fa[1]=Co,fa[2]=Ro,fa[3]=ms,fa[4]=ps,fa[5]=Qi,fa[6]=Ls,_s[0]=gs,_s[1]=fl,_s[2]=Oa,_s[3]=dl,_s[4]=Xr,_s[5]=la,_s[6]=Ha,Le=1}else Le=0}Le&&(Le=(function(Ln,Ir){for(Ln.M=0;Ln.M<Ln.Va;++Ln.M){var bn,_t=Ln.Jc[Ln.M&Ln.Xb],ct=Ln.m,Mr=Ln;for(bn=0;bn<Mr.za;++bn){var nn=ct,Sn=Mr,sr=Sn.Ac,gi=Sn.Bc+4*bn,Gi=Sn.zc,Ar=Sn.ya[Sn.aa+bn];if(Sn.Qa.Bb?Ar.$b=Pe(nn,Sn.Pa.jb[0])?2+Pe(nn,Sn.Pa.jb[2]):Pe(nn,Sn.Pa.jb[1]):Ar.$b=0,Sn.kc&&(Ar.Ad=Pe(nn,Sn.Bd)),Ar.Za=!Pe(nn,145)+0,Ar.Za){var ii=Ar.Ob,ea=0;for(Sn=0;4>Sn;++Sn){var ai,Tn=Gi[0+Sn];for(ai=0;4>ai;++ai){Tn=zi[sr[gi+ai]][Tn];for(var Kn=th[Pe(nn,Tn[0])];0<Kn;)Kn=th[2*Kn+Pe(nn,Tn[Kn])];Tn=-Kn,sr[gi+ai]=Tn}r(ii,ea,sr,gi,4),ea+=4,Gi[0+Sn]=Tn}}else Tn=Pe(nn,156)?Pe(nn,128)?1:3:Pe(nn,163)?2:0,Ar.Ob[0]=Tn,a(sr,gi,Tn,4),a(Gi,0,Tn,4);Ar.Dd=Pe(nn,142)?Pe(nn,114)?Pe(nn,183)?1:3:2:0}if(Mr.m.Ka)return Ot(Ln,7,"Premature end-of-partition0 encountered.");for(;Ln.ja<Ln.za;++Ln.ja){if(Mr=_t,nn=(ct=Ln).rb[ct.sb-1],sr=ct.rb[ct.sb+ct.ja],bn=ct.ya[ct.aa+ct.ja],gi=ct.kc?bn.Ad:0)nn.la=sr.la=0,bn.Za||(nn.Na=sr.Na=0),bn.Hc=0,bn.Gc=0,bn.ia=0;else{var Or,Jn;if(nn=sr,sr=Mr,gi=ct.Pa.Xc,Gi=ct.ya[ct.aa+ct.ja],Ar=ct.pb[Gi.$b],Sn=Gi.ad,ii=0,ea=ct.rb[ct.sb-1],Tn=ai=0,a(Sn,ii,0,384),Gi.Za)var yi=0,Ur=gi[3];else{Kn=o(16);var Yn=nn.Na+ea.Na;if(Yn=za(sr,gi[1],Yn,Ar.Eb,0,Kn,0),nn.Na=ea.Na=(0<Yn)+0,1<Yn)ja(Kn,0,Sn,ii);else{var ti=Kn[0]+3>>3;for(Kn=0;256>Kn;Kn+=16)Sn[ii+Kn]=ti}yi=1,Ur=gi[0]}var or=15&nn.la,si=15&ea.la;for(Kn=0;4>Kn;++Kn){var oi=1&si;for(ti=Jn=0;4>ti;++ti)or=or>>1|(oi=(Yn=za(sr,Ur,Yn=oi+(1&or),Ar.Sc,yi,Sn,ii))>yi)<<7,Jn=Jn<<2|(3<Yn?3:1<Yn?2:Sn[ii+0]!=0),ii+=16;or>>=4,si=si>>1|oi<<7,ai=(ai<<8|Jn)>>>0}for(Ur=or,yi=si>>4,Or=0;4>Or;Or+=2){for(Jn=0,or=nn.la>>4+Or,si=ea.la>>4+Or,Kn=0;2>Kn;++Kn){for(oi=1&si,ti=0;2>ti;++ti)Yn=oi+(1&or),or=or>>1|(oi=0<(Yn=za(sr,gi[2],Yn,Ar.Qc,0,Sn,ii)))<<3,Jn=Jn<<2|(3<Yn?3:1<Yn?2:Sn[ii+0]!=0),ii+=16;or>>=2,si=si>>1|oi<<5}Tn|=Jn<<4*Or,Ur|=or<<4<<Or,yi|=(240&si)<<Or}nn.la=Ur,ea.la=yi,Gi.Hc=ai,Gi.Gc=Tn,Gi.ia=43690&Tn?0:Ar.ia,gi=!(ai|Tn)}if(0<ct.L&&(ct.wa[ct.Y+ct.ja]=ct.gd[bn.$b][bn.Za],ct.wa[ct.Y+ct.ja].La|=!gi),Mr.Ka)return Ot(Ln,7,"Premature end-of-file encountered.")}if(Rs(Ln),ct=Ir,Mr=1,bn=(_t=Ln).D,nn=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(bn.M=_t.M,bn.uc=nn,Ba(_t,bn),Mr=1,bn=(Jn=_t.D).Nb,nn=(Tn=lu[_t.L])*_t.R,sr=Tn/2*_t.B,Kn=16*bn*_t.R,ti=8*bn*_t.B,gi=_t.sa,Gi=_t.ta-nn+Kn,Ar=_t.qa,Sn=_t.ra-sr+ti,ii=_t.Ha,ea=_t.Ia-sr+ti,si=(or=Jn.M)==0,ai=or>=_t.Va-1,_t.Aa==2&&Ba(_t,Jn),Jn.uc)for(oi=(Yn=_t).D.M,e(Yn.D.uc),Jn=Yn.yb;Jn<Yn.Hb;++Jn){yi=Jn,Ur=oi;var pr=(Hn=(li=Yn).D).Nb;Or=li.R;var Hn=Hn.wa[Hn.Y+yi],ta=li.sa,Gr=li.ta+16*pr*Or+16*yi,Wt=Hn.dd,Xt=Hn.tc;if(Xt!=0)if(e(3<=Xt),li.L==1)0<yi&&sm(ta,Gr,Or,Xt+4),Hn.La&&Ef(ta,Gr,Or,Xt),0<Ur&&am(ta,Gr,Or,Xt+4),Hn.La&&wf(ta,Gr,Or,Xt);else{var Wn=li.B,wa=li.qa,is=li.ra+8*pr*Wn+8*yi,da=li.Ha,li=li.Ia+8*pr*Wn+8*yi;pr=Hn.ld,0<yi&&(Zr(ta,Gr,Or,Xt+4,Wt,pr),bs(wa,is,da,li,Wn,Xt+4,Wt,pr)),Hn.La&&(sc(ta,Gr,Or,Xt,Wt,pr),im(wa,is,da,li,Wn,Xt,Wt,pr)),0<Ur&&(Er(ta,Gr,Or,Xt+4,Wt,pr),Fs(wa,is,da,li,Wn,Xt+4,Wt,pr)),Hn.La&&(gl(ta,Gr,Or,Xt,Wt,pr),_f(wa,is,da,li,Wn,Xt,Wt,pr))}}if(_t.ia&&alert("todo:DitherRow"),ct.put!=null){if(Jn=16*or,or=16*(or+1),si?(ct.y=_t.sa,ct.O=_t.ta+Kn,ct.f=_t.qa,ct.N=_t.ra+ti,ct.ea=_t.Ha,ct.W=_t.Ia+ti):(Jn-=Tn,ct.y=gi,ct.O=Gi,ct.f=Ar,ct.N=Sn,ct.ea=ii,ct.W=ea),ai||(or-=Tn),or>ct.o&&(or=ct.o),ct.F=null,ct.J=null,_t.Fa!=null&&0<_t.Fa.length&&Jn<or&&(ct.J=p(_t,ct,Jn,or-Jn),ct.F=_t.mb,ct.F==null&&ct.F.length==0)){Mr=Ot(_t,3,"Could not decode alpha data.");break t}Jn<ct.j&&(Tn=ct.j-Jn,Jn=ct.j,e(!(1&Tn)),ct.O+=_t.R*Tn,ct.N+=_t.B*(Tn>>1),ct.W+=_t.B*(Tn>>1),ct.F!=null&&(ct.J+=ct.width*Tn)),Jn<or&&(ct.O+=ct.v,ct.N+=ct.v>>1,ct.W+=ct.v>>1,ct.F!=null&&(ct.J+=ct.v),ct.ka=Jn-ct.j,ct.U=ct.va-ct.v,ct.T=or-Jn,Mr=ct.put(ct))}bn+1!=_t.Ic||ai||(r(_t.sa,_t.ta-nn,gi,Gi+16*_t.R,nn),r(_t.qa,_t.ra-sr,Ar,Sn+8*_t.B,sr),r(_t.Ha,_t.Ia-sr,ii,ea+8*_t.B,sr))}if(!Mr)return Ot(Ln,6,"Output aborted.")}return 1})(ae,Ae)),Ae.bc!=null&&Ae.bc(Ae),Le&=1}return Le?(ae.cb=0,Le):0})(m,R)||(v=m.a)}}else v=m.a}v==0&&Y.Oa!=null&&Y.Oa.fd&&(v=ac(Y.ba))}Y=v}H=Y!=0?null:11>H?Q.f.RGBA.eb:Q.f.kb.y}else H=null;return H};var ah=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(C,F){for(var T="",L=0;L<4;L++)T+=String.fromCharCode(C[F++]);return T}function g(C,F){return C[F+0]|C[F+1]<<8}function w(C,F){return(C[F+0]|C[F+1]<<8|C[F+2]<<16)>>>0}function A(C,F){return(C[F+0]|C[F+1]<<8|C[F+2]<<16|C[F+3]<<24)>>>0}new f;var b=[0],M=[0],U=[],j=new f,B=n,K=(function(C,F){var T={},L=0,D=!1,ne=0,Ee=0;if(T.frames=[],!(function(V,W){for(var ee=0;ee<4;ee++)if(V[W+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(C,F)){for(A(C,F+=4),F+=8;F<C.length;){var ie=d(C,F),ve=A(C,F+=4);F+=4;var ue=ve+(1&ve);switch(ie){case"VP8 ":case"VP8L":T.frames[L]===void 0&&(T.frames[L]={}),(Z=T.frames[L]).src_off=D?Ee:F-8,Z.src_size=ne+ve+8,L++,D&&(D=!1,ne=0,Ee=0);break;case"VP8X":(Z=T.header={}).feature_flags=C[F];var xe=F+4;Z.canvas_width=1+w(C,xe),xe+=3,Z.canvas_height=1+w(C,xe),xe+=3;break;case"ALPH":D=!0,ne=ue+8,Ee=F-8;break;case"ANIM":(Z=T.header).bgcolor=A(C,F),xe=F+4,Z.loop_count=g(C,xe),xe+=2;break;case"ANMF":var Fe,Z;(Z=T.frames[L]={}).offset_x=2*w(C,F),F+=3,Z.offset_y=2*w(C,F),F+=3,Z.width=1+w(C,F),F+=3,Z.height=1+w(C,F),F+=3,Z.duration=w(C,F),F+=3,Fe=C[F++],Z.dispose=1&Fe,Z.blend=Fe>>1&1}ie!="ANMF"&&(F+=ue)}return T}})(B,0);K.response=B,K.rgbaoutput=!0,K.dataurl=!1;var G=K.header?K.header:null,X=K.frames?K.frames:null;if(G){G.loop_counter=G.loop_count,b=[G.canvas_height],M=[G.canvas_width];for(var me=0;me<X.length&&X[me].blend!=0;me++);}var fe=X[0],I=j.WebPDecodeRGBA(B,fe.src_off,fe.src_size,M,b);fe.rgba=I,fe.imgwidth=M[0],fe.imgheight=b[0];for(var k=0;k<M[0]*b[0]*4;k++)U[k]=I[k];return this.width=M,this.height=b,this.data=U,this}function fU(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function dU(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,a,o,u,c,f,d,g=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new f,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new u,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new u,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var w=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=V;Object.defineProperty(this,"pdf",{get:function(){return W}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(re){ee=!!re}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(re){le=!!re}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(re){isNaN(re)||(he=re)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(re){isNaN(re)||(be=re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(re){var at;typeof re=="number"?at=[re,re,re,re]:((at=new Array(4))[0]=re[0],at[1]=re.length>=2?re[1]:at[0],at[2]=re.length>=3?re[2]:at[0],at[3]=re.length>=4?re[3]:at[1]),d.margin=at}});var Re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Re},set:function(re){Re=re}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(re){pe=re}});var Pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Pe},set:function(re){Pe=re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(re){re instanceof g&&(d=re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(re){d.path=re}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(re){Ke=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var at;at=A(re),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var at=A(re);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var $e=null,it=null,dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(re){$e=null,it=null,dt=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var at;if(this.ctx.font=re,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var en=at[1];at[2];var wt=at[3],Be=at[4];at[5];var ht=at[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(ft==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var Rt=(function(It){var ur,dn,St=[],$t=It.trim();if($t==="")return i2;if($t in l4)return[l4[$t]];for(;$t!=="";){switch(dn=null,ur=($t=c4($t)).charAt(0)){case'"':case"'":dn=sU($t.substring(1),ur);break;default:dn=oU($t)}if(dn===null||(St.push(dn[0]),($t=c4(dn[1]))!==""&&$t.charAt(0)!==","))return i2;$t=$t.replace(/^,/,"")}return St})(ht);if(this.fontFaces){var Tt=(function(It,ur){var dn=It.getFontList(),St=JSON.stringify(dn);if($e===null||it!==St){var $t=(function(on){var Ut=[];return Object.keys(on).forEach(function(Fn){on[Fn].forEach(function(Gt){var jt=null;switch(Gt){case"bold":jt={family:Fn,weight:"bold"};break;case"italic":jt={family:Fn,style:"italic"};break;case"bolditalic":jt={family:Fn,weight:"bold",style:"italic"};break;case"":case"normal":jt={family:Fn}}jt!==null&&(jt.ref={name:Fn,style:Gt},Ut.push(jt))})}),Ut})(dn);$e=(function(on){for(var Ut={},Fn=0;Fn<on.length;++Fn){var Gt=r2(on[Fn]),jt=Gt.family,zn=Gt.stretch,Dt=Gt.style,Mt=Gt.weight;Ut[jt]=Ut[jt]||{},Ut[jt][zn]=Ut[jt][zn]||{},Ut[jt][zn][Dt]=Ut[jt][zn][Dt]||{},Ut[jt][zn][Dt][Mt]=Gt}return Ut})($t.concat(ur)),it=St}return $e})(this.pdf,this.fontFaces),Ht=Rt.map(function(It){return{family:It,stretch:"normal",weight:wt,style:en}}),tn=(function(It,ur,dn){for(var St=(dn=dn||{}).defaultFontFamily||"times",$t=Object.assign({},aU,dn.genericFontFamilies||{}),on=null,Ut=null,Fn=0;Fn<ur.length;++Fn)if($t[(on=r2(ur[Fn])).family]&&(on.family=$t[on.family]),It.hasOwnProperty(on.family)){Ut=It[on.family];break}if(!(Ut=Ut||It[St]))throw new Error("Could not find a font-family for the rule '"+u4(on)+"' and default family '"+St+"'.");if(Ut=(function(Gt,jt){if(jt[Gt])return jt[Gt];var zn=$2[Gt],Dt=zn<=$2.normal?-1:1,Mt=o4(jt,P6,zn,Dt);if(!Mt)throw new Error("Could not find a matching font-stretch value for "+Gt);return Mt})(on.stretch,Ut),Ut=(function(Gt,jt){if(jt[Gt])return jt[Gt];for(var zn=k6[Gt],Dt=0;Dt<zn.length;++Dt)if(jt[zn[Dt]])return jt[zn[Dt]];throw new Error("Could not find a matching font-style for "+Gt)})(on.style,Ut),!(Ut=(function(Gt,jt){if(jt[Gt])return jt[Gt];if(Gt===400&&jt[500])return jt[500];if(Gt===500&&jt[400])return jt[400];var zn=iU[Gt],Dt=o4(jt,D6,zn,Gt<400?-1:1);if(!Dt)throw new Error("Could not find a matching font-weight for value "+Gt);return Dt})(on.weight,Ut)))throw new Error("Failed to resolve a font for the rule '"+u4(on)+"'.");return Ut})(Tt,Ht);this.pdf.setFont(tn.ref.name,tn.ref.style)}else{var Kt="";(wt==="bold"||parseInt(wt,10)>=700||en==="bold")&&(Kt="bold"),en==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var sn="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Rt.length;gt++){if(this.pdf.internal.getFont(Rt[gt],Kt,{noFallback:!0,disableWarning:!0})!==void 0){sn=Rt[gt];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(Rt[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)sn=Rt[gt],Kt="bold";else if(this.pdf.internal.getFont(Rt[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){sn=Rt[gt],Kt="normal";break}}if(sn===""){for(var an=0;an<Rt.length;an++)if(Ft[Rt[an]]){sn=Ft[Rt[an]];break}}sn=sn===""?"Times":sn,this.pdf.setFont(sn,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};w.prototype.setLineDash=function(V){this.lineDash=V},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){X.call(this,"fill",!1)},w.prototype.stroke=function(){X.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(V,W){if(isNaN(V)||isNaN(W))throw kr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new u(V,W));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(V,W)},w.prototype.closePath=function(){var V=new u(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&vr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){V=new u(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(V.x,V.y)},w.prototype.lineTo=function(V,W){if(isNaN(V)||isNaN(W))throw kr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new u(V,W));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new u(ee.x,ee.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),X.call(this,null,!0)},w.prototype.quadraticCurveTo=function(V,W,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(V)||isNaN(W))throw kr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new u(ee,le)),be=this.ctx.transform.applyToPoint(new u(V,W));this.path.push({type:"qct",x1:be.x,y1:be.y,x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},w.prototype.bezierCurveTo=function(V,W,ee,le,he,be){if(isNaN(he)||isNaN(be)||isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le))throw kr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Re=this.ctx.transform.applyToPoint(new u(he,be)),pe=this.ctx.transform.applyToPoint(new u(V,W)),Pe=this.ctx.transform.applyToPoint(new u(ee,le));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Pe.x,y2:Pe.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new u(Re.x,Re.y)},w.prototype.arc=function(V,W,ee,le,he,be){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le)||isNaN(he))throw kr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Re=this.ctx.transform.applyToPoint(new u(V,W));V=Re.x,W=Re.y;var pe=this.ctx.transform.applyToPoint(new u(0,ee)),Pe=this.ctx.transform.applyToPoint(new u(0,0));ee=Math.sqrt(Math.pow(pe.x-Pe.x,2)+Math.pow(pe.y-Pe.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:V,y:W,radius:ee,startAngle:le,endAngle:he,counterclockwise:be})},w.prototype.arcTo=function(V,W,ee,le,he){throw new Error("arcTo not implemented.")},w.prototype.rect=function(V,W,ee,le){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le))throw kr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,W),this.lineTo(V+ee,W),this.lineTo(V+ee,W+le),this.lineTo(V,W+le),this.lineTo(V,W),this.lineTo(V+ee,W),this.lineTo(V,W)},w.prototype.fillRect=function(V,W,ee,le){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le))throw kr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,W,ee,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},w.prototype.strokeRect=function(V,W,ee,le){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le))throw kr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(V,W,ee,le),this.stroke())},w.prototype.clearRect=function(V,W,ee,le){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le))throw kr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,W,ee,le))},w.prototype.save=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},w.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(W),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(V){var W,ee,le,he;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))W=0,ee=0,le=0,he=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(be!==null)W=parseInt(be[1]),ee=parseInt(be[2]),le=parseInt(be[3]),he=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)W=parseInt(be[1]),ee=parseInt(be[2]),le=parseInt(be[3]),he=parseFloat(be[4]);else{if(he=1,typeof V=="string"&&V.charAt(0)!=="#"){var Re=new N6(V);V=Re.ok?Re.toHex():"#000000"}V.length===4?(W=V.substring(1,2),W+=W,ee=V.substring(2,3),ee+=ee,le=V.substring(3,4),le+=le):(W=V.substring(1,3),ee=V.substring(3,5),le=V.substring(5,7)),W=parseInt(W,16),ee=parseInt(ee,16),le=parseInt(le,16)}}return{r:W,g:ee,b:le,a:he,style:V}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(V,W,ee,le){if(isNaN(W)||isNaN(ee)||typeof V!="string")throw kr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!b.call(this)){var he=ue(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;L.call(this,{text:V,x:W,y:ee,scale:be,angle:he,align:this.textAlign,maxWidth:le})}},w.prototype.strokeText=function(V,W,ee,le){if(isNaN(W)||isNaN(ee)||typeof V!="string")throw kr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){le=isNaN(le)?void 0:le;var he=ue(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;L.call(this,{text:V,x:W,y:ee,scale:be,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},w.prototype.measureText=function(V){if(typeof V!="string")throw kr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ee=this.pdf.internal.scaleFactor,le=W.internal.getFontSize(),he=W.getStringUnitWidth(V)*le/W.internal.scaleFactor;return new function(be){var Re=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Re}}),this}({width:he*=Math.round(96*ee/72*1e4)/1e4})},w.prototype.scale=function(V,W){if(isNaN(V)||isNaN(W))throw kr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(V,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},w.prototype.rotate=function(V){if(isNaN(V))throw kr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new f(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},w.prototype.translate=function(V,W){if(isNaN(V)||isNaN(W))throw kr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,V,W);this.ctx.transform=this.ctx.transform.multiply(ee)},w.prototype.transform=function(V,W,ee,le,he,be){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(le)||isNaN(he)||isNaN(be))throw kr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Re=new f(V,W,ee,le,he,be);this.ctx.transform=this.ctx.transform.multiply(Re)},w.prototype.setTransform=function(V,W,ee,le,he,be){V=isNaN(V)?1:V,W=isNaN(W)?0:W,ee=isNaN(ee)?0:ee,le=isNaN(le)?1:le,he=isNaN(he)?0:he,be=isNaN(be)?0:be,this.ctx.transform=new f(V,W,ee,le,he,be)};var U=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(V,W,ee,le,he,be,Re,pe,Pe){var Ke=this.pdf.getImageProperties(V),$e=1,it=1,dt=1,re=1;le!==void 0&&pe!==void 0&&(dt=pe/le,re=Pe/he,$e=Ke.width/le*pe/le,it=Ke.height/he*Pe/he),be===void 0&&(be=W,Re=ee,W=0,ee=0),le!==void 0&&pe===void 0&&(pe=le,Pe=he),le===void 0&&pe===void 0&&(pe=Ke.width,Pe=Ke.height);var at=this.ctx.transform.decompose(),en=ue(at.rotate.shx),wt=new f,Be=(wt=(wt=(wt=wt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new c(be-W*dt,Re-ee*re,le*$e,he*it));if(this.autoPaging){for(var ht,ft=j.call(this,Be),Rt=[],Tt=0;Tt<ft.length;Tt+=1)Rt.indexOf(ft[Tt])===-1&&Rt.push(ft[Tt]);G(Rt);for(var Ht=Rt[0],tn=Rt[Rt.length-1],Kt=Ht;Kt<tn+1;Kt++){this.pdf.setPage(Kt);var sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=Kt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],an=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=Kt===1?0:gt+(Kt-2)*an;if(this.ctx.clip_path.length!==0){var ur=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(ht,this.posX+this.margin[3],-It+Ft+this.ctx.prevPageLastElemOffset),me.call(this,"fill",!0),this.path=ur}var dn=JSON.parse(JSON.stringify(Be));dn=K([dn],this.posX+this.margin[3],-It+Ft+this.ctx.prevPageLastElemOffset)[0];var St=(Kt>Ht||Kt<tn)&&U.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],sn,an,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",dn.x,dn.y,dn.w,dn.h,null,null,en),St&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,en)};var j=function(V,W,ee){var le=[];W=W||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":le.push(Math.floor((V.y+he)/ee)+1);break;case"arc":le.push(Math.floor((V.y+he-V.radius)/ee)+1),le.push(Math.floor((V.y+he+V.radius)/ee)+1);break;case"qct":var be=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);le.push(Math.floor((be.y+he)/ee)+1),le.push(Math.floor((be.y+be.h+he)/ee)+1);break;case"bct":var Re=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);le.push(Math.floor((Re.y+he)/ee)+1),le.push(Math.floor((Re.y+Re.h+he)/ee)+1);break;case"rect":le.push(Math.floor((V.y+he)/ee)+1),le.push(Math.floor((V.y+V.h+he)/ee)+1)}for(var pe=0;pe<le.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<le[pe];)B.call(this);return le},B=function(){var V=this.fillStyle,W=this.strokeStyle,ee=this.font,le=this.lineCap,he=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=W,this.font=ee,this.lineCap=le,this.lineWidth=he,this.lineJoin=be},K=function(V,W,ee){for(var le=0;le<V.length;le++)switch(V[le].type){case"bct":V[le].x2+=W,V[le].y2+=ee;case"qct":V[le].x1+=W,V[le].y1+=ee;default:V[le].x+=W,V[le].y+=ee}return V},G=function(V){return V.sort(function(W,ee){return W-ee})},X=function(V,W){var ee=this.fillStyle,le=this.strokeStyle,he=this.lineCap,be=this.lineWidth,Re=Math.abs(be*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var Pe,Ke,$e=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),dt=[],re=0;re<it.length;re++)if(it[re].x!==void 0)for(var at=j.call(this,it[re]),en=0;en<at.length;en+=1)dt.indexOf(at[en])===-1&&dt.push(at[en]);for(var wt=0;wt<dt.length;wt++)for(;this.pdf.internal.getNumberOfPages()<dt[wt];)B.call(this);G(dt);for(var Be=dt[0],ht=dt[dt.length-1],ft=Be;ft<ht+1;ft++){this.pdf.setPage(ft),this.fillStyle=ee,this.strokeStyle=le,this.lineCap=he,this.lineWidth=Re,this.lineJoin=pe;var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=ft===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=ft===1?0:Ht+(ft-2)*tn;if(this.ctx.clip_path.length!==0){var sn=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(Pe,this.posX+this.margin[3],-Kt+Tt+this.ctx.prevPageLastElemOffset),me.call(this,V,!0),this.path=sn}if(Ke=JSON.parse(JSON.stringify($e)),this.path=K(Ke,this.posX+this.margin[3],-Kt+Tt+this.ctx.prevPageLastElemOffset),W===!1||ft===0){var Ft=(ft>Be||ft<ht)&&U.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,tn,null).clip().discardPath()),me.call(this,V,W),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=$e}else this.lineWidth=Re,me.call(this,V,W),this.lineWidth=be},me=function(V,W){if((V!=="stroke"||W||!M.call(this))&&(V==="stroke"||W||!b.call(this))){for(var ee,le,he=[],be=this.path,Re=0;Re<be.length;Re++){var pe=be[Re];switch(pe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:pe,deltas:[],abs:[]});break;case"lt":var Pe=he.length;if(be[Re-1]&&!isNaN(be[Re-1].x)&&(ee=[pe.x-be[Re-1].x,pe.y-be[Re-1].y],Pe>0)){for(;Pe>=0;Pe--)if(he[Pe-1].close!==!0&&he[Pe-1].begin!==!0){he[Pe-1].deltas.push(ee),he[Pe-1].abs.push(pe);break}}break;case"bct":ee=[pe.x1-be[Re-1].x,pe.y1-be[Re-1].y,pe.x2-be[Re-1].x,pe.y2-be[Re-1].y,pe.x-be[Re-1].x,pe.y-be[Re-1].y],he[he.length-1].deltas.push(ee);break;case"qct":var Ke=be[Re-1].x+2/3*(pe.x1-be[Re-1].x),$e=be[Re-1].y+2/3*(pe.y1-be[Re-1].y),it=pe.x+2/3*(pe.x1-pe.x),dt=pe.y+2/3*(pe.y1-pe.y),re=pe.x,at=pe.y;ee=[Ke-be[Re-1].x,$e-be[Re-1].y,it-be[Re-1].x,dt-be[Re-1].y,re-be[Re-1].x,at-be[Re-1].y],he[he.length-1].deltas.push(ee);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(pe)}}le=W?null:V==="stroke"?"stroke":"fill";for(var en=!1,wt=0;wt<he.length;wt++)if(he[wt].arc)for(var Be=he[wt].abs,ht=0;ht<Be.length;ht++){var ft=Be[ht];ft.type==="arc"?k.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,W,!en):D.call(this,ft.x,ft.y),en=!0}else if(he[wt].close===!0)this.pdf.internal.out("h"),en=!1;else if(he[wt].begin!==!0){var Rt=he[wt].start.x,Tt=he[wt].start.y;ne.call(this,he[wt].deltas,Rt,Tt),en=!0}le&&C.call(this,le),W&&F.call(this)}},fe=function(V){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ee;case"top":return V+W-ee;case"hanging":return V+W-2*ee;case"middle":return V+W/2-ee;default:return V}},I=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(W,ee){this.colorStops.push([W,ee])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(V,W,ee,le,he,be,Re,pe,Pe){for(var Ke=ie.call(this,ee,le,he,be),$e=0;$e<Ke.length;$e++){var it=Ke[$e];$e===0&&(Pe?T.call(this,it.x1+V,it.y1+W):D.call(this,it.x1+V,it.y1+W)),Ee.call(this,V,W,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}pe?F.call(this):C.call(this,Re)},C=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(V,W){this.pdf.internal.out(t(V)+" "+r(W)+" m")},L=function(V){var W;switch(V.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var ee,le,he,be=this.pdf.getTextDimensions(V.text),Re=fe.call(this,V.y),pe=I.call(this,Re)-be.h,Pe=this.ctx.transform.applyToPoint(new u(V.x,Re));if(this.autoPaging){var Ke=this.ctx.transform.decompose(),$e=new f;$e=($e=($e=$e.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale);for(var it=this.ctx.transform.applyToRectangle(new c(V.x,Re,be.w,be.h)),dt=$e.applyToRectangle(new c(V.x,pe,be.w,be.h)),re=j.call(this,dt),at=[],en=0;en<re.length;en+=1)at.indexOf(re[en])===-1&&at.push(re[en]);G(at);for(var wt=at[0],Be=at[at.length-1],ht=wt;ht<Be+1;ht++){this.pdf.setPage(ht);var ft=ht===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[2],Ht=Tt-this.margin[0],tn=this.pdf.internal.pageSize.width-this.margin[1],Kt=tn-this.margin[3],sn=ht===1?0:Rt+(ht-2)*Ht;if(this.ctx.clip_path.length!==0){var Ft=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=K(ee,this.posX+this.margin[3],-1*sn+ft),me.call(this,"fill",!0),this.path=Ft}var gt=K([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-sn+ft+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),he=this.lineWidth,this.lineWidth=he*V.scale);var an=this.autoPaging!=="text";if(an||gt.y+gt.h<=Tt){if(an||gt.y>=ft&&gt.x<=tn){var It=an?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||tn-gt.x)[0],ur=K([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-sn+ft+this.ctx.prevPageLastElemOffset)[0],dn=an&&(ht>wt||ht<Be)&&U.call(this);dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Ht,null).clip().discardPath()),this.pdf.text(It,ur.x,ur.y,{angle:V.angle,align:W,renderingMode:V.renderingMode}),dn&&this.pdf.restoreGraphicsState()}}else gt.y<Tt&&(this.ctx.prevPageLastElemOffset+=Tt-gt.y);V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)}}else V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),he=this.lineWidth,this.lineWidth=he*V.scale),this.pdf.text(V.text,Pe.x+this.posX,Pe.y+this.posY,{angle:V.angle,align:W,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=he)},D=function(V,W,ee,le){ee=ee||0,le=le||0,this.pdf.internal.out(t(V+ee)+" "+r(W+le)+" l")},ne=function(V,W,ee){return this.pdf.lines(V,W,ee,null,null)},Ee=function(V,W,ee,le,he,be,Re,pe){this.pdf.internal.out([e(a(ee+V)),e(o(le+W)),e(a(he+V)),e(o(be+W)),e(a(Re+V)),e(o(pe+W)),"c"].join(" "))},ie=function(V,W,ee,le){for(var he=2*Math.PI,be=Math.PI/2;W>ee;)W-=he;var Re=Math.abs(ee-W);Re<he&&le&&(Re=he-Re);for(var pe=[],Pe=le?-1:1,Ke=W;Re>1e-5;){var $e=Ke+Pe*Math.min(Re,be);pe.push(ve.call(this,V,Ke,$e)),Re-=Math.abs($e-Ke),Ke=$e}return pe},ve=function(V,W,ee){var le=(ee-W)/2,he=V*Math.cos(le),be=V*Math.sin(le),Re=he,pe=-be,Pe=Re*Re+pe*pe,Ke=Pe+Re*he+pe*be,$e=4/3*(Math.sqrt(2*Pe*Ke)-Ke)/(Re*be-pe*he),it=Re-$e*pe,dt=pe+$e*Re,re=it,at=-dt,en=le+W,wt=Math.cos(en),Be=Math.sin(en);return{x1:V*Math.cos(W),y1:V*Math.sin(W),x2:it*wt-dt*Be,y2:it*Be+dt*wt,x3:re*wt-at*Be,y3:re*Be+at*wt,x4:V*Math.cos(ee),y4:V*Math.sin(ee)}},ue=function(V){return 180*V/Math.PI},xe=function(V,W,ee,le,he,be){var Re=V+.5*(ee-V),pe=W+.5*(le-W),Pe=he+.5*(ee-he),Ke=be+.5*(le-be),$e=Math.min(V,he,Re,Pe),it=Math.max(V,he,Re,Pe),dt=Math.min(W,be,pe,Ke),re=Math.max(W,be,pe,Ke);return new c($e,dt,it-$e,re-dt)},Fe=function(V,W,ee,le,he,be,Re,pe){var Pe,Ke,$e,it,dt,re,at,en,wt,Be,ht,ft,Rt,Tt,Ht=ee-V,tn=le-W,Kt=he-ee,sn=be-le,Ft=Re-he,gt=pe-be;for(Ke=0;Ke<41;Ke++)wt=(at=($e=V+(Pe=Ke/40)*Ht)+Pe*((dt=ee+Pe*Kt)-$e))+Pe*(dt+Pe*(he+Pe*Ft-dt)-at),Be=(en=(it=W+Pe*tn)+Pe*((re=le+Pe*sn)-it))+Pe*(re+Pe*(be+Pe*gt-re)-en),Ke==0?(ht=wt,ft=Be,Rt=wt,Tt=Be):(ht=Math.min(ht,wt),ft=Math.min(ft,Be),Rt=Math.max(Rt,wt),Tt=Math.max(Tt,Be));return new c(Math.round(ht),Math.round(ft),Math.round(Rt-ht),Math.round(Tt-ft))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,W,ee=(V=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:W}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(qt.API),(function(n){var e=function(u){var c,f,d,g,w,A,b,M,U,j;for(f=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(A=(w=((w=((w=((w=(w-(j=w%85))/85)-(U=w%85))/85)-(M=w%85))/85)-(b=w%85))/85)%85,f.push(A+33,b+33,M+33,U+33,j+33)):f.push(122);return(function(B,K){for(var G=K;G>0;G--)B.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,g,w,A=String,b="length",M=255,U="charCodeAt",j="slice",B="replace";for(u[j](-2),u=u[j](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),d=[],g=0,w=(u+=c="uuuuu"[j](u[b]%5||5))[b];w>g;g+=5)f=52200625*(u[U](g)-33)+614125*(u[U](g+1)-33)+7225*(u[U](g+2)-33)+85*(u[U](g+3)-33)+(u[U](g+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function(K,G){for(var X=G;X>0;X--)K.pop()})(d,c[b]),A.fromCharCode.apply(A,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=z2(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(qt.API),(function(n){n.loadFile=function(e,t,r){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,g){var w=new XMLHttpRequest,A=0,b=function(M){var U=M.length,j=[],B=String.fromCharCode;for(A=0;A<U;A+=1)j.push(B(255&M.charCodeAt(A)));return j.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?g(b(this.responseText)):g(void 0)}),w.send(null),d&&w.status===200)return b(w.responseText)})(a,o,u)}catch{}return c})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(qt.API),(function(n){function e(){return(pn.html2canvas?Promise.resolve(pn.html2canvas):Cp(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(pn.DOMPurify?Promise.resolve(pn.DOMPurify):Cp(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=vr(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function c(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var M=g[b],U=M.src.find(function(j){return j.format==="truetype"});U&&d.addFont(U.url,M.ref.name,M.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,g){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,g),A}).then(g,w).then(function(A){return d.updateProgress(1),A})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),A=d.call(w,c,f);return u.convert(A,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,qt.getPageSize=function(c,f,d){if(vr(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,A=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var M,U=0,j=0;if(b.hasOwnProperty(A))U=b[A][1]/w,j=b[A][0]/w;else try{U=d[1],j=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",j>U&&(M=j,j=U,U=M);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",U>j&&(M=j,j=U,U=M)}return{width:j,height:U,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(r2):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(qt.API),qt.API.addJS=function(n){var e,t,r=n;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var w=t.internal.newObject();g.push(w);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var u={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(qt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,o,u,c){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var A,b=256*w.charCodeAt(4)+w.charCodeAt(5),M=w.length,U={width:0,height:0,numcomponents:1},j=4;j<M;j+=2){if(j+=b,e.indexOf(w.charCodeAt(j+1))!==-1){A=256*w.charCodeAt(j+5)+w.charCodeAt(j+6),U={width:256*w.charCodeAt(j+7)+w.charCodeAt(j+8),height:A,numcomponents:w.charCodeAt(j+9)};break}b=256*w.charCodeAt(j+2)+w.charCodeAt(j+3)}return U})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return g}})(qt.API),qt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=H9(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,g=o.depth;a=d&&f===1?(function(k){for(var C=k.width,F=k.height,T=k.data,L=k.palette,D=k.depth,ne=!1,Ee=[],ie=[],ve=void 0,ue=!1,xe=0,Fe=0;Fe<L.length;Fe++){var Z=gE(L[Fe],4),V=Z[0],W=Z[1],ee=Z[2],le=Z[3];Ee.push(V,W,ee),le!=null&&(le===0?(xe++,ie.length<1&&ie.push(Fe)):le<255&&(ue=!0))}if(ue||xe>1){ne=!0,ie=void 0;var he=C*F;ve=new Uint8Array(he);for(var be=new DataView(T.buffer),Re=0;Re<he;Re++){var pe=a2(be,Re,D),Pe=gE(L[pe],4)[3];ve[Re]=Pe}}else xe===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:T,alphaBytes:ve,needSMask:ne,palette:Ee,mask:ie}})(o):f===2||f===4?(function(k){for(var C=k.data,F=k.width,T=k.height,L=k.channels,D=k.depth,ne=L===2?"DeviceGray":"DeviceRGB",Ee=L-1,ie=F*T,ve=Ee,ue=ie*ve,xe=1*ie,Fe=Math.ceil(ue*D/8),Z=Math.ceil(xe*D/8),V=new Uint8Array(Fe),W=new Uint8Array(Z),ee=new DataView(C.buffer),le=new DataView(V.buffer),he=new DataView(W.buffer),be=!1,Re=0;Re<ie;Re++){for(var pe=Re*L,Pe=0;Pe<ve;Pe++)b4(le,a2(ee,pe+Pe,D),Re*ve+Pe,D);var Ke=a2(ee,pe+ve,D);Ke<(1<<D)-1&&(be=!0),b4(he,Ke,1*Re,D)}return{colorSpace:ne,colorsPerPixel:Ee,sMaskBitsPerComponent:be?D:void 0,colorBytes:V,alphaBytes:W,needSMask:be}})(o):(function(k){var C=k.data,F=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(T){for(var L=T.length,D=new Uint8Array(2*L),ne=new DataView(D.buffer,D.byteOffset,D.byteLength),Ee=0;Ee<L;Ee++)ne.setUint16(2*Ee,T[Ee],!1);return D})(C):C,needSMask:!1}})(o);var w,A,b,M=a,U=M.colorSpace,j=M.colorsPerPixel,B=M.sMaskBitsPerComponent,K=M.colorBytes,G=M.alphaBytes,X=M.needSMask,me=M.palette,fe=M.mask,I=null;return r!==qt.API.image_compression.NONE&&typeof z2=="function"?(I=(function(k){var C;switch(k){case qt.API.image_compression.FAST:C=11;break;case qt.API.image_compression.MEDIUM:C=13;break;case qt.API.image_compression.SLOW:C=14;break;default:C=12}return C})(r),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(I," /Colors ").concat(j," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=m4(K,Math.ceil(u*j*g/8),j,g,r),X&&(b=m4(G,Math.ceil(u*B/8),1,B,r))):(w=void 0,A=void 0,n=K,X&&(b=G)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:w,decodeParameters:A,transparency:fe,palette:me,sMask:b,predictor:I,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:B,colorSpace:U}}},(function(n){n.processGIF89A=function(e,t,r,a){var o=new hU(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},g=new s2(100).encode(d,100);return n.processJPEG.call(this,g,t,r,a)},n.processGIF87A=n.processGIF89A})(qt.API),_o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_o.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){kr.log("bit decode error:"+t)}},_o.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},_o.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},_o.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},_o.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*a;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},_o.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=a*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},_o.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},_o.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=u}},_o.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var o=new _o(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new s2(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(qt.API),w4.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var o=new w4(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new s2(100).encode(f,100);return n.processJPEG.call(this,d,t,r,a)}})(qt.API),qt.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var g=r[d],w=r[d+1],A=r[d+2],b=r[d+3];o[c++]=g,o[c++]=w,o[c++]=A,u[f++]=b}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},qt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ih=qt.API,mp=Ih.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,g=d.fof?d.fof:1,w=e.doKerning!==!1,A=0,b=n.length,M=0,U=c[0]||f,j=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(A=w&&vr(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/g:0,j.push((c[r]||U)/f+A)),M=r;return j},h4=Ih.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Ih.processArabic&&(n=Ih.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:mp.apply(this,arguments).reduce(function(o,u){return o+u},0)},f4=function(n,e,t,r){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},d4=function(n,e,t){t||(t={});var r,a,o,u,c,f,d,g=[],w=[g],A=t.textIndent||0,b=0,M=0,U=n.split(" "),j=mp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?U[0].length+2:t.lineIndent||0){var B=Array(f).join(" "),K=[];U.map(function(X){(X=X.split(/\s*\n/)).length>1?K=K.concat(X.map(function(me,fe){return(fe&&me.length?`
`:"")+me})):K.push(X[0])}),U=K,f=h4.apply(this,[B,t])}for(o=0,u=U.length;o<u;o++){var G=0;if(r=U[o],f&&r[0]==`
`&&(r=r.substr(1),G=1),A+b+(M=(a=mp.apply(this,[r,t])).reduce(function(X,me){return X+me},0))>e||G){if(M>e){for(c=f4.apply(this,[r,a,e-(A+b),e]),g.push(c.shift()),g=[c.pop()];c.length;)w.push([c.shift()]);M=a.slice(r.length-(g[0]?g[0].length:0)).reduce(function(X,me){return X+me},0)}else g=[r];w.push(g),A=M+f,b=j}else g.push(r),A+=b+M,b=j}return d=f?function(X,me){return(me?B:"")+X.join(" ")}:function(X){return X.join(" ")},w.map(d)},Ih.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(d4.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var u=function(A){return"0x"+parseInt(A,10).toString(16)},c=n.__fontmetrics__.compress=function(A){var b,M,U,j,B=["{"];for(var K in A){if(b=A[K],isNaN(parseInt(K,10))?M="'"+K+"'":(K=parseInt(K,10),M=(M=u(K).slice(2)).slice(0,-1)+a[M.slice(-1)]),typeof b=="number")b<0?(U=u(b).slice(3),j="-"):(U=u(b).slice(2),j=""),U=j+U.slice(0,-1)+a[U.slice(-1)];else{if(vr(b)!=="object")throw new Error("Don't know what to do with value type "+vr(b)+".");U=c(b)}B.push(M+U)}return B.push("}"),B.join("")},f=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,M,U,j,B={},K=1,G=B,X=[],me="",fe="",I=A.length-1,k=1;k<I;k+=1)(j=A[k])=="'"?b?(U=b.join(""),b=void 0):b=[]:b?b.push(j):j=="{"?(X.push([G,U]),G={},U=void 0):j=="}"?((M=X.pop())[0][M[1]]=G,U=void 0,G=M[0]):j=="-"?K=-1:U===void 0?r.hasOwnProperty(j)?(me+=r[j],U=parseInt(me,16)*K,K=1,me=""):me+=j:r.hasOwnProperty(j)?(fe+=r[j],G[U]=parseInt(fe,16)*K,K=1,U=void 0,fe=""):fe+=j;return B},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var b=A.font,M=w.Unicode[b.postScriptName];M&&(b.metadata.Unicode={},b.metadata.Unicode.widths=M.widths,b.metadata.Unicode.kerning=M.kerning);var U=g.Unicode[b.postScriptName];U&&(b.metadata.Unicode.encoding=U,b.encoding=U.codePages[0])}])})(qt.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Ip(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,r)}}])})(qt),qt.API.addSvgAsImage=function(n,e,t,r,a,o,u,c){if(isNaN(e)||isNaN(t))throw kr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw kr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(pn.canvg?Promise.resolve(pn.canvg):Cp(()=>import("./index.es-CT5Yi3Be.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,u,c)})},qt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},qt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,g=0,w=0;function A(M,U){var j,B=!1;for(j=0;j<M.length;j+=1)M[j]===U&&(B=!0);return B}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(vr(n)==="object"){for(a in n)if(o=n[a],A(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&A(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,U=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?U.push("/"+M+" /"+t[M].value):U.push("/"+M+" "+t[M].value));U.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+U.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},qt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",dU),this.internal.events.subscribe("postPutResources",fU)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],w=0,A=o.length;w<A;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(o){var u,c,f,d,g,w,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(c=Object.keys(o).sort(function(b,M){return b-M})).length;w<A;w++)u=c[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",M=0;M<A.length;M++)b+=String.fromCharCode(A[M]);var U=d();g({data:b,addLength1:!0,objectId:U}),f("endobj");var j=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:j}),f("endobj");var B=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Uh(c.fontName)),f("/FontFile2 "+U+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var K=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Uh(c.fontName)),f("/FontDescriptor "+B+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+j+" 0 R"),f("/BaseFont /"+Uh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+K+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,A="",b=0;b<w.length;b++)A+=String.fromCharCode(w[b]);var M=d();g({data:A,addLength1:!0,objectId:M}),f("endobj");var U=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var j=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Uh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var B=0;B<c.metadata.hmtx.widths.length;B++)c.metadata.hmtx.widths[B]=parseInt(c.metadata.hmtx.widths[B]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+U+" 0 R/BaseFont/"+Uh(c.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,g=o.options||{},w=o.mutex||{},A=w.pdfEscape,b=w.activeFontKey,M=w.fonts,U=b,j="",B=0,K="",G=M[U].encoding;if(M[U].encoding!=="Identity-H")return{text:c,x:f,y:d,options:g,mutex:w};for(K=c,U=b,Array.isArray(c)&&(K=c[0]),B=0;B<K.length;B+=1)M[U].metadata.hasOwnProperty("cmap")&&(u=M[U].metadata.cmap.unicode.codeMap[K[B].charCodeAt(0)]),u||K[B].charCodeAt(0)<256&&M[U].metadata.hasOwnProperty("Unicode")?j+=K[B]:j+="";var X="";return parseInt(U.slice(1))<14||G==="WinAnsiEncoding"?X=A(j,U).split("").map(function(me){return me.charCodeAt(0).toString(16)}).join(""):G==="Identity-H"&&(X=t(j,M[U])),w.isHex=!0,{text:X,x:f,y:d,options:g,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(qt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(qt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,o,u,c,f,d,g,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},U={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),K=!1,G=0;this.__bidiEngine__={};var X=function(T){var L=T.charCodeAt(),D=L>>8,ne=U[D];return ne!==void 0?w[256*ne+(255&L)]:D===252||D===253?"AL":B.test(D)?"L":D===8?"R":"N"},me=function(T){for(var L,D=0;D<T.length;D++){if((L=X(T.charAt(D)))==="L")return!1;if(L==="R")return!0}return!1},fe=function(T,L,D,ne){var Ee,ie,ve,ue,xe=L[ne];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":K=!1;break;case"N":case"AN":break;case"EN":K&&(xe="AN");break;case"AL":K=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":ne<1||ne+1>=L.length||(Ee=D[ne-1])!=="EN"&&Ee!=="AN"||(ie=L[ne+1])!=="EN"&&ie!=="AN"?xe="N":K&&(ie="AN"),xe=ie===Ee?ie:"N";break;case"ES":xe=(Ee=ne>0?D[ne-1]:"B")==="EN"&&ne+1<L.length&&L[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&D[ne-1]==="EN"){xe="EN";break}if(K){xe="N";break}for(ve=ne+1,ue=L.length;ve<ue&&L[ve]==="ET";)ve++;xe=ve<ue&&L[ve]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(ue=L.length,ve=ne+1;ve<ue&&L[ve]==="NSM";)ve++;if(ve<ue){var Fe=T[ne],Z=Fe>=1425&&Fe<=2303||Fe===64286;if(Ee=L[ve],Z&&(Ee==="R"||Ee==="AL")){xe="R";break}}}xe=ne<1||(Ee=L[ne-1])==="B"?"N":D[ne-1];break;case"B":K=!1,a=!0,xe=G;break;case"S":o=!0,xe="N"}return xe},I=function(T,L,D){var ne=T.split("");return D&&k(ne,D,{hiLevel:G}),ne.reverse(),L&&L.reverse(),ne.join("")},k=function(T,L,D){var ne,Ee,ie,ve,ue,xe=-1,Fe=T.length,Z=0,V=[],W=G?b:A,ee=[];for(K=!1,a=!1,o=!1,Ee=0;Ee<Fe;Ee++)ee[Ee]=X(T[Ee]);for(ie=0;ie<Fe;ie++){if(ue=Z,V[ie]=fe(T,ee,V,ie),ne=240&(Z=W[ue][M[V[ie]]]),Z&=15,L[ie]=ve=W[Z][5],ne>0)if(ne===16){for(Ee=xe;Ee<ie;Ee++)L[Ee]=1;xe=-1}else xe=-1;if(W[Z][6])xe===-1&&(xe=ie);else if(xe>-1){for(Ee=xe;Ee<ie;Ee++)L[Ee]=ve;xe=-1}ee[ie]==="B"&&(L[ie]=0),D.hiLevel|=ve}o&&(function(le,he,be){for(var Re=0;Re<be;Re++)if(le[Re]==="S"){he[Re]=G;for(var pe=Re-1;pe>=0&&le[pe]==="WS";pe--)he[pe]=G}})(ee,L,Fe)},C=function(T,L,D,ne,Ee){if(!(Ee.hiLevel<T)){if(T===1&&G===1&&!a)return L.reverse(),void(D&&D.reverse());for(var ie,ve,ue,xe,Fe=L.length,Z=0;Z<Fe;){if(ne[Z]>=T){for(ue=Z+1;ue<Fe&&ne[ue]>=T;)ue++;for(xe=Z,ve=ue-1;xe<ve;xe++,ve--)ie=L[xe],L[xe]=L[ve],L[ve]=ie,D&&(ie=D[xe],D[xe]=D[ve],D[ve]=ie);Z=ue}Z++}}},F=function(T,L,D){var ne=T.split(""),Ee={hiLevel:G};return D||(D=[]),k(ne,D,Ee),(function(ie,ve,ue){if(ue.hiLevel!==0&&g)for(var xe,Fe=0;Fe<ie.length;Fe++)ve[Fe]===1&&(xe=j.indexOf(ie[Fe]))>=0&&(ie[Fe]=j[xe+1])})(ne,D,Ee),C(2,ne,L,D,Ee),C(1,ne,L,D,Ee),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(T,L,D){if((function(Ee,ie){if(ie)for(var ve=0;ve<Ee.length;ve++)ie[ve]=ve;c===void 0&&(c=me(Ee)),d===void 0&&(d=me(Ee))})(T,L),u||!f||d)if(u&&f&&c^d)G=c?1:0,T=I(T,L,D);else if(!u&&f&&d)G=c?1:0,T=F(T,L,D),T=I(T,L);else if(!u||c||f||d){if(u&&!f&&c^d)T=I(T,L),c?(G=0,T=F(T,L,D)):(G=1,T=F(T,L,D),T=I(T,L));else if(u&&c&&!f&&d)G=1,T=F(T,L,D),T=I(T,L);else if(!u&&!f&&c^d){var ne=g;c?(G=1,T=F(T,L,D),G=0,g=!1,T=F(T,L,D),g=ne):(G=0,T=F(T,L,D),T=I(T,L),G=1,g=!1,T=F(T,L,D),g=ne,T=I(T,L))}}else G=0,T=F(T,L,D);else G=c?1:0,T=F(T,L,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(u=T.isInputVisual,f=T.isOutputVisual,c=T.isInputRtl,d=T.isOutputRtl,g=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);r.text=u}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(qt),qt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ju(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new CU(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new mU(this.contents),this.head=new gU(this),this.name=new wU(this),this.cmap=new O6(this),this.toUnicode={},this.hhea=new yU(this),this.maxp=new EU(this),this.hmtx=new AU(this),this.post=new bU(this),this.os2=new vU(this),this.loca=new TU(this),this.glyf=new SU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var To,Ju=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),mU=(function(){var n;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,u,c,f,d,g,w,A,b,M,U;for(U in b=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),u=Math.floor(w/f),g=16*b-w,(a=new Ju).writeInt(this.scalarType),a.writeShort(b),a.writeShort(w),a.writeShort(u),a.writeShort(g),o=16*b,d=a.pos+o,c=null,M=[],t)for(A=t[U],a.writeString(U),a.writeInt(n(A)),a.writeInt(d),a.writeInt(A.length),M=M.concat(A),U==="head"&&(c=d),d+=A.length;d%4;)M.push(0),d++;return a.write(M),r=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(r),a.data},n=function(t){var r,a,o,u;for(t=U6.call(t);t.length%4;)t.push(0);for(o=new Ju(t),a=0,r=0,u=t.length;r<u;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),pU={}.hasOwnProperty,ll=function(n,e){for(var t in e)pU.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};To=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var gU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Ju).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),E4=(function(){function n(e,t){var r,a,o,u,c,f,d,g,w,A,b,M,U,j,B,K,G;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),A=b/2,e.pos+=6,o=(function(){var X,me;for(me=[],f=X=0;0<=A?X<A:X>A;f=0<=A?++X:--X)me.push(e.readUInt16());return me})(),e.pos+=2,U=(function(){var X,me;for(me=[],f=X=0;0<=A?X<A:X>A;f=0<=A?++X:--X)me.push(e.readUInt16());return me})(),d=(function(){var X,me;for(me=[],f=X=0;0<=A?X<A:X>A;f=0<=A?++X:--X)me.push(e.readUInt16());return me})(),g=(function(){var X,me;for(me=[],f=X=0;0<=A?X<A:X>A;f=0<=A?++X:--X)me.push(e.readUInt16());return me})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var X,me;for(me=[],f=X=0;0<=a?X<a:X>a;f=0<=a?++X:--X)me.push(e.readUInt16());return me})(),f=B=0,G=o.length;B<G;f=++B)for(j=o[f],r=K=M=U[f];M<=j?K<=j:K>=j;r=M<=j?++K:--K)g[f]===0?u=r+d[f]:(u=c[g[f]/2+(r-M)-(A-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,a,o,u,c,f,d,g,w,A,b,M,U,j,B,K,G,X,me,fe,I,k,C,F,T,L,D,ne,Ee,ie,ve,ue,xe,Fe,Z,V,W,ee,le,he,be,Re,pe,Pe,Ke,$e;switch(ne=new Ju,u=Object.keys(e).sort(function(it,dt){return it-dt}),t){case"macroman":for(U=0,j=(function(){var it=[];for(M=0;M<256;++M)it.push(0);return it})(),K={0:0},o={},Ee=0,xe=u.length;Ee<xe;Ee++)K[pe=e[a=u[Ee]]]==null&&(K[pe]=++U),o[a]={old:e[a],new:K[e[a]]},j[a]=K[e[a]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(j),{charMap:o,subtable:ne.data,maxGlyphID:U+1};case"unicode":for(L=[],w=[],G=0,K={},r={},B=d=null,ie=0,Fe=u.length;ie<Fe;ie++)K[me=e[a=u[ie]]]==null&&(K[me]=++G),r[a]={old:me,new:K[me]},c=K[me]-a,B!=null&&c===d||(B&&w.push(B),L.push(a),d=c),B=a;for(B&&w.push(B),w.push(65535),L.push(65535),F=2*(C=L.length),k=2*Math.pow(Math.log(C)/Math.LN2,2),A=Math.log(k/2)/Math.LN2,I=2*C-k,f=[],fe=[],b=[],M=ve=0,Z=L.length;ve<Z;M=++ve){if(T=L[M],g=w[M],T===65535){f.push(0),fe.push(0);break}if(T-(D=r[T].new)>=32768)for(f.push(0),fe.push(2*(b.length+C-M)),a=ue=T;T<=g?ue<=g:ue>=g;a=T<=g?++ue:--ue)b.push(r[a].new);else f.push(D-T),fe.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*C+2*b.length),ne.writeUInt16(0),ne.writeUInt16(F),ne.writeUInt16(k),ne.writeUInt16(A),ne.writeUInt16(I),be=0,V=w.length;be<V;be++)a=w[be],ne.writeUInt16(a);for(ne.writeUInt16(0),Re=0,W=L.length;Re<W;Re++)a=L[Re],ne.writeUInt16(a);for(Pe=0,ee=f.length;Pe<ee;Pe++)c=f[Pe],ne.writeUInt16(c);for(Ke=0,le=fe.length;Ke<le;Ke++)X=fe[Ke],ne.writeUInt16(X);for($e=0,he=b.length;$e<he;$e++)U=b[$e],ne.writeUInt16(U);return{charMap:r,subtable:ne.data,maxGlyphID:G+1}}},n})(),O6=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new E4(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=E4.encode(e,t),(a=new Ju).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),yU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),vU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),bU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),_U=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,o,u,c,f,d,g,w,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,w=r.length;g<w;o=++g)a=r[o],e.pos=a.offset,d=e.readString(a.length),u=new _U(d,a),f[A=a.nameID]==null&&(f[A]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),EU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),AU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,w,A;for(A=[],d=0,g=(w=this.metrics).length;d<g;d++)o=w[d],A.push(o.advance);return A}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),U6=[].slice,SU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,o,u,c,f,d,g,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Ju(t.read(a))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new xU(c,d,w,f,g):new NU(c,u,d,w,f,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),NU=(function(){function n(e,t,r,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),xU=(function(){function n(e,t,r,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ju(U6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),TU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,To),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<r.length;++u)if(r[u]=a,o<t.length&&t[o]==u){++o,r[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),CU=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},n.prototype.encode=function(e,t){var r,a,o,u,c,f,d,g,w,A,b,M,U,j,B;for(a in r=O6.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},B=r.charMap)b[(f=B[a]).old]=f.new;for(M in A=r.maxGlyphID,u)M in b||(b[M]=A++);return g=(function(K){var G,X;for(G in X={},K)X[K[G]]=G;return X})(b),w=Object.keys(g).sort(function(K,G){return K-G}),U=(function(){var K,G,X;for(X=[],K=0,G=w.length;K<G;K++)c=w[K],X.push(g[c]);return X})(),o=this.font.glyf.encode(u,U,b),d=this.font.loca.encode(o.offsets,U),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n})();qt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();const RU=()=>{const{projectId:n}=Vc(),[e,t]=ye.useState(null),[r,a]=ye.useState([]),[o,u]=ye.useState(!1),[c,f]=ye.useState(new Set),[d,g]=ye.useState(new Set),[w,A]=ye.useState(new Set),[b,M]=ye.useState(""),[U,j]=ye.useState(""),[B,K]=ye.useState(""),[G,X]=ye.useState(null),[me,fe]=ye.useState(new Set),[I,k]=ye.useState({}),[C,F]=ye.useState(!1),[T,L]=ye.useState("3x5"),[D,ne]=ye.useState(!1);ye.useEffect(()=>{(async()=>{try{u(!0);const Pe=await kg(n);t(Pe);const Ke=await fetch("/data/assets.json");if(!Ke.ok)throw new Error("Failed to load assets");const $e=await Ke.json();a($e.assets||[])}catch(Pe){console.error("Error loading data:",Pe)}finally{u(!1)}})()},[n]);const Ee=[...new Set(r.map(pe=>pe.category).filter(Boolean))].sort(),ie=[...new Set(r.map(pe=>pe.level).filter(Boolean))].sort(),ve=[...new Set(r.map(pe=>pe.room).filter(Boolean))].sort(),ue=(pe,Pe)=>r.filter(Ke=>Ke[pe]===Pe).length,xe=r.filter(pe=>!(c.size>0&&!c.has(pe.category)||d.size>0&&!d.has(pe.level)||w.size>0&&!w.has(pe.room)));ye.useEffect(()=>{const pe=async()=>{const Pe={};for(const Ke of me){const $e=`${window.location.origin}/projects/${n}/asset-portal?asset=${Ke}`;try{const it=await VM.toDataURL($e,{width:300,margin:2,color:{dark:"#0f172a",light:"#ffffff"}});Pe[Ke]=it}catch(it){console.error(`Error generating QR for ${Ke}:`,it)}}k(Pe)};me.size>0?pe():k({})},[me,n]);const Fe=pe=>{const Pe=new Set(me);Pe.has(pe)?Pe.delete(pe):Pe.add(pe),fe(Pe)},Z=()=>{fe(new Set(xe.map(pe=>pe.assetId)))},V=()=>{const pe=xe.slice(0,50).map(Pe=>Pe.assetId);fe(new Set(pe))},W=()=>{fe(new Set)},ee=(pe,Pe,Ke)=>{const $e=new Set(pe);$e.has(Ke)?$e.delete(Ke):$e.add(Ke),Pe($e)},le=()=>{f(new Set),g(new Set),A(new Set)},he=async()=>{F(!0);try{const pe=(await Cp(async()=>{const{default:it}=await import("./jszip.min-CQBTW-St.js").then(dt=>dt.j);return{default:it}},[])).default,Pe=new pe;for(const[it,dt]of Object.entries(I)){const at=await(await fetch(dt)).blob();Pe.file(`QR_${it}.png`,at)}const Ke=await Pe.generateAsync({type:"blob"}),$e=document.createElement("a");$e.download=`QR_Codes_${e?.name||"Facility"}.zip`,$e.href=URL.createObjectURL(Ke),$e.click(),URL.revokeObjectURL($e.href)}catch(pe){console.error("Error creating zip:",pe)}finally{F(!1)}},be=async()=>{F(!0);try{const pe=new qt,[Pe,Ke]=T.split("x").map(Number),$e=40,dt=$e+15,re=10,at=210,en=297,wt=(at-2*re)/Pe,Be=Array.from(me);let ht=0;for(;ht<Be.length;){ht>0&&pe.addPage();for(let ft=0;ft<Ke&&ht<Be.length;ft++)for(let Rt=0;Rt<Pe&&ht<Be.length;Rt++){const Tt=Be[ht],Ht=r.find(Kt=>Kt.assetId===Tt),tn=I[Tt];if(tn){const Kt=re+Rt*wt+(wt-$e)/2,sn=re+ft*dt;pe.addImage(tn,"PNG",Kt,sn,$e,$e),pe.setFontSize(10),pe.setFont("helvetica","bold"),pe.text(Tt,re+Rt*wt+wt/2,sn+$e+5,{align:"center"}),pe.setFontSize(7),pe.setFont("helvetica","normal");const Ft=`${Ht?.level||""} ${Ht?.room||""}`.trim();Ft&&pe.text(Ft,re+Rt*wt+wt/2,sn+$e+10,{align:"center",maxWidth:wt-4})}ht++}}pe.save(`QR_Grid_${e?.name||"Facility"}.pdf`)}catch(pe){console.error("Error generating PDF:",pe),alert("Error generating PDF. Please try again.")}finally{F(!1)}},Re=({label:pe,options:Pe,activeFilters:Ke,setActiveFilters:$e,search:it,setSearch:dt,filterKey:re})=>{const at=G===pe,en=Ke.size,wt=Pe.filter(Be=>Be.toLowerCase().includes(it.toLowerCase()));return x.createElement("div",{className:"relative"},x.createElement("button",{onClick:()=>X(at?null:pe),className:`inline-flex items-center gap-2 px-4 py-2.5 border rounded-lg text-sm transition-all ${en>0?"border-aptitude-cyan bg-aptitude-cyan/5 text-gray-900":"border-gray-200 bg-white text-gray-700 hover:border-aptitude-cyan"}`},x.createElement("span",{className:"font-medium"},pe),en>0&&x.createElement("span",{className:"px-2 py-0.5 bg-aptitude-cyan text-white text-xs rounded-full font-semibold"},en),x.createElement(BS,{className:`w-4 h-4 transition-transform ${at?"rotate-180":""}`})),at&&x.createElement(x.Fragment,null,x.createElement("div",{className:"fixed inset-0 z-40",onClick:()=>X(null)}),x.createElement("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 min-w-[240px] max-w-[300px]"},x.createElement("input",{type:"text",value:it,onChange:Be=>dt(Be.target.value),placeholder:"Search...",className:"w-full px-3 py-2 border-b border-gray-200 text-sm focus:outline-none rounded-t-xl",onClick:Be=>Be.stopPropagation()}),x.createElement("div",{className:"flex gap-2 px-3 py-2 border-b border-gray-200 bg-gray-50"},x.createElement("button",{onClick:Be=>{Be.stopPropagation(),$e(new Set(Pe))},className:"px-2 py-1 text-xs bg-white hover:bg-aptitude-cyan hover:text-white rounded transition-colors"},"Select All"),x.createElement("button",{onClick:Be=>{Be.stopPropagation(),$e(new Set)},className:"px-2 py-1 text-xs bg-white hover:bg-aptitude-cyan hover:text-white rounded transition-colors"},"Clear")),x.createElement("div",{className:"max-h-64 overflow-y-auto py-1"},wt.map(Be=>{const ht=ue(re,Be);return x.createElement("label",{key:Be,className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:ft=>ft.stopPropagation()},x.createElement("input",{type:"checkbox",checked:Ke.has(Be),onChange:()=>ee(Ke,$e,Be),className:"w-4 h-4 text-aptitude-cyan focus:ring-aptitude-cyan flex-shrink-0"}),x.createElement("span",{className:"flex-1 overflow-hidden text-ellipsis whitespace-nowrap"},Be),x.createElement("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded flex-shrink-0"},ht))})))))};return o?x.createElement("div",{className:"flex items-center justify-center h-full"},x.createElement("div",{className:"flex flex-col items-center gap-4"},x.createElement("div",{className:"w-12 h-12 border-4 border-aptitude-cyan border-t-transparent rounded-full animate-spin"}),x.createElement("div",{className:"text-aptitude-cyan text-xl font-semibold"},"Loading Assets..."))):x.createElement("div",null,x.createElement("div",{className:"bg-gradient-to-br from-aptitude-navy via-aptitude-navy to-aptitude-navy/90 px-8 py-12 -mx-8 -mt-8 mb-8 rounded-b-3xl relative overflow-hidden"},x.createElement("div",{className:"absolute inset-0 opacity-10"},x.createElement("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20% 40%, rgba(20, 184, 166, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 60%, rgba(245, 158, 11, 0.2) 0%, transparent 50%)"}})),x.createElement("div",{className:"relative z-10 max-w-4xl mx-auto text-center"},x.createElement("div",{className:"inline-block px-4 py-1.5 bg-white/10 backdrop-blur-sm border border-white/10 rounded-full text-aptitude-cyan text-xs font-semibold uppercase tracking-wide mb-4"},"Asset QR Codes"),x.createElement("h1",{className:"text-4xl font-bold text-white mb-3"},"QR Code Generator"),x.createElement("p",{className:"text-gray-300 text-lg"},e?.name||"Facility"," - Generate and download QR codes for asset tracking"))),x.createElement("div",{className:"max-w-6xl mx-auto"},x.createElement("div",{className:"mb-6 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2"},x.createElement("div",{className:"w-5 h-5 bg-green-500 rounded flex items-center justify-center flex-shrink-0"},x.createElement("span",{className:"text-white text-xs"},"")),x.createElement("span",{className:"text-sm text-green-800 font-medium"},"Loaded ",r.length," assets (Last updated: ",new Date().toLocaleDateString(),")")),x.createElement("div",{className:"mb-6 flex items-center gap-3 flex-wrap"},x.createElement(Re,{label:"Category",options:Ee,activeFilters:c,setActiveFilters:f,search:b,setSearch:M,filterKey:"category"}),x.createElement(Re,{label:"Level",options:ie,activeFilters:d,setActiveFilters:g,search:U,setSearch:j,filterKey:"level"}),x.createElement(Re,{label:"Room",options:ve,activeFilters:w,setActiveFilters:A,search:B,setSearch:K,filterKey:"room"}),(c.size>0||d.size>0||w.size>0)&&x.createElement("button",{onClick:le,className:"px-4 py-2.5 border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-100 transition-colors"},"Clear All Filters")),x.createElement("div",{className:"text-sm text-gray-500 mb-4"},"Showing all ",xe.length," assets"),xe.length>0&&x.createElement("div",{className:"mb-6 flex items-center gap-3 flex-wrap"},me.size>0&&x.createElement("span",{className:"px-3 py-1.5 bg-aptitude-cyan text-white rounded-lg text-sm font-semibold"},me.size," selected"),x.createElement("button",{onClick:V,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 rounded-lg transition-colors"},"Select Visible"),x.createElement("button",{onClick:Z,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 rounded-lg transition-colors"},"Select All"),x.createElement("button",{onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},"Deselect All")),me.size>0&&x.createElement("div",{className:"mb-6 p-6 bg-aptitude-cyan text-white rounded-xl"},x.createElement("h3",{className:"text-xl font-bold mb-4 text-center"},"Generate QR Codes for Selected Assets"),x.createElement("div",{className:"flex items-center justify-center gap-3 flex-wrap mb-6"},x.createElement("button",{onClick:he,disabled:C,className:"px-6 py-3 bg-aptitude-navy hover:bg-aptitude-navy/90 text-white font-semibold rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2"},C?x.createElement(x.Fragment,null,x.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."):x.createElement(x.Fragment,null," Download ZIP")),x.createElement("button",{onClick:()=>ne(!D),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors flex items-center gap-2"},x.createElement(TD,{className:"w-4 h-4"}),"Download PDF Grid")),D&&x.createElement("div",{className:"p-4 bg-white/10 backdrop-blur-sm rounded-lg"},x.createElement("div",{className:"flex items-center gap-4 mb-4"},x.createElement("label",{className:"text-sm font-medium"},"Grid Size:"),x.createElement("select",{value:T,onChange:pe=>L(pe.target.value),className:"px-3 py-2 bg-white text-gray-900 rounded-lg text-sm font-medium"},x.createElement("option",{value:"3x5"},"3  5 (15 per page)"),x.createElement("option",{value:"4x6"},"4  6 (24 per page)"),x.createElement("option",{value:"2x4"},"2  4 (8 per page)")),x.createElement("button",{onClick:be,disabled:C,className:"ml-auto px-6 py-2 bg-white text-red-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50"},C?"Generating...":"Generate PDF")),x.createElement("p",{className:"text-xs text-white/80"},"PDF will contain ",me.size," QR codes in a ",T.replace("x","  ")," grid layout"))),xe.length>0?x.createElement("div",{className:"space-y-3"},xe.map(pe=>{const Pe=me.has(pe.assetId);return x.createElement("div",{key:pe.assetId,onClick:()=>Fe(pe.assetId),className:`p-4 border-l-4 cursor-pointer transition-all ${Pe?"border-l-aptitude-cyan bg-aptitude-cyan/5":"border-l-transparent bg-white hover:bg-gray-50"} border border-gray-200 rounded-lg`},x.createElement("div",{className:"flex items-start gap-4"},x.createElement("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${Pe?"bg-aptitude-cyan border-aptitude-cyan":"border-gray-300"}`},Pe&&x.createElement("span",{className:"text-white text-xs"},"")),x.createElement("div",{className:"flex-1 min-w-0"},x.createElement("div",{className:"font-semibold text-gray-900 mb-2"},pe.assetId),x.createElement("div",{className:"flex flex-wrap gap-2 text-xs"},x.createElement("span",{className:"px-2 py-1 bg-aptitude-cyan/10 text-aptitude-cyan rounded font-medium"},pe.category||"N/A"),pe.level&&x.createElement("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded"}," ",pe.level),pe.room&&x.createElement("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded"},pe.room))),pe.assetUrl&&x.createElement("a",{href:pe.assetUrl,target:"_blank",rel:"noopener noreferrer",onClick:Ke=>Ke.stopPropagation(),className:"text-xs text-aptitude-cyan hover:underline flex items-center gap-1"}," Tandem Link")))})):x.createElement("div",{className:"text-center py-20 text-gray-500"},x.createElement("p",{className:"text-lg"},"No assets match your filters"),x.createElement("button",{onClick:le,className:"mt-4 px-6 py-2 bg-aptitude-cyan text-white rounded-lg hover:bg-aptitude-cyan-dark transition-colors"},"Clear Filters"))))},IU=()=>{const{projectId:n}=Vc(),e=ZD.find(u=>u.id===n),[t,r]=ye.useState("profile"),a=[{id:"profile",name:"Profile",icon:FS},{id:"notifications",name:"Notifications",icon:hD},{id:"security",name:"Security",icon:PD}],o=[{id:"general",name:"General",icon:mD},{id:"team",name:"Team Members",icon:WD},{id:"integrations",name:"Integrations",icon:FD},{id:"tandem",name:"Autodesk Tandem",icon:gD}];return x.createElement("div",{className:"max-w-7xl mx-auto"},x.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-8"},"Settings"),x.createElement("div",{className:"grid grid-cols-12 gap-8"},x.createElement("div",{className:"col-span-3"},x.createElement(Br,{className:"p-5"},x.createElement("div",{className:"mb-6"},x.createElement("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3"},"User Settings"),a.map(u=>{const c=u.icon;return x.createElement("button",{key:u.id,onClick:()=>r(u.id),className:`
                      w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1
                      transition-colors text-sm font-medium
                      ${t===u.id?"bg-aptitude-cyan/10 text-aptitude-cyan":"text-gray-700 hover:bg-gray-50"}
                    `},x.createElement(c,{className:"w-4 h-4"}),u.name)})),x.createElement("div",null,x.createElement("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3"},"Project Settings"),o.map(u=>{const c=u.icon;return x.createElement("button",{key:u.id,onClick:()=>r(u.id),className:`
                      w-full flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1
                      transition-colors text-sm font-medium
                      ${t===u.id?"bg-aptitude-cyan/10 text-aptitude-cyan":"text-gray-700 hover:bg-gray-50"}
                    `},x.createElement(c,{className:"w-4 h-4"}),u.name)})))),x.createElement("div",{className:"col-span-9"},x.createElement(Br,{className:"p-8"},t==="profile"&&x.createElement("div",null,x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Profile Settings"),x.createElement("p",{className:"text-gray-600 mb-8"},"Update your personal information and preferences."),x.createElement("div",{className:"space-y-6"},x.createElement(qa,{label:"Full Name",defaultValue:g0.name,required:!0}),x.createElement(qa,{label:"Email Address",type:"email",defaultValue:g0.email,required:!0}),x.createElement(qa,{label:"Role",defaultValue:g0.role,disabled:!0}),x.createElement("div",{className:"pt-4"},x.createElement(zl,{variant:"primary"},"Save Changes")))),t==="general"&&x.createElement("div",null,x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Project Settings"),x.createElement("p",{className:"text-gray-600 mb-8"},"Configure settings for the current project."),x.createElement("div",{className:"space-y-6"},x.createElement(qa,{label:"Project Name",defaultValue:e?.name,required:!0}),x.createElement(qa,{label:"Facility Type",defaultValue:e?.type}),x.createElement("div",{className:"pt-4"},x.createElement(zl,{variant:"primary"},"Update Project")))),t==="tandem"&&x.createElement("div",null,x.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-2"},"Autodesk Tandem Connection"),x.createElement("p",{className:"text-gray-600 mb-8"},"Manage your connection to Autodesk Tandem for 3D facility visualization."),x.createElement("div",{className:"bg-aptitude-cyan/5 border border-aptitude-cyan/20 rounded-lg p-6 mb-6"},x.createElement("div",{className:"flex items-center gap-3"},x.createElement("div",{className:"w-10 h-10 bg-aptitude-cyan rounded-lg flex items-center justify-center"},x.createElement("span",{className:"text-white text-xl"},"")),x.createElement("div",null,x.createElement("div",{className:"font-semibold text-aptitude-cyan"},"Connected"),x.createElement("div",{className:"text-sm text-gray-600"},"Facility URN: ",e?.facilityUrn)))),x.createElement("div",{className:"space-y-6"},x.createElement(qa,{label:"Cloud ID",defaultValue:"a360-12345",disabled:!0}),x.createElement("div",{className:"pt-4"},x.createElement(zl,{variant:"secondary"},"Reconnect to Tandem")))),!["profile","general","tandem"].includes(t)&&x.createElement("div",{className:"text-center py-12"},x.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},t.charAt(0).toUpperCase()+t.slice(1)),x.createElement("p",{className:"text-gray-600"},"This section will be implemented soon."))))))},LU=mC([{path:"/login",element:x.createElement(oM,null)},{path:"/signup",element:x.createElement(lM,null)},{path:"/",element:x.createElement(sM,null,x.createElement(aM,null)),children:[{index:!0,element:x.createElement(cM,null)},{path:"projects/:projectId",element:x.createElement(hM,null)},{path:"projects/:projectId/digital-twin",element:x.createElement(fM,null)},{path:"projects/:projectId/asset-portal",element:x.createElement(dM,null)},{path:"projects/:projectId/qr-generator",element:x.createElement(RU,null)},{path:"projects/:projectId/admin",element:x.createElement(IU,null)},{path:"*",element:x.createElement(X4,{to:"/",replace:!0})}]}],{basename:"/app"});function kU(){return x.createElement(tD,null,x.createElement(xC,{router:LU}))}ZN.createRoot(document.getElementById("root")).render(x.createElement(ye.StrictMode,null,x.createElement(kU,null)));export{vr as _,PU as c,A4 as g};
